"use strict";(self.webpackChunkacacia_p3=self.webpackChunkacacia_p3||[]).push([[192],{7192:(Et,O,i)=>{i.r(O),i.d(O,{PropertyModule:()=>Tt});var c=i(6895),A=i(9299),n=i(4006),P=i(8314),u=i(3151),s=i(4004),v=i(9195),R=i(7802),h=i(2026),g=i(8522),t=i(4650),d=i(3848),I=i(8112);let D=(()=>{class o{constructor(r){this.xhrService=r}getDocumentTypes(){return this.xhrService.call({url:"api/PropertyDocumentType/Get",method:d.n.get,body:{}}).pipe((0,s.U)(r=>r))}getPropertyLookup(r){return this.xhrService.call({url:`api/${r}/Get`,method:d.n.get,body:{}}).pipe((0,s.U)(e=>e))}getCityAreas(r){return this.xhrService.call({url:`api/Area/GetCityAreas/${r}`,method:d.n.get,body:{}}).pipe((0,s.U)(e=>e))}getAreaDistricts(r){return this.xhrService.call({url:`api/District/GetAreaDistricts/${r}`,method:d.n.get,body:{}}).pipe((0,s.U)(e=>e))}createRealEstate(r){return this.xhrService.call({url:"api/RealEstate/Create",method:d.n.post,body:r}).pipe((0,s.U)(e=>e))}editRealEstate(r){return this.xhrService.call({url:"api/RealEstate/Update",method:d.n.put,body:r}).pipe((0,s.U)(e=>e))}getRealEstates(r){return this.xhrService.call({url:"api/RealEstate/Get",method:d.n.post,body:r}).pipe((0,s.U)(e=>e))}getRealEstateById(r){return this.xhrService.call({url:`/api/RealEstate/Get/${r}`,method:d.n.get,body:{}}).pipe((0,s.U)(e=>e))}deleteProperty(r){return this.xhrService.call({url:`/api/RealEstate/Delete?id=${r}`,method:d.n.delete,body:{}}).pipe((0,s.U)(e=>e))}deleteUnit(r){return this.xhrService.call({url:`api/Property/Delete/${r}`,method:d.n.delete,body:{}}).pipe((0,s.U)(e=>e))}}return o.\u0275fac=function(r){return new(r||o)(t.LFG(I.d))},o.\u0275prov=t.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})(),y=(()=>{class o{constructor(r){this.propertyService=r}getDocumentTypes(){return this.propertyService.getDocumentTypes().pipe((0,s.U)(r=>r))}getPropertyLookup(r){return this.propertyService.getPropertyLookup(r).pipe((0,s.U)(e=>e))}getCityAreas(r){return this.propertyService.getCityAreas(r).pipe((0,s.U)(e=>e))}getAreaDistricts(r){return this.propertyService.getAreaDistricts(r).pipe((0,s.U)(e=>e))}createRealEstate(r){return this.propertyService.createRealEstate(r).pipe((0,s.U)(e=>e))}getRealEstates(r){return this.propertyService.getRealEstates(r).pipe((0,s.U)(e=>e))}editRealEstate(r){return this.propertyService.editRealEstate(r).pipe((0,s.U)(e=>e))}deleteProperty(r){return this.propertyService.deleteProperty(r).pipe((0,s.U)(e=>e))}deleteUnit(r){return this.propertyService.deleteUnit(r).pipe((0,s.U)(e=>e))}getRealEstateDetails(r){return this.propertyService.getRealEstateById(r).pipe((0,s.U)(e=>e))}getRealEstateById(r){return this.propertyService.getRealEstateById(r).pipe((0,s.U)(e=>({propertyDocument:{documentTypeId:e.propertyDocument.propertyDocumentTypeId,documentNumber:e.propertyDocument.documentNumber,releaseDate:e.propertyDocument.releaseDate,attachment:e.propertyDocument.attachment,id:e.propertyDocument.id},owner:{name:e.name,ownerNationalId:e.realEstateOwner.ownerNationalId,ownerBirthDay:e.realEstateOwner.ownerBirthDay,districtId:e.realEstateOwner.districtId,id:e.realEstateOwner.id,city:e.realEstateOwner.cityId,area:e.realEstateOwner.areaId},realEstateDetails:{name:e.name,realEstateNumber:e.realEstateNumber,numOfFloors:e.numOfFloors,numOfProperty:e.numOfProperty,address:e.address,buildingNumber:e.buildingNumber,addationalNumber:e.addationalNumber,buildDate:e.buildDate,realEstateTypeId:e.realEstateType.id,realEstateUseId:e.realEstateUse.id,id:e.id},properties:e.properties,realEstateAttachments:e.attachments})))}}return o.\u0275fac=function(r){return new(r||o)(t.LFG(D))},o.\u0275prov=t.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();var f=i(629),b=i(2289),L=i(5412),N=i(6892),S=i(5958),C=i(8425),E=i(8952),Y=i(3496),x=i(8412),M=i(8593),Z=i(9383);function F(o,l){if(1&o&&t._UZ(0,"locale-date-picker",31),2&o){const r=t.oxw();t.Q6J("label","PROPERTY.ISSUING_DATE")("FormControl",r.formControl("propertyDocument","releaseDate"))("isArabicDatePicker",!0)}}function J(o,l){if(1&o&&t._UZ(0,"locale-date-picker",31),2&o){const r=t.oxw();t.Q6J("label","PROPERTY.ISSUING_DATE")("FormControl",r.formControl("propertyDocument","releaseDate"))("isArabicDatePicker",!1)}}function B(o,l){if(1&o&&t._UZ(0,"locale-date-picker",31),2&o){const r=t.oxw();t.Q6J("label","LABELS.FORM.DATE_OF_BIRTH")("FormControl",r.formControl("owner","ownerBirthDay"))("isArabicDatePicker",!0)}}function k(o,l){if(1&o&&t._UZ(0,"locale-date-picker",31),2&o){const r=t.oxw();t.Q6J("label","LABELS.FORM.DATE_OF_BIRTH")("FormControl",r.formControl("owner","ownerBirthDay"))("isArabicDatePicker",!1)}}function w(o,l){if(1&o&&t._UZ(0,"locale-date-picker",31),2&o){const r=t.oxw();t.Q6J("label","PROPERTY.BUILD_DATE")("FormControl",r.formControl("realEstateDetails","buildDate"))("isArabicDatePicker",!0)}}function Q(o,l){if(1&o&&t._UZ(0,"locale-date-picker",31),2&o){const r=t.oxw();t.Q6J("label","PROPERTY.BUILD_DATE")("FormControl",r.formControl("realEstateDetails","buildDate"))("isArabicDatePicker",!1)}}function G(o,l){if(1&o){const r=t.EpF();t.TgZ(0,"span",38),t.NdJ("click",function(){t.CHM(r);const a=t.oxw().index,p=t.oxw();return t.KtG(p.handleRemoveUnit(a,p.formArrayControl(a,"id").value))}),t._UZ(1,"i",39),t.qZA()}}function $(o,l){if(1&o&&t._UZ(0,"locale-date-picker",31),2&o){const r=t.oxw().index,e=t.oxw();t.Q6J("label","PROPERTY.BUILD_DATE")("FormControl",e.formArrayControl(r,"buildDate"))("isArabicDatePicker",!0)}}function X(o,l){if(1&o&&t._UZ(0,"locale-date-picker",31),2&o){const r=t.oxw().index,e=t.oxw();t.Q6J("label","PROPERTY.BUILD_DATE")("FormControl",e.formArrayControl(r,"buildDate"))("isArabicDatePicker",!1)}}function H(o,l){if(1&o&&(t.TgZ(0,"div",10),t._UZ(1,"form-input",12),t.qZA()),2&o){const r=t.oxw().index,e=t.oxw();t.xp6(1),t.Q6J("label","PROPERTY.UNIT_FINISHING")("type",e.InputTypes.TEXT)("FormControl",e.formArrayControl(r,"furnishedType"))}}const m=function(o){return{list:o,key:"id",value:"name"}};function K(o,l){if(1&o&&(t.TgZ(0,"div",32)(1,"div",33)(2,"h5"),t._uU(3),t.ALo(4,"translate"),t.qZA(),t.YNc(5,G,2,0,"span",34),t.qZA(),t.TgZ(6,"div",18)(7,"div",10),t._UZ(8,"form-input",12),t.qZA(),t.TgZ(9,"div",10),t._UZ(10,"form-input",11),t.ALo(11,"translate"),t.ALo(12,"async"),t.qZA(),t.TgZ(13,"div",10),t._UZ(14,"form-input",11),t.ALo(15,"translate"),t.ALo(16,"async"),t.qZA()(),t.TgZ(17,"div",18)(18,"div",10),t._UZ(19,"form-input",12),t.qZA(),t.TgZ(20,"div",10),t._UZ(21,"form-input",12),t.qZA(),t.TgZ(22,"div",10),t._UZ(23,"form-input",12),t.qZA()(),t.TgZ(24,"div",18)(25,"div",10),t.YNc(26,$,1,3,"locale-date-picker",13),t.YNc(27,X,1,3,"locale-date-picker",13),t.qZA(),t.TgZ(28,"div",10),t._UZ(29,"form-input",12),t.qZA()(),t.TgZ(30,"div",9)(31,"div",35),t._UZ(32,"form-input",12),t.ALo(33,"translate"),t.qZA(),t.YNc(34,H,2,3,"div",36),t.qZA(),t.TgZ(35,"h6"),t._uU(36),t.ALo(37,"translate"),t.qZA(),t.TgZ(38,"div",18)(39,"div",10),t._UZ(40,"form-input",12),t.qZA(),t.TgZ(41,"div",10),t._UZ(42,"form-input",12),t.qZA(),t.TgZ(43,"div",10),t._UZ(44,"form-input",12),t.qZA()(),t.TgZ(45,"div",18)(46,"div",10),t._UZ(47,"form-input",12),t.qZA(),t.TgZ(48,"div",10),t._UZ(49,"form-input",12),t.qZA(),t.TgZ(50,"div",10),t._UZ(51,"form-input",12),t.qZA()(),t.TgZ(52,"div",18)(53,"div",10),t._UZ(54,"form-input",12),t.qZA(),t.TgZ(55,"div",10),t._UZ(56,"form-input",12),t.qZA(),t.TgZ(57,"div",10),t._UZ(58,"form-input",12),t.qZA()(),t.TgZ(59,"div",18)(60,"div",10),t._UZ(61,"form-input",12),t.qZA(),t.TgZ(62,"div",10),t._UZ(63,"form-input",12),t.qZA()(),t.TgZ(64,"div",18)(65,"div",35),t._UZ(66,"form-input",12),t.ALo(67,"translate"),t.qZA(),t.TgZ(68,"div",35),t._UZ(69,"form-input",12),t.ALo(70,"translate"),t.qZA()(),t.TgZ(71,"h6"),t._uU(72),t.ALo(73,"translate"),t.qZA(),t.TgZ(74,"div",37)(75,"div",35),t._UZ(76,"form-input",12),t.ALo(77,"translate"),t.qZA(),t.TgZ(78,"div",35),t._UZ(79,"form-input",12),t.ALo(80,"translate"),t.qZA(),t.TgZ(81,"div",35),t._UZ(82,"form-input",12),t.ALo(83,"translate"),t.qZA()()()),2&o){const r=l.index,e=t.oxw();let a;t.Q6J("formGroupName",r),t.xp6(3),t.AsE("",t.lcZ(4,83,"PROPERTY.ADD_UNIT_DETAILS")," #",r+1,""),t.xp6(2),t.Q6J("ngIf",1!==e.properties.controls.length),t.xp6(3),t.Q6J("label","PROPERTY.UNIT_NUMBER")("type",e.InputTypes.TEXT)("FormControl",e.formArrayControl(r,"propertyNumber")),t.xp6(2),t.Q6J("label",t.lcZ(11,85,"PROPERTY.UNIT_USAGE"))("type",e.InputTypes.SELECT)("selectOptions",t.VKq(109,m,t.lcZ(12,87,e.unitUsages$)))("FormControl",e.formArrayControl(r,"propertyUseId")),t.xp6(4),t.Q6J("label",t.lcZ(15,89,"PROPERTY.UNIT_TYPE"))("type",e.InputTypes.SELECT)("selectOptions",t.VKq(111,m,t.lcZ(16,91,e.unitTypes$)))("FormControl",e.formArrayControl(r,"propertyTypeId")),t.xp6(5),t.Q6J("label","PROPERTY.FLOOR_NUMBER")("type",e.InputTypes.TEXT)("FormControl",e.formArrayControl(r,"floorNumber")),t.xp6(2),t.Q6J("label","PROPERTY.UNIT_AREA")("type",e.InputTypes.TEXT)("FormControl",e.formArrayControl(r,"area")),t.xp6(2),t.Q6J("label","PROPERTY.UNIT_FINISHING")("type",e.InputTypes.TEXT)("FormControl",e.formArrayControl(r,"propertyFinish")),t.xp6(3),t.Q6J("ngIf",e.currentLang===e.Lang.arabic),t.xp6(1),t.Q6J("ngIf",e.currentLang!==e.Lang.arabic),t.xp6(2),t.Q6J("label","PROPERTY.NUMBER_OF_ROOMS")("type",e.InputTypes.TEXT)("FormControl",e.formArrayControl(r,"roomsNo")),t.xp6(3),t.Q6J("label",t.lcZ(33,93,"PROPERTY.FURNISHED"))("type",e.InputTypes.TOGGLE)("FormControl",e.formArrayControl(r,"furnished")),t.xp6(2),t.Q6J("ngIf",null==(a=e.formArrayControl(r,"furnished"))?null:a.value),t.xp6(2),t.hij("",t.lcZ(37,95,"PROPERTY.UTILITIES"),": "),t.xp6(4),t.Q6J("label","PROPERTY.BED_ROOMS")("type",e.InputTypes.NUMBER)("FormControl",e.formArrayControl(r,"bedRoomsNo")),t.xp6(2),t.Q6J("label","PROPERTY.BATHROOMS")("type",e.InputTypes.TEXT)("FormControl",e.formArrayControl(r,"bathroomsNo")),t.xp6(2),t.Q6J("label","PROPERTY.HALL")("type",e.InputTypes.TEXT)("FormControl",e.formArrayControl(r,"hallNo")),t.xp6(3),t.Q6J("label","PROPERTY.MAID_ROOM")("type",e.InputTypes.TEXT)("FormControl",e.formArrayControl(r,"maidRoomNumber")),t.xp6(2),t.Q6J("label","PROPERTY.KITCHEN")("type",e.InputTypes.TEXT)("FormControl",e.formArrayControl(r,"kitchenNo")),t.xp6(2),t.Q6J("label","PROPERTY.STORE")("type",e.InputTypes.TEXT)("FormControl",e.formArrayControl(r,"storesNo")),t.xp6(3),t.Q6J("label","PROPERTY.BACK_YARD")("type",e.InputTypes.TEXT)("FormControl",e.formArrayControl(r,"backyardNo")),t.xp6(2),t.Q6J("label","PROPERTY.LIVING_ROOM")("type",e.InputTypes.TEXT)("FormControl",e.formArrayControl(r,"livingRoomNo")),t.xp6(2),t.Q6J("label","PROPERTY.CENTRAL_AC")("type",e.InputTypes.TEXT)("FormControl",e.formArrayControl(r,"centralAirConditionNumber")),t.xp6(3),t.Q6J("label","PROPERTY.SPLIT_AC")("type",e.InputTypes.TEXT)("FormControl",e.formArrayControl(r,"airConditionNumber")),t.xp6(2),t.Q6J("label","PROPERTY.DESERT_AC")("type",e.InputTypes.TEXT)("FormControl",e.formArrayControl(r,"desertAirConditionNumber")),t.xp6(3),t.Q6J("label",t.lcZ(67,97,"PROPERTY.DRESSING"))("type",e.InputTypes.TOGGLE)("FormControl",e.formArrayControl(r,"hasDressing")),t.xp6(3),t.Q6J("label",t.lcZ(70,99,"PROPERTY.BUILT_IN_KITCHEN"))("type",e.InputTypes.TOGGLE)("FormControl",e.formArrayControl(r,"hasKitchen")),t.xp6(3),t.hij("",t.lcZ(73,101,"PROPERTY.SERVICES"),": "),t.xp6(4),t.Q6J("label",t.lcZ(77,103,"PROPERTY.GAS"))("type",e.InputTypes.TOGGLE)("FormControl",e.formArrayControl(r,"hasGasMeter")),t.xp6(3),t.Q6J("label",t.lcZ(80,105,"PROPERTY.ELECTRICITY"))("type",e.InputTypes.TOGGLE)("FormControl",e.formArrayControl(r,"hasElectricityMeter")),t.xp6(3),t.Q6J("label",t.lcZ(83,107,"PROPERTY.WATER"))("type",e.InputTypes.TOGGLE)("FormControl",e.formArrayControl(r,"hasWaterMeter"))}}function V(o,l){if(1&o){const r=t.EpF();t.TgZ(0,"button",27),t.NdJ("click",function(){t.CHM(r);const a=t.oxw();return t.KtG(a.handleBack())}),t._uU(1),t.ALo(2,"translate"),t.qZA()}2&o&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"ACTIONS.BACK")," "))}function j(o,l){if(1&o){const r=t.EpF();t.TgZ(0,"button",40),t.NdJ("click",function(){t.CHM(r);const a=t.oxw();return t.KtG(a.handleNext())}),t._uU(1),t.ALo(2,"translate"),t.qZA()}2&o&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"ACTIONS.NEXT")," "))}const W=function(o){return{"mt-5":o}};let U=(()=>{class o{constructor(r,e,a,p,T,mt,At,Zt,gt){this.fb=r,this.propertyLogicService=e,this.translationService=a,this.dialog=T,this.toastrService=mt,this.activatedRoute=At,this.router=Zt,this.attchmentsService=gt,this.selectedIndex=0,this.allowedTypes=["pdf","png","jpeg","tiff"],this.subs=new v.t,this.editMode=!1,this.oldDocumentAttachments=[],this.oldAttachments=[],this.realEstateAttachments=[],this.addEditProperty=this.fb.group({propertyDocument:this.fb.group({documentTypeId:[null,[n.kI.required]],documentNumber:["",[n.kI.required]],releaseDate:["",[n.kI.required]],attachment:["",[n.kI.required]],id:[null]}),owner:this.fb.group({name:["",[n.kI.required]],ownerNationalId:[null,[n.kI.required]],ownerBirthDay:["",[n.kI.required]],districtId:["",[n.kI.required]],city:[""],area:[""],id:[null]}),realEstateDetails:this.fb.group({name:["",[n.kI.required]],realEstateNumber:["",[n.kI.required]],numOfFloors:[null,[n.kI.required]],numOfProperty:[null,[n.kI.required]],address:["",[n.kI.required]],buildingNumber:["",[n.kI.required]],addationalNumber:["",[n.kI.required]],buildDate:["",[n.kI.required]],realEstateTypeId:[null,[n.kI.required]],realEstateUseId:[null,[n.kI.required]],id:[null]}),properties:this.fb.array([this.handelCreateUnit()])}),this.stepperOrientation=p.observe("(min-width: 800px)").pipe((0,s.U)(({matches:yt})=>yt?"horizontal":"vertical"))}ngOnInit(){this.realestateId=+this.activatedRoute.snapshot.params.id,this.editMode=!!this.realestateId,this.subs.add=this.translationService.currentLanguage$.subscribe(r=>{this.currentLang=r,this.propertyTypes$=this.propertyLogicService.getPropertyLookup("RealEstateType").pipe((0,u.d)(1)),this.propertyUsageTypes$=this.propertyLogicService.getPropertyLookup("RealEstateUse").pipe((0,u.d)(1)),this.documentTypes$=this.propertyLogicService.getDocumentTypes().pipe((0,u.d)(1)),this.cities$=this.propertyLogicService.getPropertyLookup("city").pipe((0,u.d)(1)),this.unitUsages$=this.propertyLogicService.getPropertyLookup("PropertyUse").pipe((0,u.d)(1)),this.unitTypes$=this.propertyLogicService.getPropertyLookup("PropertyType").pipe((0,u.d)(1))}),this.realestateId&&this.getRealEstateInfo()}onLogoChange(r){this.attachment={};const e=new FormData,a=r[0];e.append("Attachment",a,a.name),this.attachment=e,this.attchmentsService.uploadAttachments(this.attachment).subscribe(p=>{this.addEditProperty.get("propertyDocument")?.get("attachment")?.patchValue(p.fileName)})}getRealEstateInfo(){this.propertyLogicService.getRealEstateById(this.realestateId).subscribe(r=>{this.addEditProperty.patchValue(r),this.oldDocumentAttachments.push(r.propertyDocument.attachment),r.realEstateAttachments?.map(e=>{this.realEstateAttachments.push(e.attachment)}),this.oldAttachments=r.realEstateAttachments,this.areas$=this.propertyLogicService.getCityAreas(r.owner.city).pipe((0,u.d)(1)),this.districts$=this.propertyLogicService.getAreaDistricts(r.owner.area).pipe((0,u.d)(1))})}onAttachmentsChange(r){this.realEstateAttachments=[];const e=new FormData;for(let a=0;a<r.length;a++){this.attachment={};const p=r[a];e.append("Attachment",p,p.name),this.attachment=e,this.attchmentsService.uploadAttachments(this.attachment).subscribe(T=>{this.realEstateAttachments.push(T.fileName)})}}onCityChange(r){this.formControl("owner","area").reset(),this.formControl("owner","districtId").reset(),this.areas$=this.propertyLogicService.getCityAreas(r.event.value).pipe((0,u.d)(1))}onDistrictChange(r){this.formControl("owner","districtId").reset(),this.districts$=this.propertyLogicService.getAreaDistricts(r.event.value).pipe((0,u.d)(1))}onSelection(r){this.selectedIndex=r.selectedIndex}get properties(){return this.addEditProperty.get("properties")}handelCreateUnit(){return this.fb.group({id:[null],propertyNumber:["",[n.kI.required]],propertyTypeId:["",[n.kI.required]],propertyUseId:["",[n.kI.required]],floorNumber:["",[n.kI.required]],area:["",[n.kI.required]],buildDate:["",[n.kI.required]],propertyFinish:["",[n.kI.required]],roomsNo:[null,[n.kI.required]],furnished:[!1,[n.kI.required]],furnishedType:[""],hasDressing:[!1,[n.kI.required]],hasKitchen:[!1,[n.kI.required]],hasGasMeter:[!1,[n.kI.required]],hasElectricityMeter:[!1,[n.kI.required]],hasWaterMeter:[!1,[n.kI.required]],bedRoomsNo:[null,[n.kI.required]],bathroomsNo:[null,[n.kI.required]],hallNo:[null,[n.kI.required]],maidRoomNumber:[null,[n.kI.required]],kitchenNo:[null,[n.kI.required]],storesNo:[null,[n.kI.required]],backyardNo:[null,[n.kI.required]],livingRoomNo:[null,[n.kI.required]],centralAirConditionNumber:[null,[n.kI.required]],airConditionNumber:[null,[n.kI.required]],desertAirConditionNumber:[null,[n.kI.required]]})}handleAddUnit(){this.properties.push(this.handelCreateUnit())}handleRemoveUnit(r,e){return this.dialog.open(h.$,{maxWidth:"550px",minWidth:"500px",data:{title:"ACTIONS.DELETE_UNIT",message:"LABELS.FORM.ARE_YOU_SURE",actionLabel:"ACTIONS.DELETE",itemIndex:r+1}}).afterClosed().subscribe(T=>{if(!T)return T;" "===e?this.properties.removeAt(r):this.onDeleteUnit(r,e)})}onDeleteUnit(r,e){this.properties.removeAt(r),this.propertyLogicService.deleteUnit(e).subscribe(a=>{this.properties.removeAt(r)})}handleNext(){this.selectedIndex<5&&this.selectedIndex++,console.log(this.addEditProperty)}handleBack(){this.selectedIndex>0&&this.selectedIndex--}handleCancel(){this.router.navigateByUrl("/property")}formControl(r,e){return this.addEditProperty?.get(r)?.get(e)}formArrayControl(r,e){return this.properties?.controls[r].get(e)}formGroup(r){return this.addEditProperty?.get(r)}onAddProperty(r){const e={...r.value,realEstateAttachments:this.realEstateAttachments};this.editMode?this.editRealEstate():this.propertyLogicService.createRealEstate(e).subscribe(a=>{this.toastrService.showToastr("Real Estate Created successfully",g.V.success),this.router.navigateByUrl("/property")},()=>{this.toastrService.showToastr("An error occured when executing the create statement ,try again !",g.V.error)})}editRealEstate(){const r={...this.addEditProperty.value,realEstateAttachments:this.realEstateAttachments};this.propertyLogicService.editRealEstate(r).subscribe(e=>{this.toastrService.showToastr("Real Estate Updated Successfully",g.V.success),this.router.navigateByUrl("/property")})}get InputTypes(){return P.o}get Lang(){return R.U}ngOnDestroy(){this.subs.unsubscribe()}}return o.\u0275fac=function(r){return new(r||o)(t.Y36(n.qu),t.Y36(y),t.Y36(f.D),t.Y36(b.Yg),t.Y36(L.uw),t.Y36(N._),t.Y36(A.gz),t.Y36(A.F0),t.Y36(S.o))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-add-edit-property"]],decls:124,vars:168,consts:[["RtlDir","",1,"add-edit-page"],[1,"content-container"],["autocomplete","off",3,"formGroup","ngSubmit"],["RtlDir","",1,"form-stepper",3,"orientation","selectedIndex","selectionChange"],[3,"label","stepControl"],["autocomplete","off",3,"formGroup"],[1,"tab-container"],[1,"tab-headline"],[1,"form-wrapper"],[1,"form-row"],[1,"form-control-wrapper"],[3,"label","type","selectOptions","FormControl"],[3,"label","type","FormControl"],[3,"label","FormControl","isArabicDatePicker",4,"ngIf"],["label","PROPERTY.UPLOAD_A_COPY_OF_PROPERTY_DOCUMENT","canAccept","application/pdf,image/png,image/jpeg,image/tiff\n                            ",3,"singleFile","formGroup","formControl","editMode","oldAttachments","allowedTypes","onAttachmentChange"],[1,"form-wrapper","mt-5"],[3,"label","type","selectOptions","FormControl","selectedOption"],[3,"stepControl","label"],[1,"form-row","equal-columns"],["formArrayName","properties"],["class","form-wrapper mt-5 unit-wrapper",3,"formGroupName",4,"ngFor","ngForOf"],[1,"add-btn-wrapper",3,"ngClass"],[1,"ac-btn","btn-fill",3,"click"],[3,"label"],[1,"form-control-wrapper","mt-5"],["label","PROPERTY.ADD_ATTACHMENTS","canAccept","application/pdf,image/png,image/jpeg,image/tiff\n                    ",3,"singleFile","editMode","oldAttachments","allowedTypes","onAttachmentChange"],[1,"add-edit-actions","mt-1"],["type","button",1,"ac-btn","btn-outlined",3,"click"],["type","button","class","ac-btn btn-outlined",3,"click",4,"ngIf"],["type","button","class","ac-btn btn-fill",3,"click",4,"ngIf"],["type","submit",1,"ac-btn","btn-outlined",3,"disabled"],[3,"label","FormControl","isArabicDatePicker"],[1,"form-wrapper","mt-5","unit-wrapper",3,"formGroupName"],[1,"unit-title"],[3,"click",4,"ngIf"],[1,"form-toggle-wrapper"],["class","form-control-wrapper",4,"ngIf"],[1,"form-row","equal-columns","mb-1"],[3,"click"],[1,"fa-solid","fa-trash"],["type","button",1,"ac-btn","btn-fill",3,"click"]],template:function(r,e){1&r&&(t.TgZ(0,"div",0)(1,"div",1)(2,"form",2),t.NdJ("ngSubmit",function(){return e.onAddProperty(e.addEditProperty)}),t.TgZ(3,"mat-stepper",3),t.NdJ("selectionChange",function(p){return e.onSelection(p)}),t.ALo(4,"async"),t.TgZ(5,"mat-step",4),t.ALo(6,"translate"),t.TgZ(7,"form",5)(8,"div",6)(9,"h4",7),t._uU(10),t.ALo(11,"translate"),t.qZA(),t.TgZ(12,"div",8)(13,"div",9)(14,"div",10),t._UZ(15,"form-input",11),t.ALo(16,"translate"),t.ALo(17,"async"),t.qZA(),t.TgZ(18,"div",10),t._UZ(19,"form-input",12),t.qZA()(),t.TgZ(20,"div",10),t.YNc(21,F,1,3,"locale-date-picker",13),t.YNc(22,J,1,3,"locale-date-picker",13),t.qZA(),t.TgZ(23,"div",10)(24,"upload-file",14),t.NdJ("onAttachmentChange",function(p){return e.onLogoChange(p)}),t.qZA()()()()()(),t.TgZ(25,"mat-step",4),t.ALo(26,"translate"),t.TgZ(27,"form",5)(28,"div",6)(29,"h4",7),t._uU(30),t.ALo(31,"translate"),t.qZA(),t.TgZ(32,"div",15)(33,"div",9)(34,"div",10),t._UZ(35,"form-input",12),t.qZA(),t.TgZ(36,"div",10),t._UZ(37,"form-input",12),t.qZA()(),t.TgZ(38,"div",10),t.YNc(39,B,1,3,"locale-date-picker",13),t.YNc(40,k,1,3,"locale-date-picker",13),t.qZA(),t.TgZ(41,"h6"),t._uU(42),t.ALo(43,"translate"),t.qZA(),t.TgZ(44,"div",9)(45,"div",10)(46,"form-input",16),t.NdJ("selectedOption",function(p){return e.onCityChange(p)}),t.ALo(47,"translate"),t.ALo(48,"async"),t.qZA()(),t.TgZ(49,"div",10)(50,"form-input",16),t.NdJ("selectedOption",function(p){return e.onDistrictChange(p)}),t.ALo(51,"translate"),t.ALo(52,"async"),t.qZA()(),t.TgZ(53,"div",10),t._UZ(54,"form-input",11),t.ALo(55,"translate"),t.ALo(56,"async"),t.qZA()()()()()(),t.TgZ(57,"mat-step",17),t.ALo(58,"translate"),t.TgZ(59,"form",5)(60,"div",6)(61,"h4",7),t._uU(62),t.ALo(63,"translate"),t.qZA(),t.TgZ(64,"div",15)(65,"div",18)(66,"div",10),t._UZ(67,"form-input",11),t.ALo(68,"translate"),t.ALo(69,"async"),t.qZA(),t.TgZ(70,"div",10),t._UZ(71,"form-input",11),t.ALo(72,"translate"),t.ALo(73,"async"),t.qZA(),t.TgZ(74,"div",10),t.YNc(75,w,1,3,"locale-date-picker",13),t.YNc(76,Q,1,3,"locale-date-picker",13),t.qZA()(),t.TgZ(77,"div",18)(78,"div",10),t._UZ(79,"form-input",12),t.qZA(),t.TgZ(80,"div",10),t._UZ(81,"form-input",12),t.qZA(),t.TgZ(82,"div",10),t._UZ(83,"form-input",12),t.qZA()(),t.TgZ(84,"div",18)(85,"div",10),t._UZ(86,"form-input",12),t.qZA(),t.TgZ(87,"div",10),t._UZ(88,"form-input",12),t.qZA(),t.TgZ(89,"div",10),t._UZ(90,"form-input",12),t.qZA()(),t.TgZ(91,"div",10),t._UZ(92,"form-input",12),t.qZA()()()()(),t.TgZ(93,"mat-step",17),t.ALo(94,"translate"),t.TgZ(95,"form",5)(96,"div",19)(97,"div",6)(98,"h4",7),t._uU(99),t.ALo(100,"translate"),t.qZA(),t.YNc(101,K,84,113,"div",20),t.TgZ(102,"div",21)(103,"button",22),t.NdJ("click",function(){return e.handleAddUnit()}),t._uU(104),t.ALo(105,"translate"),t.qZA()()()()()(),t.TgZ(106,"mat-step",23),t.ALo(107,"translate"),t.TgZ(108,"div",6)(109,"h4",7),t._uU(110),t.ALo(111,"translate"),t.qZA(),t.TgZ(112,"div",24)(113,"upload-file",25),t.NdJ("onAttachmentChange",function(p){return e.onAttachmentsChange(p)}),t.qZA()()()()(),t.TgZ(114,"div",26)(115,"div")(116,"button",27),t.NdJ("click",function(){return e.handleCancel()}),t._uU(117),t.ALo(118,"translate"),t.qZA(),t.YNc(119,V,3,3,"button",28),t.YNc(120,j,3,3,"button",29),t.TgZ(121,"button",30),t._uU(122),t.ALo(123,"translate"),t.qZA()()()()()()),2&r&&(t.xp6(2),t.Q6J("formGroup",e.addEditProperty),t.xp6(1),t.Q6J("orientation",t.lcZ(4,100,e.stepperOrientation))("selectedIndex",e.selectedIndex),t.xp6(2),t.Q6J("label",t.lcZ(6,102,"PROPERTY.PROPERTY_DOCUMENTS"))("stepControl",e.formGroup("propertyDocument")),t.xp6(2),t.Q6J("formGroup",e.formGroup("propertyDocument")),t.xp6(3),t.Oqu(t.lcZ(11,104,"PROPERTY.ADD_PROPERTY_DOCUMENT")),t.xp6(5),t.Q6J("label",t.lcZ(16,106,"PROPERTY.LEGAL_DOCUMENT_TYPE"))("type",e.InputTypes.SELECT)("selectOptions",t.VKq(154,m,t.lcZ(17,108,e.documentTypes$)))("FormControl",e.formControl("propertyDocument","documentTypeId")),t.xp6(4),t.Q6J("label","PROPERTY.PROPERTY_DOCUMENT_NUMBER")("type",e.InputTypes.NUMBER)("FormControl",e.formControl("propertyDocument","documentNumber")),t.xp6(2),t.Q6J("ngIf",e.currentLang===e.Lang.arabic),t.xp6(1),t.Q6J("ngIf",e.currentLang!==e.Lang.arabic),t.xp6(2),t.Q6J("singleFile",!0)("formGroup",e.addEditProperty)("formControl",e.formControl("propertyDocument","attachment"))("editMode",e.editMode)("oldAttachments",e.oldAttachments)("allowedTypes",e.allowedTypes),t.xp6(1),t.Q6J("label",t.lcZ(26,110,"PROPERTY.PROPERTY_OWNERS"))("stepControl",e.formGroup("owner")),t.xp6(2),t.Q6J("formGroup",e.formGroup("owner")),t.xp6(3),t.Oqu(t.lcZ(31,112,"PROPERTY.ADD_PROPERTY_OWNER")),t.xp6(5),t.Q6J("label","PROPERTY.NATIONAL_ID")("type",e.InputTypes.TEXT)("FormControl",e.formControl("owner","ownerNationalId")),t.xp6(2),t.Q6J("label","LABELS.FORM.FULL_NAME")("type",e.InputTypes.TEXT)("FormControl",e.formControl("owner","name")),t.xp6(2),t.Q6J("ngIf",e.currentLang===e.Lang.arabic),t.xp6(1),t.Q6J("ngIf",e.currentLang!==e.Lang.arabic),t.xp6(2),t.hij("",t.lcZ(43,114,"LABELS.FORM.ADDRESS_IN_SAUDI"),": "),t.xp6(4),t.Q6J("label",t.lcZ(47,116,"LABELS.CITY"))("type",e.InputTypes.SELECT)("selectOptions",t.VKq(156,m,t.lcZ(48,118,e.cities$)))("FormControl",e.formControl("owner","city")),t.xp6(4),t.Q6J("label",t.lcZ(51,120,"LABELS.AREA"))("type",e.InputTypes.SELECT)("selectOptions",t.VKq(158,m,t.lcZ(52,122,e.areas$)))("FormControl",e.formControl("owner","area")),t.xp6(4),t.Q6J("label",t.lcZ(55,124,"LABELS.DISTRICT"))("type",e.InputTypes.SELECT)("selectOptions",t.VKq(160,m,t.lcZ(56,126,e.districts$)))("FormControl",e.formControl("owner","districtId")),t.xp6(3),t.Q6J("stepControl",e.formGroup("realEstateDetails"))("label",t.lcZ(58,128,"PROPERTY.PROPERTY_DETAILS")),t.xp6(2),t.Q6J("formGroup",e.formGroup("realEstateDetails")),t.xp6(3),t.Oqu(t.lcZ(63,130,"PROPERTY.ADD_PROPERTY_DETAILS")),t.xp6(5),t.Q6J("label",t.lcZ(68,132,"PROPERTY.PROPERTY_TYPE"))("type",e.InputTypes.SELECT)("selectOptions",t.VKq(162,m,t.lcZ(69,134,e.propertyTypes$)))("FormControl",e.formControl("realEstateDetails","realEstateTypeId")),t.xp6(4),t.Q6J("label",t.lcZ(72,136,"PROPERTY.PROPERTY_USAGE"))("type",e.InputTypes.SELECT)("selectOptions",t.VKq(164,m,t.lcZ(73,138,e.propertyUsageTypes$)))("FormControl",e.formControl("realEstateDetails","realEstateUseId")),t.xp6(4),t.Q6J("ngIf",e.currentLang===e.Lang.arabic),t.xp6(1),t.Q6J("ngIf",e.currentLang!==e.Lang.arabic),t.xp6(3),t.Q6J("label","PROPERTY.PROPERTY_NUMBER")("type",e.InputTypes.TEXT)("FormControl",e.formControl("realEstateDetails","realEstateNumber")),t.xp6(2),t.Q6J("label","PROPERTY.NUMBER_OF_FLOORS")("type",e.InputTypes.NUMBER)("FormControl",e.formControl("realEstateDetails","numOfFloors")),t.xp6(2),t.Q6J("label","PROPERTY.TOTAL_NUMBER_OF_FLOORS")("type",e.InputTypes.NUMBER)("FormControl",e.formControl("realEstateDetails","numOfProperty")),t.xp6(3),t.Q6J("label","LABELS.FORM.NAME")("type",e.InputTypes.TEXT)("FormControl",e.formControl("realEstateDetails","name")),t.xp6(2),t.Q6J("label","LABELS.FORM.ADDRESS_IN_SAUDI")("type",e.InputTypes.TEXT)("FormControl",e.formControl("realEstateDetails","address")),t.xp6(2),t.Q6J("label","PROPERTY.BUILDING_NUMBER")("type",e.InputTypes.TEXT)("FormControl",e.formControl("realEstateDetails","buildingNumber")),t.xp6(2),t.Q6J("label","PROPERTY.ADDITIONAL_NUMBER")("type",e.InputTypes.TEXT)("FormControl",e.formControl("realEstateDetails","addationalNumber")),t.xp6(1),t.Q6J("stepControl",e.formGroup("properties"))("label",t.lcZ(94,140,"PROPERTY.UNITS_DETAILS")),t.xp6(2),t.Q6J("formGroup",e.addEditProperty),t.xp6(4),t.Oqu(t.lcZ(100,142,"PROPERTY.ADD_UNITS_DETAILS")),t.xp6(2),t.Q6J("ngForOf",e.properties.controls),t.xp6(1),t.Q6J("ngClass",t.VKq(166,W,0===e.properties.length)),t.xp6(2),t.hij(" ",t.lcZ(105,144,"ACTIONS.ADD_UNIT")," "),t.xp6(2),t.Q6J("label",t.lcZ(107,146,"PROPERTY.ATTCHMENTS")),t.xp6(4),t.Oqu(t.lcZ(111,148,"PROPERTY.ATTCHMENTS")),t.xp6(3),t.Q6J("singleFile",!1)("editMode",e.editMode)("oldAttachments",e.oldAttachments)("allowedTypes",e.allowedTypes),t.xp6(4),t.hij(" ",t.lcZ(118,150,"ACTIONS.CANCEL")," "),t.xp6(2),t.Q6J("ngIf",e.selectedIndex>0),t.xp6(1),t.Q6J("ngIf",4!==e.selectedIndex),t.xp6(1),t.Q6J("disabled",e.addEditProperty.invalid),t.xp6(1),t.hij(" ",t.lcZ(123,152,"ACTIONS.SAVE")," "))},dependencies:[c.mk,c.sg,c.O5,C.C0,C.Vq,E.C,n._Y,n.JJ,n.JL,n.oH,n.sg,n.x0,n.CE,Y.s,x.L,M.R,c.Ov,Z.X$],styles:[".add-edit-page[_ngcontent-%COMP%]   .tab-container[_ngcontent-%COMP%]   .unit-title[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin-bottom:15px}.add-edit-page[_ngcontent-%COMP%]   .tab-container[_ngcontent-%COMP%]   .unit-title[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{font-weight:700}.add-edit-page[_ngcontent-%COMP%]   .tab-container[_ngcontent-%COMP%]   .unit-title[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#f44336;cursor:pointer}.add-edit-page[_ngcontent-%COMP%]   .tab-container[_ngcontent-%COMP%]   .unit-wrapper[_ngcontent-%COMP%]{border:1px solid #eee;padding:10px;border-radius:5px;margin-bottom:15px}.add-edit-page[_ngcontent-%COMP%]   .tab-container[_ngcontent-%COMP%]   .add-btn-wrapper[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:20%}"]}),o})();function z(o,l){if(1&o&&(t.TgZ(0,"div",4)(1,"div",10)(2,"h5",11),t._uU(3),t.ALo(4,"translate"),t.qZA(),t.TgZ(5,"div",5)(6,"div",6)(7,"span"),t._uU(8),t.ALo(9,"translate"),t.qZA(),t.TgZ(10,"span"),t._uU(11),t.qZA()(),t.TgZ(12,"div",6)(13,"span"),t._uU(14),t.ALo(15,"translate"),t.qZA(),t.TgZ(16,"span"),t._uU(17),t.qZA()(),t.TgZ(18,"div",6)(19,"span"),t._uU(20),t.ALo(21,"translate"),t.qZA(),t.TgZ(22,"span"),t._uU(23),t.qZA()()(),t.TgZ(24,"div",5)(25,"div",6)(26,"span"),t._uU(27),t.ALo(28,"translate"),t.qZA(),t.TgZ(29,"span"),t._uU(30),t.qZA()(),t.TgZ(31,"div",6)(32,"span"),t._uU(33),t.ALo(34,"translate"),t.qZA(),t.TgZ(35,"span"),t._uU(36),t.qZA()(),t.TgZ(37,"div",6)(38,"span"),t._uU(39),t.ALo(40,"translate"),t.qZA(),t.TgZ(41,"span"),t._uU(42),t.qZA()()(),t.TgZ(43,"div",5)(44,"div",6)(45,"span"),t._uU(46),t.ALo(47,"translate"),t.qZA(),t.TgZ(48,"span"),t._uU(49),t.ALo(50,"date"),t.qZA()(),t.TgZ(51,"div",6)(52,"span"),t._uU(53),t.ALo(54,"translate"),t.qZA(),t.TgZ(55,"span"),t._uU(56),t.qZA()(),t.TgZ(57,"div",6)(58,"span"),t._uU(59),t.ALo(60,"translate"),t.qZA(),t.TgZ(61,"span"),t._uU(62),t.ALo(63,"translate"),t.ALo(64,"translate"),t.qZA()()(),t.TgZ(65,"div",5)(66,"div",6)(67,"span"),t._uU(68),t.ALo(69,"translate"),t.qZA(),t.TgZ(70,"span"),t._uU(71),t.qZA()()(),t.TgZ(72,"h6",8),t._uU(73),t.ALo(74,"translate"),t.qZA(),t.TgZ(75,"div",5)(76,"div",6)(77,"span"),t._uU(78),t.ALo(79,"translate"),t.qZA(),t.TgZ(80,"span"),t._uU(81),t.qZA()(),t.TgZ(82,"div",6)(83,"span"),t._uU(84),t.ALo(85,"translate"),t.qZA(),t.TgZ(86,"span"),t._uU(87),t.qZA()(),t.TgZ(88,"div",6)(89,"span"),t._uU(90),t.ALo(91,"translate"),t.qZA(),t.TgZ(92,"span"),t._uU(93),t.qZA()()(),t.TgZ(94,"div",5)(95,"div",6)(96,"span"),t._uU(97),t.ALo(98,"translate"),t.qZA(),t.TgZ(99,"span"),t._uU(100),t.qZA()(),t.TgZ(101,"div",6)(102,"span"),t._uU(103),t.ALo(104,"translate"),t.qZA(),t.TgZ(105,"span"),t._uU(106),t.qZA()(),t.TgZ(107,"div",6)(108,"span"),t._uU(109),t.ALo(110,"translate"),t.qZA(),t.TgZ(111,"span"),t._uU(112),t.qZA()()(),t.TgZ(113,"div",5)(114,"div",6)(115,"span"),t._uU(116),t.ALo(117,"translate"),t.qZA(),t.TgZ(118,"span"),t._uU(119),t.qZA()(),t.TgZ(120,"div",6)(121,"span"),t._uU(122),t.ALo(123,"translate"),t.qZA(),t.TgZ(124,"span"),t._uU(125),t.qZA()(),t.TgZ(126,"div",6)(127,"span"),t._uU(128),t.ALo(129,"translate"),t.qZA(),t.TgZ(130,"span"),t._uU(131),t.qZA()()(),t.TgZ(132,"div",5)(133,"div",6)(134,"span"),t._uU(135),t.ALo(136,"translate"),t.qZA(),t.TgZ(137,"span"),t._uU(138),t.qZA()(),t.TgZ(139,"div",6)(140,"span"),t._uU(141),t.ALo(142,"translate"),t.qZA(),t.TgZ(143,"span"),t._uU(144),t.qZA()(),t.TgZ(145,"div",6)(146,"span"),t._uU(147),t.ALo(148,"translate"),t.qZA(),t.TgZ(149,"span"),t._uU(150),t.ALo(151,"translate"),t.ALo(152,"translate"),t.qZA()()(),t.TgZ(153,"div",5)(154,"div",6)(155,"span"),t._uU(156),t.ALo(157,"translate"),t.qZA(),t.TgZ(158,"span"),t._uU(159),t.ALo(160,"translate"),t.ALo(161,"translate"),t.qZA()()(),t.TgZ(162,"h6",8),t._uU(163),t.ALo(164,"translate"),t.qZA(),t.TgZ(165,"div",5)(166,"div",6)(167,"span"),t._uU(168),t.ALo(169,"translate"),t.qZA(),t.TgZ(170,"span"),t._uU(171),t.ALo(172,"translate"),t.ALo(173,"translate"),t.qZA()(),t.TgZ(174,"div",6)(175,"span"),t._uU(176),t.ALo(177,"translate"),t.qZA(),t.TgZ(178,"span"),t._uU(179),t.ALo(180,"translate"),t.ALo(181,"translate"),t.qZA()(),t.TgZ(182,"div",6)(183,"span"),t._uU(184),t.ALo(185,"translate"),t.qZA(),t.TgZ(186,"span"),t._uU(187),t.ALo(188,"translate"),t.ALo(189,"translate"),t.qZA()()()()()),2&o){const r=l.$implicit,e=l.index,a=t.oxw();t.xp6(3),t.AsE("",t.lcZ(4,56,"PROPERTY.UNIT_DETAILS")," #",e+1,""),t.xp6(5),t.Oqu(t.lcZ(9,58,"PROPERTY.UNIT_NUMBER")),t.xp6(3),t.Oqu(null==r?null:r.propertyNumber),t.xp6(3),t.Oqu(t.lcZ(15,60,"PROPERTY.UNIT_USAGE")),t.xp6(3),t.Oqu(null==r?null:r.propertyUse),t.xp6(3),t.Oqu(t.lcZ(21,62,"PROPERTY.UNIT_TYPE")),t.xp6(3),t.Oqu(null==r?null:r.propertyType),t.xp6(4),t.Oqu(t.lcZ(28,64,"PROPERTY.FLOOR_NUMBER")),t.xp6(3),t.Oqu(null==r?null:r.floorNumber),t.xp6(3),t.Oqu(t.lcZ(34,66,"PROPERTY.UNIT_AREA")),t.xp6(3),t.Oqu(null==r?null:r.area),t.xp6(3),t.Oqu(t.lcZ(40,68,"PROPERTY.UNIT_FINISHING")),t.xp6(3),t.Oqu(null==r?null:r.propertyFinish),t.xp6(4),t.Oqu(t.lcZ(47,70,"PROPERTY.BUILD_DATE")),t.xp6(3),t.Oqu(t.lcZ(50,72,null==r?null:r.buildDate)),t.xp6(4),t.Oqu(t.lcZ(54,74,"PROPERTY.NUMBER_OF_ROOMS")),t.xp6(3),t.Oqu(null==r?null:r.roomsNo),t.xp6(3),t.Oqu(t.lcZ(60,76,"PROPERTY.FURNISHED")),t.xp6(3),t.Oqu(null!=r&&r.furnished?t.lcZ(63,78,"LABELS.YES"):t.lcZ(64,80,"LABELS.NO")),t.xp6(6),t.Oqu(t.lcZ(69,82,"PROPERTY.UNIT_FINISHING")),t.xp6(3),t.Oqu(null==r?null:r.propertyFinish),t.xp6(2),t.hij("",t.lcZ(74,84,"PROPERTY.UTILITIES"),": "),t.xp6(5),t.Oqu(t.lcZ(79,86,"PROPERTY.BED_ROOMS")),t.xp6(3),t.Oqu(null==r?null:r.bedRoomsNo),t.xp6(3),t.Oqu(t.lcZ(85,88,"PROPERTY.BATHROOMS")),t.xp6(3),t.Oqu(null==r?null:r.bathroomsNo),t.xp6(3),t.Oqu(t.lcZ(91,90,"PROPERTY.HALL")),t.xp6(3),t.Oqu(null==r?null:r.hallNo),t.xp6(4),t.Oqu(t.lcZ(98,92,"PROPERTY.MAID_ROOM")),t.xp6(3),t.Oqu(null==r?null:r.maidRoomNumber),t.xp6(3),t.Oqu(t.lcZ(104,94,"PROPERTY.KITCHEN")),t.xp6(3),t.Oqu(null==a.propertyDetails?null:a.propertyDetails.addationalNumber),t.xp6(3),t.Oqu(t.lcZ(110,96,"PROPERTY.STORE")),t.xp6(3),t.Oqu(null==r?null:r.storesNo),t.xp6(4),t.Oqu(t.lcZ(117,98,"PROPERTY.BACK_YARD")),t.xp6(3),t.Oqu(null==r?null:r.backyardNo),t.xp6(3),t.Oqu(t.lcZ(123,100,"PROPERTY.LIVING_ROOM")),t.xp6(3),t.Oqu(null==r?null:r.livingRoomNo),t.xp6(3),t.Oqu(t.lcZ(129,102,"PROPERTY.CENTRAL_AC")),t.xp6(3),t.Oqu(null==r?null:r.centralAirConditionNumber),t.xp6(4),t.Oqu(t.lcZ(136,104,"PROPERTY.SPLIT_AC")),t.xp6(3),t.Oqu(null==r?null:r.airConditionNumber),t.xp6(3),t.Oqu(t.lcZ(142,106,"PROPERTY.DESERT_AC")),t.xp6(3),t.Oqu(null==r?null:r.desertAirConditionNumber),t.xp6(3),t.Oqu(t.lcZ(148,108,"PROPERTY.DRESSING")),t.xp6(3),t.Oqu(null!=r&&r.hasDressing?t.lcZ(151,110,"LABELS.YES"):t.lcZ(152,112,"LABELS.NO")),t.xp6(6),t.Oqu(t.lcZ(157,114,"PROPERTY.BUILT_IN_KITCHEN")),t.xp6(3),t.Oqu(null!=r&&r.hasBuiltInKitchen?t.lcZ(160,116,"LABELS.YES"):t.lcZ(161,118,"LABELS.NO")),t.xp6(4),t.hij("",t.lcZ(164,120,"PROPERTY.SERVICES"),": "),t.xp6(5),t.Oqu(t.lcZ(169,122,"PROPERTY.GAS")),t.xp6(3),t.Oqu(null!=r&&r.hasGasMeter?t.lcZ(172,124,"LABELS.YES"):t.lcZ(173,126,"LABELS.NO")),t.xp6(5),t.Oqu(t.lcZ(177,128,"PROPERTY.ELECTRICITY")),t.xp6(3),t.Oqu(null!=r&&r.hasElectricityMeter?t.lcZ(180,130,"LABELS.YES"):t.lcZ(181,132,"LABELS.NO")),t.xp6(5),t.Oqu(t.lcZ(185,134,"PROPERTY.WATER")),t.xp6(3),t.Oqu(null!=r&&r.hasWaterMeter?t.lcZ(188,136,"LABELS.YES"):t.lcZ(189,138,"LABELS.NO"))}}let tt=(()=>{class o{constructor(r,e){this.activatedRoute=r,this.propertyLogicService=e}ngOnInit(){this.activatedRoute.params.subscribe(r=>{this.realestateId=r.id,this.getRealEstateInfo()})}getRealEstateInfo(){this.propertyLogicService.getRealEstateDetails(this.realestateId).subscribe(r=>{this.propertyDetails=r})}}return o.\u0275fac=function(r){return new(r||o)(t.Y36(A.gz),t.Y36(y))},o.\u0275cmp=t.Xpm({type:o,selectors:[["property-details"]],decls:149,vars:101,consts:[["RtlDir","",1,"page-container","details-page"],[1,"page-content"],[1,"content-section"],[1,"tab-headline"],[1,"details-container"],[1,"details-row"],[1,"details-col"],[1,"content-section","mt-3"],[1,"mb-4"],["class","details-container",4,"ngFor","ngForOf"],[1,"unit-wrapper"],[1,"mb-3"]],template:function(r,e){1&r&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h4",3),t._uU(4),t.ALo(5,"translate"),t.qZA(),t.TgZ(6,"div",4)(7,"div",5)(8,"div",6)(9,"span"),t._uU(10),t.ALo(11,"translate"),t.qZA(),t.TgZ(12,"span"),t._uU(13),t.qZA()(),t.TgZ(14,"div",6)(15,"span"),t._uU(16),t.ALo(17,"translate"),t.qZA(),t.TgZ(18,"span"),t._uU(19),t.qZA()(),t.TgZ(20,"div",6)(21,"span"),t._uU(22),t.ALo(23,"translate"),t.qZA(),t.TgZ(24,"span"),t._uU(25),t.ALo(26,"date"),t.qZA()()()()(),t.TgZ(27,"div",7)(28,"h4",3),t._uU(29),t.ALo(30,"translate"),t.qZA(),t.TgZ(31,"div",4)(32,"div",5)(33,"div",6)(34,"span"),t._uU(35),t.ALo(36,"translate"),t.qZA(),t.TgZ(37,"span"),t._uU(38),t.qZA()(),t.TgZ(39,"div",6)(40,"span"),t._uU(41),t.ALo(42,"translate"),t.qZA(),t.TgZ(43,"span"),t._uU(44),t.qZA()(),t.TgZ(45,"div",6)(46,"span"),t._uU(47),t.ALo(48,"translate"),t.qZA(),t.TgZ(49,"span"),t._uU(50),t.ALo(51,"date"),t.qZA()()(),t.TgZ(52,"h6",8),t._uU(53),t.ALo(54,"translate"),t.qZA(),t.TgZ(55,"div",5)(56,"div",6)(57,"span"),t._uU(58),t.ALo(59,"translate"),t.qZA(),t.TgZ(60,"span"),t._uU(61),t.qZA()(),t.TgZ(62,"div",6)(63,"span"),t._uU(64),t.ALo(65,"translate"),t.qZA(),t.TgZ(66,"span"),t._uU(67),t.qZA()(),t.TgZ(68,"div",6)(69,"span"),t._uU(70),t.ALo(71,"translate"),t.qZA(),t.TgZ(72,"span"),t._uU(73),t.qZA()()()()(),t.TgZ(74,"div",7)(75,"h4",3),t._uU(76),t.ALo(77,"translate"),t.qZA(),t.TgZ(78,"div",4)(79,"div",5)(80,"div",6)(81,"span"),t._uU(82),t.ALo(83,"translate"),t.qZA(),t.TgZ(84,"span"),t._uU(85),t.qZA()(),t.TgZ(86,"div",6)(87,"span"),t._uU(88),t.ALo(89,"translate"),t.qZA(),t.TgZ(90,"span"),t._uU(91),t.qZA()(),t.TgZ(92,"div",6)(93,"span"),t._uU(94),t.ALo(95,"translate"),t.qZA(),t.TgZ(96,"span"),t._uU(97),t.ALo(98,"date"),t.qZA()()(),t.TgZ(99,"div",5)(100,"div",6)(101,"span"),t._uU(102),t.ALo(103,"translate"),t.qZA(),t.TgZ(104,"span"),t._uU(105),t.qZA()(),t.TgZ(106,"div",6)(107,"span"),t._uU(108),t.ALo(109,"translate"),t.qZA(),t.TgZ(110,"span"),t._uU(111),t.qZA()(),t.TgZ(112,"div",6)(113,"span"),t._uU(114),t.ALo(115,"translate"),t.qZA(),t.TgZ(116,"span"),t._uU(117),t.qZA()()(),t.TgZ(118,"div",5)(119,"div",6)(120,"span"),t._uU(121),t.ALo(122,"translate"),t.qZA(),t.TgZ(123,"span"),t._uU(124),t.qZA()(),t.TgZ(125,"div",6)(126,"span"),t._uU(127),t.ALo(128,"translate"),t.qZA(),t.TgZ(129,"span"),t._uU(130),t.qZA()(),t.TgZ(131,"div",6)(132,"span"),t._uU(133),t.ALo(134,"translate"),t.qZA(),t.TgZ(135,"span"),t._uU(136),t.qZA()()(),t.TgZ(137,"div",5)(138,"div",6)(139,"span"),t._uU(140),t.ALo(141,"translate"),t.qZA(),t.TgZ(142,"span"),t._uU(143),t.qZA()()()()(),t.TgZ(144,"div",7)(145,"h4",3),t._uU(146),t.ALo(147,"translate"),t.qZA(),t.YNc(148,z,190,140,"div",9),t.qZA()()()),2&r&&(t.xp6(4),t.Oqu(t.lcZ(5,44,"PROPERTY.PROPERTY_DOCUMENTS")),t.xp6(6),t.Oqu(t.lcZ(11,46,"PROPERTY.LEGAL_DOCUMENT_TYPE")),t.xp6(3),t.Oqu(null==e.propertyDetails||null==e.propertyDetails.propertyDocument?null:e.propertyDetails.propertyDocument.propertyDocumentType),t.xp6(3),t.Oqu(t.lcZ(17,48,"PROPERTY.PROPERTY_DOCUMENT_NUMBER")),t.xp6(3),t.Oqu(null==e.propertyDetails||null==e.propertyDetails.propertyDocument?null:e.propertyDetails.propertyDocument.documentNumber),t.xp6(3),t.Oqu(t.lcZ(23,50,"PROPERTY.ISSUING_DATE")),t.xp6(3),t.Oqu(t.xi3(26,52,null==e.propertyDetails||null==e.propertyDetails.propertyDocument?null:e.propertyDetails.propertyDocument.releaseDate,"yyyy-MM-dd")),t.xp6(4),t.Oqu(t.lcZ(30,55,"PROPERTY.PROPERTY_OWNERS")),t.xp6(6),t.Oqu(t.lcZ(36,57,"PROPERTY.NATIONAL_ID")),t.xp6(3),t.Oqu(null==e.propertyDetails||null==e.propertyDetails.realEstateOwner?null:e.propertyDetails.realEstateOwner.ownerNationalId),t.xp6(3),t.Oqu(t.lcZ(42,59,"LABELS.FORM.FULL_NAME")),t.xp6(3),t.Oqu(null==e.propertyDetails||null==e.propertyDetails.realEstateOwner?null:e.propertyDetails.realEstateOwner.name),t.xp6(3),t.Oqu(t.lcZ(48,61,"LABELS.FORM.DATE_OF_BIRTH")),t.xp6(3),t.Oqu(t.xi3(51,63,null==e.propertyDetails||null==e.propertyDetails.realEstateOwner?null:e.propertyDetails.realEstateOwner.ownerBirthDay,"yyyy-MM-dd")),t.xp6(3),t.hij(" ",t.lcZ(54,66,"LABELS.FORM.ADDRESS_IN_SAUDI")," : "),t.xp6(5),t.Oqu(t.lcZ(59,68,"LABELS.CITY")),t.xp6(3),t.Oqu(null==e.propertyDetails||null==e.propertyDetails.realEstateOwner?null:e.propertyDetails.realEstateOwner.city),t.xp6(3),t.Oqu(t.lcZ(65,70,"LABELS.AREA")),t.xp6(3),t.Oqu(null==e.propertyDetails||null==e.propertyDetails.realEstateOwner?null:e.propertyDetails.realEstateOwner.area),t.xp6(3),t.Oqu(t.lcZ(71,72,"LABELS.DISTRICT")),t.xp6(3),t.Oqu(null==e.propertyDetails||null==e.propertyDetails.realEstateOwner?null:e.propertyDetails.realEstateOwner.district),t.xp6(3),t.Oqu(t.lcZ(77,74,"PROPERTY.PROPERTY_DETAILS")),t.xp6(6),t.Oqu(t.lcZ(83,76,"PROPERTY.PROPERTY_TYPE")),t.xp6(3),t.Oqu(null==e.propertyDetails||null==e.propertyDetails.realEstateType?null:e.propertyDetails.realEstateType.name),t.xp6(3),t.Oqu(t.lcZ(89,78,"PROPERTY.PROPERTY_USAGE")),t.xp6(3),t.Oqu(null==e.propertyDetails||null==e.propertyDetails.realEstateUse?null:e.propertyDetails.realEstateUse.name),t.xp6(3),t.Oqu(t.lcZ(95,80,"PROPERTY.BUILD_DATE")),t.xp6(3),t.Oqu(t.xi3(98,82,null==e.propertyDetails?null:e.propertyDetails.buildDate,"yyyy-MM-dd")),t.xp6(5),t.Oqu(t.lcZ(103,85,"PROPERTY.PROPERTY_NUMBER")),t.xp6(3),t.Oqu(null==e.propertyDetails?null:e.propertyDetails.buildingNumber),t.xp6(3),t.Oqu(t.lcZ(109,87,"PROPERTY.NUMBER_OF_FLOORS")),t.xp6(3),t.Oqu(null==e.propertyDetails?null:e.propertyDetails.numOfFloors),t.xp6(3),t.Oqu(t.lcZ(115,89,"PROPERTY.TOTAL_NUMBER_OF_FLOORS")),t.xp6(3),t.Oqu(null==e.propertyDetails?null:e.propertyDetails.numOfProperty),t.xp6(4),t.Oqu(t.lcZ(122,91,"LABELS.FORM.NAME")),t.xp6(3),t.Oqu(null==e.propertyDetails?null:e.propertyDetails.name),t.xp6(3),t.Oqu(t.lcZ(128,93,"LABELS.FORM.ADDRESS_IN_SAUDI")),t.xp6(3),t.Oqu(null==e.propertyDetails?null:e.propertyDetails.address),t.xp6(3),t.Oqu(t.lcZ(134,95,"PROPERTY.BUILDING_NUMBER")),t.xp6(3),t.Oqu(null==e.propertyDetails?null:e.propertyDetails.buildingNumber),t.xp6(4),t.Oqu(t.lcZ(141,97,"PROPERTY.ADDITIONAL_NUMBER")),t.xp6(3),t.Oqu(null==e.propertyDetails?null:e.propertyDetails.addationalNumber),t.xp6(3),t.Oqu(t.lcZ(147,99,"PROPERTY.UNITS_DETAILS")),t.xp6(2),t.Q6J("ngForOf",null==e.propertyDetails?null:e.propertyDetails.properties))},dependencies:[c.sg,E.C,c.uU,Z.X$],styles:[".details-container[_ngcontent-%COMP%]{background-color:#f6f6f6}.details-container[_ngcontent-%COMP%]   .details-row[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(250px,1fr))}.details-container[_ngcontent-%COMP%]   .details-row[_ngcontent-%COMP%]   .details-col[_ngcontent-%COMP%]{align-items:start}.details-container[_ngcontent-%COMP%]   .details-row[_ngcontent-%COMP%]   .details-col[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:first-of-type{color:#4e55a2}.details-container[_ngcontent-%COMP%]   .unit-wrapper[_ngcontent-%COMP%]{background-color:#fff;padding:15px}"]}),o})();var q=i(9646),et=i(4859),_=i(8255),rt=i(7633);function ot(o,l){1&o&&(t.TgZ(0,"tr")(1,"th"),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.TgZ(4,"th"),t._uU(5),t.ALo(6,"translate"),t.qZA(),t.TgZ(7,"th"),t._uU(8),t.ALo(9,"translate"),t.qZA(),t.TgZ(10,"th"),t._uU(11),t.ALo(12,"translate"),t.qZA(),t.TgZ(13,"th"),t._uU(14),t.ALo(15,"translate"),t.qZA()()),2&o&&(t.xp6(2),t.Oqu(t.lcZ(3,5,"PROPERTY.PROPERTY_NUMBER")),t.xp6(3),t.Oqu(t.lcZ(6,7,"LABELS.OWNER")),t.xp6(3),t.Oqu(t.lcZ(9,9,"PROPERTY.PROPERTY_TYPE")),t.xp6(3),t.Oqu(t.lcZ(12,11,"PROPERTY.PROPERTY_USAGE")),t.xp6(3),t.Oqu(t.lcZ(15,13,"ACTIONS.ACTIONS")))}const nt=function(o){return["/property/details",o]},at=function(o){return["/property/edit-property",o]};function lt(o,l){if(1&o){const r=t.EpF();t.TgZ(0,"tr")(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.TgZ(5,"td"),t._uU(6),t.qZA(),t.TgZ(7,"td"),t._uU(8),t.qZA(),t.TgZ(9,"td",11)(10,"button",12),t._UZ(11,"i",13),t.qZA(),t.TgZ(12,"mat-menu",11,14)(14,"button",15),t._uU(15),t.ALo(16,"translate"),t.qZA(),t.TgZ(17,"button",15),t._uU(18),t.ALo(19,"translate"),t.qZA(),t.TgZ(20,"button",16),t.NdJ("click",function(){const p=t.CHM(r).$implicit,T=t.oxw(2);return t.KtG(T.handleRemoveProperty(p.id))}),t._uU(21),t.ALo(22,"translate"),t.qZA()()()()}if(2&o){const r=l.$implicit,e=t.MAs(13);t.xp6(2),t.hij(" ",null==r?null:r.realEstateNumber," "),t.xp6(2),t.hij(" ",null==r?null:r.ownerName," "),t.xp6(2),t.hij(" ",null==r?null:r.realEstateType," "),t.xp6(2),t.hij(" ",null==r?null:r.realEstateUse," "),t.xp6(2),t.Q6J("matMenuTriggerFor",e),t.xp6(4),t.Q6J("routerLink",t.VKq(16,nt,null==r?null:r.id)),t.xp6(1),t.Oqu(t.lcZ(16,10,"LABELS.VIEW_DETAILS")),t.xp6(2),t.Q6J("routerLink",t.VKq(18,at,null==r?null:r.id)),t.xp6(1),t.Oqu(t.lcZ(19,12,"ACTIONS.EDIT")),t.xp6(3),t.Oqu(t.lcZ(22,14,"ACTIONS.DELETE"))}}function it(o,l){}function pt(o,l){if(1&o){const r=t.EpF();t.TgZ(0,"data-table",7),t.NdJ("pageChange",function(a){t.CHM(r);const p=t.oxw();return t.KtG(p.onPageChange(a))}),t.ALo(1,"async"),t.YNc(2,ot,16,15,"ng-template",null,8,t.W1O),t.YNc(4,lt,23,20,"ng-template",null,9,t.W1O),t.YNc(6,it,0,0,"ng-template",null,10,t.W1O),t.qZA()}if(2&o){const r=t.oxw();t.Q6J("dataSource",t.lcZ(1,1,r.propertyTable$))}}const st=function(){return["/property/add-property"]},ut=[{title:"Properties",path:"",children:[{title:"Properties",path:"",component:(()=>{class o{constructor(r,e,a){this.translationService=r,this.propertyLogicService=e,this.dialog=a,this.propertyTable$=(0,q.of)({data:[],length:0,pageSize:0,pageIndex:0,emptyState:"No Data Found!"}),this.propertyPagingPayload={pagedSearch:{pageIndex:1,pageSize:8}}}get InputTypes(){return P.o}ngOnInit(){this.getPropertyListing(),this.translationService.currentLanguage$.subscribe(r=>{this.currentLang=r})}onPageChange(r){this.propertyPagingPayload.pagedSearch.pageIndex=r.pageIndex+1,this.getPropertyListing()}handleRemoveProperty(r){return this.dialog.open(h.$,{maxWidth:"550px",minWidth:"500px",data:{title:"ACTIONS.DELETE_REAL_ESTATE",message:"LABELS.FORM.ARE_YOU_SURE",actionLabel:"ACTIONS.DELETE"}}).afterClosed().subscribe(p=>{if(!p)return p;this.propertyLogicService.deleteProperty(r).subscribe(T=>{this.getPropertyListing()})})}getPropertyListing(){this.propertyLogicService.getRealEstates(this.propertyPagingPayload).subscribe(r=>{this.propertyTable$=(0,q.of)({data:r.items,length:r.totalcount,pageSize:r.paginationCount,pageIndex:1,emptyState:"LABELS.NO_DATA"})})}get Lang(){return R.U}}return o.\u0275fac=function(r){return new(r||o)(t.Y36(f.D),t.Y36(y),t.Y36(L.uw))},o.\u0275cmp=t.Xpm({type:o,selectors:[["property-listing"]],decls:12,vars:9,consts:[[1,"page-container","property-listing"],[1,"page-header"],[1,"btn-wrapper"],[1,"ac-btn","btn-fill",3,"routerLink"],[1,"page-content"],[1,"table-wrapper"],["class","preview__table",3,"dataSource","pageChange",4,"ngIf"],[1,"preview__table",3,"dataSource","pageChange"],["tableHead",""],["tableRows",""],["loaderRef",""],["RtlDir",""],["mat-button","",3,"matMenuTriggerFor"],[1,"fa-solid","fa-ellipsis"],["menu","matMenu"],["mat-menu-item","","RtlDir","",3,"routerLink"],["mat-menu-item","","RtlDir","",3,"click"]],template:function(r,e){1&r&&(t.TgZ(0,"div",0)(1,"div",1)(2,"h4"),t._uU(3),t.ALo(4,"translate"),t.qZA(),t.TgZ(5,"div",2)(6,"button",3),t._uU(7),t.ALo(8,"translate"),t.qZA()()(),t.TgZ(9,"div",4)(10,"section",5),t.YNc(11,pt,8,3,"data-table",6),t.qZA()()()),2&r&&(t.xp6(3),t.Oqu(t.lcZ(4,4,"LABELS.PROPERTIES")),t.xp6(3),t.Q6J("routerLink",t.DdM(8,st)),t.xp6(1),t.hij(" ",t.lcZ(8,6,"LABELS.ADD_NEW_PROPERTY")," "),t.xp6(4),t.Q6J("ngIf",e.propertyTable$))},dependencies:[c.O5,et.lW,_.VK,_.OP,_.p6,E.C,rt.Q,A.rH,c.Ov,Z.X$],styles:[".table-wrapper[_ngcontent-%COMP%]{min-height:200px}"]}),o})()},{title:"Add Property",path:"add-property",component:U},{title:"Edit Property",path:"edit-property/:id",component:U},{title:"Property Details",path:"details/:id",component:tt}]}];let dt=(()=>{class o{}return o.\u0275fac=function(r){return new(r||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[A.Bz.forChild(ut),A.Bz]}),o})();var ct=i(2271);let Tt=(()=>{class o{}return o.\u0275fac=function(r){return new(r||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[c.ez,Z.aw,ct.m,dt]}),o})()}}]);