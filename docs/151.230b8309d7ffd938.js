"use strict";(self.webpackChunkacacia_p3=self.webpackChunkacacia_p3||[]).push([[151],{8151:(Yt,P,p)=>{p.r(P),p.d(P,{PropertyModule:()=>St});var c=p(6895),f=p(9299),i=p(4006),A=p(8314),g=p(3151),s=p(4004),R=p(9195),O=p(7802),y=p(8522),t=p(4650),d=p(3848),M=p(8112);let I=(()=>{class o{constructor(n){this.xhrService=n}getDocumentTypes(){return this.xhrService.call({url:"api/PropertyDocumentType/Get",method:d.n.get,body:{}}).pipe((0,s.U)(n=>n))}getPropertyLookup(n){return this.xhrService.call({url:`api/${n}/Get`,method:d.n.get,body:{}}).pipe((0,s.U)(e=>e))}getCityAreas(n){return this.xhrService.call({url:`api/Area/GetCityAreas/${n}`,method:d.n.get,body:{}}).pipe((0,s.U)(e=>e))}getAreaDistricts(n){return this.xhrService.call({url:`api/District/GetAreaDistricts/${n}`,method:d.n.get,body:{}}).pipe((0,s.U)(e=>e))}uploadAttachments(n){return this.xhrService.call({url:"/api/Attachment/Upload",method:d.n.post,body:n},!0).pipe((0,s.U)(e=>e))}downloadAttachments(n){return this.xhrService.call({url:`api/Attachment/Download?fileName=${n}`,method:d.n.post,body:{}}).pipe((0,s.U)(e=>e))}createRealEstate(n){return this.xhrService.call({url:"api/RealEstate/Create",method:d.n.post,body:n}).pipe((0,s.U)(e=>e))}editRealEstate(n){return this.xhrService.call({url:"api/RealEstate/Update",method:d.n.put,body:n}).pipe((0,s.U)(e=>e))}getRealEstates(n){return this.xhrService.call({url:"api/RealEstate/Get",method:d.n.post,body:n}).pipe((0,s.U)(e=>e))}getRealEstateById(n){return this.xhrService.call({url:`/api/RealEstate/Get/${n}`,method:d.n.get,body:{}}).pipe((0,s.U)(e=>e))}deleteProperty(n){return this.xhrService.call({url:`/api/RealEstate/Delete?id=${n}`,method:d.n.delete,body:{}}).pipe((0,s.U)(e=>e))}}return o.\u0275fac=function(n){return new(n||o)(t.LFG(M.d))},o.\u0275prov=t.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})(),b=(()=>{class o{constructor(n){this.propertyService=n}getDocumentTypes(){return this.propertyService.getDocumentTypes().pipe((0,s.U)(n=>n))}getPropertyLookup(n){return this.propertyService.getPropertyLookup(n).pipe((0,s.U)(e=>e))}getCityAreas(n){return this.propertyService.getCityAreas(n).pipe((0,s.U)(e=>e))}getAreaDistricts(n){return this.propertyService.getAreaDistricts(n).pipe((0,s.U)(e=>e))}uploadAttachments(n){return this.propertyService.uploadAttachments(n).pipe((0,s.U)(e=>e))}downloadAttachments(n){return this.propertyService.downloadAttachments(n).pipe((0,s.U)(e=>e))}createRealEstate(n){return this.propertyService.createRealEstate(n).pipe((0,s.U)(e=>e))}getRealEstates(n){return this.propertyService.getRealEstates(n).pipe((0,s.U)(e=>e))}editRealEstate(n){return this.propertyService.editRealEstate(n).pipe((0,s.U)(e=>e))}deleteProperty(n){return this.propertyService.deleteProperty(n).pipe((0,s.U)(e=>e))}getRealEstateById(n){return this.propertyService.getRealEstateById(n).pipe((0,s.U)(e=>({propertyDocument:{documentTypeId:e.propertyDocument.propertyDocumentTypeId,documentNumber:e.propertyDocument.documentNumber,releaseDate:e.propertyDocument.createdOn,attachment:e.propertyDocument.attachment,id:e.propertyDocument.id},owner:{name:e.name,ownerId:e.realEstateOwner.ownerId,ownerBirthDay:e.realEstateOwner.ownerBirthDay,districtId:e.realEstateOwner.districtId,id:e.realEstateOwner.id,city:e.realEstateOwner.district.area.cityId,area:e.realEstateOwner.district.areaId},realEstateDetails:{name:e.name,realEstateNumber:e.realEstateNumber,numOfFloors:e.numOfFloors,numOfProperty:e.numOfProperty,address:e.address,buildingNumber:e.buildingNumber,addationalNumber:e.addationalNumber,buildDate:e.buildDate,realEstateTypeId:e.realEstateTypeId,realEstateUseId:e.realEstateUseId,id:e.id},properties:e.properties,realEstateAttachments:e.attachments})))}}return o.\u0275fac=function(n){return new(n||o)(t.LFG(I))},o.\u0275prov=t.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();var E=p(629),w=p(2289),C=p(5412),L=p(6892),v=p(8425),h=p(8952),U=p(5224),D=p(8412),u=p(9383);const S=["fileDropRef"];function F(o,r){if(1&o){const n=t.EpF();t.TgZ(0,"div",8),t.NdJ("click",function(){t.CHM(n),t.oxw();const a=t.MAs(2);return t.KtG(a.click())})("fileDropped",function(a){t.CHM(n);const l=t.oxw();return t.KtG(l.onFileSelected(a,1))}),t._UZ(1,"img",9),t.TgZ(2,"div")(3,"h2"),t._uU(4),t.ALo(5,"translate"),t.qZA(),t.TgZ(6,"span"),t._uU(7,"Pdf , PNG, TIFF ,JPEG formats are allowed"),t.qZA()()()}if(2&o){const n=t.oxw();t.xp6(4),t.Oqu(t.lcZ(5,1,n.label))}}function N(o,r){if(1&o&&t._UZ(0,"img",17),2&o){const n=t.oxw(3);t.Q6J("src",n.imgURL,t.LSH)}}function k(o,r){1&o&&t._UZ(0,"img",18)}function q(o,r){if(1&o){const n=t.EpF();t.TgZ(0,"div",11)(1,"div",12)(2,"div",13),t.NdJ("click",function(){t.CHM(n),t.oxw(2);const a=t.MAs(2);return t.KtG(a.click())}),t._UZ(3,"img",14),t.qZA(),t.YNc(4,N,1,1,"img",15),t.YNc(5,k,1,0,"img",16),t.qZA()()}if(2&o){const n=t.oxw(2);t.xp6(4),t.Q6J("ngIf",n.singleFile&&!n.editMode),t.xp6(1),t.Q6J("ngIf",n.singleFile&&n.editMode)}}function Y(o,r){if(1&o&&(t.ynx(0),t.YNc(1,q,6,2,"div",10),t.BQk()),2&o){const n=t.oxw();t.xp6(1),t.Q6J("ngIf",n.imgURL)}}function J(o,r){1&o&&t._UZ(0,"img",26)}function Q(o,r){1&o&&t._UZ(0,"img",27)}function G(o,r){if(1&o&&(t.TgZ(0,"div",21)(1,"div",22)(2,"div"),t.YNc(3,J,1,0,"img",23),t.YNc(4,Q,1,0,"img",24),t.TgZ(5,"span",25),t._uU(6),t.qZA()()()()),2&o){const n=r.$implicit,e=t.oxw(2);t.xp6(3),t.Q6J("ngIf",!e.singleFile&&!e.checkFile(n)),t.xp6(1),t.Q6J("ngIf",!e.singleFile&&e.checkFile(n)),t.xp6(2),t.hij(" ",n.attachment?n.attachment:n.name," ")}}function B(o,r){if(1&o&&(t.ynx(0),t.TgZ(1,"div",19),t.YNc(2,G,7,3,"div",20),t.qZA(),t.BQk()),2&o){const n=t.oxw();t.xp6(2),t.Q6J("ngForOf",n.selectedFiles)}}function z(o,r){1&o&&(t.TgZ(0,"div"),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&o&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"LABELS.FORM.VALIDATIONS.FILE_NOT_ALLOWED")," "))}function $(o,r){1&o&&(t.TgZ(0,"div"),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&o&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"LABELS.FORM.VALIDATIONS.FIELD_IS_REQUIRED")," "))}function X(o,r){if(1&o&&(t.TgZ(0,"div",28),t.YNc(1,$,3,3,"div",5),t.qZA()),2&o){const n=t.oxw();t.xp6(1),t.Q6J("ngIf",null==n.formControl?null:n.formControl.hasError("required"))}}const j=function(o){return{"is-image-preview":o}};let H=(()=>{class o{constructor(){this.selectedFiles=[],this.singleFile=!0,this.allowedTypes=["png","jpg","jpeg","gif"],this.canAccept="image/*",this.previews=[],this.errorType="",this.editMode=!1,this.onRemoveAttachment=new t.vpe,this.oldAttachments=[],this.onAttachmentChange=new t.vpe}ngOnInit(){}checkType(n){return console.log(this.oldAttachments),this.fileType=n.type.split("/").pop().toLowerCase(),this.allowedTypes.includes(this.fileType)?(this.errorType="",!0):(this.errorType="notAllowedType",!1)}ngOnChanges(n){console.log(this.oldAttachments),console.log(n.oldDocumentAttachments),this.editMode&&void 0!==n.oldAttachments.previousValue&&n.oldAttachments.previousValue!==n.oldAttachments.currentValue&&this.oldAttachments&&(this.selectedFiles=this.oldAttachments,this.singleFile&&(this.imgURL=this.oldAttachments[0],console.log(this.imgURL)))}checkFile(n){return n.type?"application/pdf"!==n.type:"pdf"!==n.attachment.split(".")}writeValue(){}registerOnChange(){}registerOnTouched(){}onFileSelected(n,e){if(!0===this.singleFile){this.selectedFiles=[];let a={};if(1===e)for(let l of n)this.selectedFiles.push(l),a=this.checkType(n[0]);else this.selectedFiles=n.target.files,this.selectedFiles.length?a=this.checkType(n.target.files[0]):this.imgURL="";if(this.selectedFiles.length&&a){let l=new FileReader;l.readAsDataURL(this.selectedFiles[0]),l.onload=m=>{this.imgURL=l.result}}}else 1===e?this.selectedFiles=n:n.target.files.length>0&&(this.selectedFiles=[],Array.from(n.target.files).forEach(a=>{this.selectedFiles.push(a)}));this.onAttachmentChange.emit(this.selectedFiles),this.formControl?.markAsTouched(),this.formControl?.markAsDirty(),this.formControl?.setValue(this.selectedFiles)}emitValidFiles(){this.onAttachmentChange.emit(this.selectedFiles)}handleRemoveFile(n){if(this.singleFile)this.fileDropRef.nativeElement.value="",this.imgURL="";else if(this.selectedFiles[n].id)this.onRemoveAttachment.emit({index:n,attachmentId:this.selectedFiles[n]?.id});else{const e=Array.from(this.selectedFiles);e.splice(n,1),this.selectedFiles=e,this.onAttachmentChange.emit(this.selectedFiles)}!this.selectedFiles.length&&this.formControl?.reset(),this.formControl?.markAsTouched(),this.formControl?.markAsDirty()}}return o.\u0275fac=function(n){return new(n||o)},o.\u0275cmp=t.Xpm({type:o,selectors:[["upload-file"]],viewQuery:function(n,e){if(1&n&&t.Gf(S,5),2&n){let a;t.iGM(a=t.CRH())&&(e.fileDropRef=a.first)}},inputs:{label:"label",singleFile:"singleFile",allowedTypes:"allowedTypes",canAccept:"canAccept",editMode:"editMode",oldAttachments:"oldAttachments",formGroup:"formGroup",formControl:"formControl"},outputs:{onRemoveAttachment:"onRemoveAttachment",onAttachmentChange:"onAttachmentChange"},features:[t._Bn([{provide:i.JU,useExisting:o,multi:!0}]),t.TTD],decls:10,vars:10,consts:[[1,"upload-file-wrapper",3,"ngClass"],["type","file","name","uploadFile","hidden","true",3,"accept","multiple","change"],["fileDropRef",""],[1,"multiple-preview"],["class","overlay","RtlDir","",3,"click","fileDropped",4,"ngIf"],[4,"ngIf"],[1,"validation-meassages"],["class","ctrl-error",4,"ngIf"],["RtlDir","",1,"overlay",3,"click","fileDropped"],["src","assets/images/upload-icon.png","alt","upload icon"],["class","image-preview-wrapper",4,"ngIf"],[1,"image-preview-wrapper"],[1,"image-preview"],[3,"click"],["src","assets/images/edit.png","alt","edit-icon"],["width","154px","height","140px",3,"src",4,"ngIf"],["src","assets/images/photo-icon.png","width","154px","height","140px",4,"ngIf"],["width","154px","height","140px",3,"src"],["src","assets/images/photo-icon.png","width","154px","height","140px"],[1,"multiple-files-wrapper"],["class","single-file-wrapper",4,"ngFor","ngForOf"],[1,"single-file-wrapper"],[1,"file-preview"],["src","assets/images/pdf.png",4,"ngIf"],["src","assets/images/photo-icon.png",4,"ngIf"],[1,"file-name"],["src","assets/images/pdf.png"],["src","assets/images/photo-icon.png"],[1,"ctrl-error"]],template:function(n,e){1&n&&(t.TgZ(0,"div",0)(1,"input",1,2),t.NdJ("change",function(l){return e.onFileSelected(l,2)}),t.qZA(),t.TgZ(3,"div",3),t.YNc(4,F,8,3,"div",4),t.YNc(5,Y,2,1,"ng-container",5),t.YNc(6,B,3,1,"ng-container",5),t.qZA()(),t.TgZ(7,"div",6),t.YNc(8,z,3,3,"div",5),t.qZA(),t.YNc(9,X,2,1,"div",7)),2&n&&(t.Q6J("ngClass",t.VKq(8,j,e.imgURL)),t.xp6(1),t.Q6J("accept",e.canAccept)("multiple",!e.singleFile),t.xp6(3),t.Q6J("ngIf",!e.imgURL),t.xp6(1),t.Q6J("ngIf",e.singleFile&&e.selectedFiles.length),t.xp6(1),t.Q6J("ngIf",!e.singleFile&&e.selectedFiles.length),t.xp6(2),t.Q6J("ngIf","notAllowedType"===e.errorType),t.xp6(1),t.Q6J("ngIf",(null==e.formControl?null:e.formControl.invalid)&&(null==e.formControl?null:e.formControl.errors)&&((null==e.formControl?null:e.formControl.dirty)||(null==e.formControl?null:e.formControl.touched))))},dependencies:[c.mk,c.sg,c.O5,h.C,u.X$],styles:[".upload-file-wrapper[_ngcontent-%COMP%]   .multiple-preview[_ngcontent-%COMP%]{width:100%}.upload-file-wrapper[_ngcontent-%COMP%]   .overlay[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;height:130px;background-color:#f3f5f8;border:1px dashed #dadada;border-radius:6px;cursor:pointer;gap:10px}.upload-file-wrapper[_ngcontent-%COMP%]   .overlay[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:16px}@media only screen and (max-width: 600px){.upload-file-wrapper[_ngcontent-%COMP%]   .overlay[_ngcontent-%COMP%]{flex-direction:column}.upload-file-wrapper[_ngcontent-%COMP%]   .overlay[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:12px;text-align:center;margin-top:10px}}@media only screen and (max-width: 1024px){.upload-file-wrapper[_ngcontent-%COMP%]{flex-direction:column;align-items:baseline}}.upload-file-wrapper.is-image-preview[_ngcontent-%COMP%]{justify-content:unset}.upload-file-wrapper.is-image-preview[_ngcontent-%COMP%]   .image-preview[_ngcontent-%COMP%]{margin:0 20px}.upload-file-wrapper[_ngcontent-%COMP%]   .image-preview-wrapper[_ngcontent-%COMP%]{display:flex;align-items:end}.upload-file-wrapper[_ngcontent-%COMP%]   .image-preview-wrapper[_ngcontent-%COMP%]   .image-preview[_ngcontent-%COMP%]{position:relative;width:154px}.upload-file-wrapper[_ngcontent-%COMP%]   .image-preview-wrapper[_ngcontent-%COMP%]   .image-preview[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{background:#ffffff;box-shadow:0 0 10px #4a506624;border-radius:6px;position:absolute;bottom:10px;right:-14px;width:28px;height:28px;display:flex;justify-content:center;align-items:center;cursor:pointer}.upload-file-wrapper[_ngcontent-%COMP%]   .image-preview-wrapper[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:inline-block;margin:0 20px;font-weight:500;color:#5d5f6f;cursor:pointer}@media only screen and (max-width: 768px){.upload-file-wrapper[_ngcontent-%COMP%]{flex-direction:column;align-items:baseline}.upload-file-wrapper[_ngcontent-%COMP%]   .overlay[_ngcontent-%COMP%]{width:100%}}.validation-meassages[_ngcontent-%COMP%]{color:red}.multiple-files-wrapper[_ngcontent-%COMP%]{background-color:#f9f9f9;padding:2px 15px;display:flex;align-items:flex-end;margin:2px 0;min-height:130px;flex-wrap:wrap}.multiple-files-wrapper[_ngcontent-%COMP%]   .single-file-wrapper[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin:5px 10px}.multiple-files-wrapper[_ngcontent-%COMP%]   .single-file-wrapper[_ngcontent-%COMP%]   .file-preview[_ngcontent-%COMP%]{display:flex;align-items:flex-end;max-width:140px}.multiple-files-wrapper[_ngcontent-%COMP%]   .single-file-wrapper[_ngcontent-%COMP%]   .file-preview[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:baseline}.multiple-files-wrapper[_ngcontent-%COMP%]   .single-file-wrapper[_ngcontent-%COMP%]   .file-preview[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:62px;height:62px}.multiple-files-wrapper[_ngcontent-%COMP%]   .single-file-wrapper[_ngcontent-%COMP%]   .file-preview[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   .file-name[_ngcontent-%COMP%]{font-size:12px;font-weight:700;white-space:nowrap;width:72px;overflow:hidden;text-overflow:ellipsis;display:inline-block;margin-top:10px}.multiple-files-wrapper[_ngcontent-%COMP%]   .single-file-wrapper[_ngcontent-%COMP%]   .file-preview[_ngcontent-%COMP%]   .remove-file[_ngcontent-%COMP%]{display:inline-block;color:#5d5f6f;font-size:14px;font-weight:500;margin:0 5px;cursor:pointer;text-transform:capitalize}"]}),o})();function V(o,r){if(1&o&&t._UZ(0,"locale-date-picker",29),2&o){const n=t.oxw();t.Q6J("label","PROPERTY.ISSUING_DATE")("FormControl",n.formControl("propertyDocument","releaseDate"))("isArabicDatePicker",!0)}}function K(o,r){if(1&o&&t._UZ(0,"locale-date-picker",29),2&o){const n=t.oxw();t.Q6J("label","PROPERTY.ISSUING_DATE")("FormControl",n.formControl("propertyDocument","releaseDate"))("isArabicDatePicker",!1)}}function W(o,r){if(1&o&&t._UZ(0,"locale-date-picker",29),2&o){const n=t.oxw();t.Q6J("label","LABELS.FORM.DATE_OF_BIRTH")("FormControl",n.formControl("owner","ownerBirthDay"))("isArabicDatePicker",!0)}}function tt(o,r){if(1&o&&t._UZ(0,"locale-date-picker",29),2&o){const n=t.oxw();t.Q6J("label","LABELS.FORM.DATE_OF_BIRTH")("FormControl",n.formControl("owner","ownerBirthDay"))("isArabicDatePicker",!1)}}function et(o,r){if(1&o&&t._UZ(0,"locale-date-picker",29),2&o){const n=t.oxw();t.Q6J("label","PROPERTY.BUILD_DATE")("FormControl",n.formControl("realEstateDetails","buildDate"))("isArabicDatePicker",!0)}}function nt(o,r){if(1&o&&t._UZ(0,"locale-date-picker",29),2&o){const n=t.oxw();t.Q6J("label","PROPERTY.BUILD_DATE")("FormControl",n.formControl("realEstateDetails","buildDate"))("isArabicDatePicker",!1)}}function ot(o,r){if(1&o&&t._UZ(0,"locale-date-picker",29),2&o){const n=t.oxw().index,e=t.oxw();t.Q6J("label","PROPERTY.BUILD_DATE")("FormControl",e.formArrayControl(n,"buildDate"))("isArabicDatePicker",!0)}}function rt(o,r){if(1&o&&t._UZ(0,"locale-date-picker",29),2&o){const n=t.oxw().index,e=t.oxw();t.Q6J("label","PROPERTY.BUILD_DATE")("FormControl",e.formArrayControl(n,"buildDate"))("isArabicDatePicker",!1)}}function it(o,r){if(1&o&&(t.TgZ(0,"div",9),t._UZ(1,"form-input",11),t.qZA()),2&o){const n=t.oxw().index,e=t.oxw();t.xp6(1),t.Q6J("label","PROPERTY.UNIT_FINISHING")("type",e.InputTypes.TEXT)("FormControl",e.formArrayControl(n,"furnishedType"))}}function at(o,r){if(1&o&&(t.TgZ(0,"div",30)(1,"div",31)(2,"h5"),t._uU(3),t.ALo(4,"translate"),t.qZA()(),t.TgZ(5,"div",16)(6,"div",9),t._UZ(7,"form-input",11),t.qZA(),t.TgZ(8,"div",9),t._UZ(9,"form-input",11),t.qZA(),t.TgZ(10,"div",9),t._UZ(11,"form-input",11),t.qZA()(),t.TgZ(12,"div",16)(13,"div",9),t._UZ(14,"form-input",11),t.qZA(),t.TgZ(15,"div",9),t._UZ(16,"form-input",11),t.qZA(),t.TgZ(17,"div",9),t._UZ(18,"form-input",11),t.qZA()(),t.TgZ(19,"div",16)(20,"div",9),t.YNc(21,ot,1,3,"locale-date-picker",12),t.YNc(22,rt,1,3,"locale-date-picker",12),t.qZA(),t.TgZ(23,"div",9),t._UZ(24,"form-input",11),t.qZA()(),t.TgZ(25,"div",8)(26,"div",32),t._UZ(27,"form-input",11),t.ALo(28,"translate"),t.qZA(),t.YNc(29,it,2,3,"div",33),t.qZA(),t.TgZ(30,"h6"),t._uU(31),t.ALo(32,"translate"),t.qZA(),t.TgZ(33,"div",16)(34,"div",9),t._UZ(35,"form-input",11),t.qZA(),t.TgZ(36,"div",9),t._UZ(37,"form-input",11),t.qZA(),t.TgZ(38,"div",9),t._UZ(39,"form-input",11),t.qZA()(),t.TgZ(40,"div",16)(41,"div",9),t._UZ(42,"form-input",11),t.qZA(),t.TgZ(43,"div",9),t._UZ(44,"form-input",11),t.qZA(),t.TgZ(45,"div",9),t._UZ(46,"form-input",11),t.qZA()(),t.TgZ(47,"div",16)(48,"div",9),t._UZ(49,"form-input",11),t.qZA(),t.TgZ(50,"div",9),t._UZ(51,"form-input",11),t.qZA(),t.TgZ(52,"div",9),t._UZ(53,"form-input",11),t.qZA()(),t.TgZ(54,"div",16)(55,"div",9),t._UZ(56,"form-input",11),t.qZA(),t.TgZ(57,"div",9),t._UZ(58,"form-input",11),t.qZA()(),t.TgZ(59,"div",16)(60,"div",32),t._UZ(61,"form-input",11),t.ALo(62,"translate"),t.qZA(),t.TgZ(63,"div",32),t._UZ(64,"form-input",11),t.ALo(65,"translate"),t.qZA()(),t.TgZ(66,"h6"),t._uU(67),t.ALo(68,"translate"),t.qZA(),t.TgZ(69,"div",34)(70,"div",32),t._UZ(71,"form-input",11),t.ALo(72,"translate"),t.qZA(),t.TgZ(73,"div",32),t._UZ(74,"form-input",11),t.ALo(75,"translate"),t.qZA(),t.TgZ(76,"div",32),t._UZ(77,"form-input",11),t.ALo(78,"translate"),t.qZA()()()),2&o){const n=r.index,e=t.oxw();let a;t.Q6J("formGroupName",n),t.xp6(3),t.AsE("",t.lcZ(4,80,"PROPERTY.ADD_UNIT_DETAILS")," #",n+1,""),t.xp6(4),t.Q6J("label","PROPERTY.UNIT_NUMBER")("type",e.InputTypes.TEXT)("FormControl",e.formArrayControl(n,"propertyNumber")),t.xp6(2),t.Q6J("label","PROPERTY.UNIT_USAGE")("type",e.InputTypes.TEXT)("FormControl",e.formArrayControl(n,"propertyUse")),t.xp6(2),t.Q6J("label","PROPERTY.UNIT_TYPE")("type",e.InputTypes.TEXT)("FormControl",e.formArrayControl(n,"propertyType")),t.xp6(3),t.Q6J("label","PROPERTY.FLOOR_NUMBER")("type",e.InputTypes.TEXT)("FormControl",e.formArrayControl(n,"floorNumber")),t.xp6(2),t.Q6J("label","PROPERTY.UNIT_AREA")("type",e.InputTypes.TEXT)("FormControl",e.formArrayControl(n,"area")),t.xp6(2),t.Q6J("label","PROPERTY.UNIT_FINISHING")("type",e.InputTypes.TEXT)("FormControl",e.formArrayControl(n,"propertyFinish")),t.xp6(3),t.Q6J("ngIf",e.currentLang===e.Lang.arabic),t.xp6(1),t.Q6J("ngIf",e.currentLang!==e.Lang.arabic),t.xp6(2),t.Q6J("label","PROPERTY.NUMBER_OF_ROOMS")("type",e.InputTypes.TEXT)("FormControl",e.formArrayControl(n,"roomsNo")),t.xp6(3),t.Q6J("label",t.lcZ(28,82,"PROPERTY.FURNISHED"))("type",e.InputTypes.TOGGLE)("FormControl",e.formArrayControl(n,"furnished")),t.xp6(2),t.Q6J("ngIf",null==(a=e.formArrayControl(n,"furnished"))?null:a.value),t.xp6(2),t.hij("",t.lcZ(32,84,"PROPERTY.UTILITIES"),": "),t.xp6(4),t.Q6J("label","PROPERTY.BED_ROOMS")("type",e.InputTypes.NUMBER)("FormControl",e.formArrayControl(n,"bedRoomsNo")),t.xp6(2),t.Q6J("label","PROPERTY.BATHROOMS")("type",e.InputTypes.TEXT)("FormControl",e.formArrayControl(n,"bathroomsNo")),t.xp6(2),t.Q6J("label","PROPERTY.HALL")("type",e.InputTypes.TEXT)("FormControl",e.formArrayControl(n,"hallNo")),t.xp6(3),t.Q6J("label","PROPERTY.MAID_ROOM")("type",e.InputTypes.TEXT)("FormControl",e.formArrayControl(n,"maidRoomNumber")),t.xp6(2),t.Q6J("label","PROPERTY.KITCHEN")("type",e.InputTypes.TEXT)("FormControl",e.formArrayControl(n,"kitchenNo")),t.xp6(2),t.Q6J("label","PROPERTY.STORE")("type",e.InputTypes.TEXT)("FormControl",e.formArrayControl(n,"storesNo")),t.xp6(3),t.Q6J("label","PROPERTY.BACK_YARD")("type",e.InputTypes.TEXT)("FormControl",e.formArrayControl(n,"backyardNo")),t.xp6(2),t.Q6J("label","PROPERTY.LIVING_ROOM")("type",e.InputTypes.TEXT)("FormControl",e.formArrayControl(n,"livingRoomNo")),t.xp6(2),t.Q6J("label","PROPERTY.CENTRAL_AC")("type",e.InputTypes.TEXT)("FormControl",e.formArrayControl(n,"centralAirConditionNumber")),t.xp6(3),t.Q6J("label","PROPERTY.SPLIT_AC")("type",e.InputTypes.TEXT)("FormControl",e.formArrayControl(n,"airConditionNumber")),t.xp6(2),t.Q6J("label","PROPERTY.DESERT_AC")("type",e.InputTypes.TEXT)("FormControl",e.formArrayControl(n,"desertAirConditionNumber")),t.xp6(3),t.Q6J("label",t.lcZ(62,86,"PROPERTY.DRESSING"))("type",e.InputTypes.TOGGLE)("FormControl",e.formArrayControl(n,"hasDressing")),t.xp6(3),t.Q6J("label",t.lcZ(65,88,"PROPERTY.BUILT_IN_KITCHEN"))("type",e.InputTypes.TOGGLE)("FormControl",e.formArrayControl(n,"hasKitchen")),t.xp6(3),t.hij("",t.lcZ(68,90,"PROPERTY.SERVICES"),": "),t.xp6(4),t.Q6J("label",t.lcZ(72,92,"PROPERTY.GAS"))("type",e.InputTypes.TOGGLE)("FormControl",e.formArrayControl(n,"hasGasMeter")),t.xp6(3),t.Q6J("label",t.lcZ(75,94,"PROPERTY.ELECTRICITY"))("type",e.InputTypes.TOGGLE)("FormControl",e.formArrayControl(n,"hasElectricityMeter")),t.xp6(3),t.Q6J("label",t.lcZ(78,96,"PROPERTY.WATER"))("type",e.InputTypes.TOGGLE)("FormControl",e.formArrayControl(n,"hasWaterMeter"))}}function lt(o,r){if(1&o){const n=t.EpF();t.TgZ(0,"button",35),t.NdJ("click",function(){t.CHM(n);const a=t.oxw();return t.KtG(a.handleBack())}),t._uU(1),t.ALo(2,"translate"),t.qZA()}2&o&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"ACTIONS.BACK")," "))}function pt(o,r){if(1&o){const n=t.EpF();t.TgZ(0,"button",36),t.NdJ("click",function(){t.CHM(n);const a=t.oxw();return t.KtG(a.handleNext())}),t._uU(1),t.ALo(2,"translate"),t.qZA()}2&o&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"ACTIONS.NEXT")," "))}const _=function(o){return{list:o,key:"id",value:"name"}},st=function(o){return{"mt-5":o}};let x=(()=>{class o{constructor(n,e,a,l,m,Ft,Nt,kt){this.fb=n,this.propertyLogicService=e,this.translationService=a,this.dialog=m,this.toastrService=Ft,this.activatedRoute=Nt,this.router=kt,this.selectedIndex=0,this.allowedTypes=["pdf","png","jpeg","tiff"],this.subs=new R.t,this.editMode=!1,this.oldDocumentAttachments=[],this.oldAttachments=[],this.realEstateAttachments=[],this.addEditProperty=this.fb.group({propertyDocument:this.fb.group({documentTypeId:[null,[i.kI.required]],documentNumber:["",[i.kI.required]],releaseDate:["",[i.kI.required]],attachment:["",[i.kI.required]],id:[null]}),owner:this.fb.group({name:["",[i.kI.required]],ownerId:[null,[i.kI.required]],ownerBirthDay:["",[i.kI.required]],districtId:["",[i.kI.required]],city:[""],area:[""],id:[null]}),realEstateDetails:this.fb.group({name:["",[i.kI.required]],realEstateNumber:["",[i.kI.required]],numOfFloors:[null,[i.kI.required]],numOfProperty:[null,[i.kI.required]],address:["",[i.kI.required]],buildingNumber:["",[i.kI.required]],addationalNumber:["",[i.kI.required]],buildDate:["",[i.kI.required]],realEstateTypeId:[null,[i.kI.required]],realEstateUseId:[null,[i.kI.required]],id:[null]}),properties:this.fb.array([this.handelCreateUnit()])}),this.stepperOrientation=l.observe("(min-width: 800px)").pipe((0,s.U)(({matches:qt})=>qt?"horizontal":"vertical"))}ngOnInit(){this.realestateId=+this.activatedRoute.snapshot.params.id,this.editMode=!!this.realestateId,this.subs.add=this.translationService.currentLanguage$.subscribe(n=>{this.currentLang=n,this.propertyTypes$=this.propertyLogicService.getPropertyLookup("RealEstateType").pipe((0,g.d)(1)),this.propertyUsageTypes$=this.propertyLogicService.getPropertyLookup("RealEstateUse").pipe((0,g.d)(1)),this.documentTypes$=this.propertyLogicService.getDocumentTypes().pipe((0,g.d)(1)),this.cities$=this.propertyLogicService.getPropertyLookup("city").pipe((0,g.d)(1))}),this.realestateId&&this.getRealEstateInfo()}onLogoChange(n){this.attachment={};const e=new FormData,a=n[0];e.append("Attachment",a,a.name),this.attachment=e,this.propertyLogicService.uploadAttachments(this.attachment).subscribe(l=>{this.addEditProperty.get("propertyDocument")?.get("attachment")?.patchValue(l.fileName)})}getRealEstateInfo(){this.propertyLogicService.getRealEstateById(this.realestateId).subscribe(n=>{this.addEditProperty.patchValue(n),n.realEstateAttachments.map(e=>{this.realEstateAttachments.push(e.attachment)}),this.oldDocumentAttachments.push(n.propertyDocument.attachment),this.oldAttachments=n.realEstateAttachments,this.areas$=this.propertyLogicService.getCityAreas(n.owner.city).pipe((0,g.d)(1)),this.districts$=this.propertyLogicService.getAreaDistricts(n.owner.area).pipe((0,g.d)(1)),console.log(n),console.log(this.oldDocumentAttachments),console.log(this.cities$)})}onAttachmentsChange(n){this.realEstateAttachments=[];const e=new FormData;for(let a=0;a<n.length;a++){this.attachment={};const l=n[a];e.append("Attachment",l,l.name),this.attachment=e,this.propertyLogicService.uploadAttachments(this.attachment).subscribe(m=>{this.realEstateAttachments.push(m.fileName)})}}onCityChange(n){this.formControl("owner","area").reset(),this.formControl("owner","districtId").reset(),this.areas$=this.propertyLogicService.getCityAreas(n.event.value).pipe((0,g.d)(1))}onDistrictChange(n){this.formControl("owner","districtId").reset(),this.districts$=this.propertyLogicService.getAreaDistricts(n.event.value).pipe((0,g.d)(1))}onSelection(n){this.selectedIndex=n.selectedIndex}get properties(){return this.addEditProperty.get("properties")}handelCreateUnit(){return this.fb.group({id:[null],propertyNumber:["",[i.kI.required]],propertyType:["",[i.kI.required]],propertyUse:["",[i.kI.required]],floorNumber:["",[i.kI.required]],area:["",[i.kI.required]],buildDate:["",[i.kI.required]],propertyFinish:["",[i.kI.required]],roomsNo:[null,[i.kI.required]],furnished:[!1,[i.kI.required]],furnishedType:[""],hasDressing:[!1,[i.kI.required]],hasKitchen:[!1,[i.kI.required]],hasGasMeter:[!1,[i.kI.required]],hasElectricityMeter:[!1,[i.kI.required]],hasWaterMeter:[!1,[i.kI.required]],bedRoomsNo:[null,[i.kI.required]],bathroomsNo:[null,[i.kI.required]],hallNo:[null,[i.kI.required]],maidRoomNumber:[null,[i.kI.required]],kitchenNo:[null,[i.kI.required]],storesNo:[null,[i.kI.required]],backyardNo:[null,[i.kI.required]],livingRoomNo:[null,[i.kI.required]],centralAirConditionNumber:[null,[i.kI.required]],airConditionNumber:[null,[i.kI.required]],desertAirConditionNumber:[null,[i.kI.required]]})}handleAddUnit(){this.properties.push(this.handelCreateUnit())}onDeleteUnit(n,e){this.properties.removeAt(n)}handleNext(){this.selectedIndex<5&&this.selectedIndex++,console.log(this.addEditProperty)}handleBack(){this.selectedIndex>0&&this.selectedIndex--}formControl(n,e){return this.addEditProperty?.get(n)?.get(e)}formArrayControl(n,e){return this.properties?.controls[n].get(e)}formGroup(n){return this.addEditProperty?.get(n)}onAddProperty(n){const e={...n.value,realEstateAttachments:this.realEstateAttachments};this.editMode?this.editRealEstate():this.propertyLogicService.createRealEstate(e).subscribe(a=>{this.toastrService.showToastr("Real Estate Created successfully",y.V.success),this.router.navigateByUrl("/property")},()=>{this.toastrService.showToastr("An error occured when executing the create statement ,try again !",y.V.error)})}editRealEstate(){const n={...this.addEditProperty.value,realEstateAttachments:this.realEstateAttachments};this.propertyLogicService.editRealEstate(n).subscribe(e=>{this.toastrService.showToastr("Real Estate Updated Successfully",y.V.success),this.router.navigateByUrl("/property")})}get InputTypes(){return A.o}get Lang(){return O.U}ngOnDestroy(){this.subs.unsubscribe()}}return o.\u0275fac=function(n){return new(n||o)(t.Y36(i.qu),t.Y36(b),t.Y36(E.D),t.Y36(w.Yg),t.Y36(C.uw),t.Y36(L._),t.Y36(f.gz),t.Y36(f.F0))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-add-edit-property"]],decls:124,vars:168,consts:[["RtlDir","",1,"add-edit-property"],[1,"content-wrapper"],["autocomplete","off",3,"formGroup","ngSubmit"],["RtlDir","",1,"form-stepper",3,"orientation","selectedIndex","selectionChange"],[3,"label","stepControl"],["autocomplete","off",3,"formGroup"],[1,"property-tab"],[1,"form-wrapper","mt-5"],[1,"form-row"],[1,"form-control-wrapper"],[3,"label","type","selectOptions","FormControl"],[3,"label","type","FormControl"],[3,"label","FormControl","isArabicDatePicker",4,"ngIf"],["label","PROPERTY.UPLOAD_A_COPY_OF_PROPERTY_DOCUMENT","canAccept","application/pdf,image/png,image/jpeg,image/tiff\n                            ",3,"singleFile","formGroup","formControl","editMode","oldAttachments","allowedTypes","onAttachmentChange"],[3,"label","type","selectOptions","FormControl","selectedOption"],[3,"stepControl","label"],[1,"form-row","equal-columns"],["formArrayName","properties"],["class","form-wrapper mt-5 unit-wrapper",3,"formGroupName",4,"ngFor","ngForOf"],[1,"add-btn-wrapper",3,"ngClass"],[1,"ac-btn","btn-fill",3,"click"],[3,"label"],[1,"form-control-wrapper","mt-5"],["label","PROPERTY.ADD_ATTACHMENTS","canAccept","application/pdf,image/png,image/jpeg,image/tiff\n                    ",3,"singleFile","editMode","oldAttachments","allowedTypes","onAttachmentChange"],[1,"add-edit-actions","mt-1"],["type","button",1,"ac-btn","btn-outlined"],["type","button","class","ac-btn btn-outlined",3,"click",4,"ngIf"],["type","button","class","ac-btn btn-fill",3,"click",4,"ngIf"],["type","submit",1,"ac-btn","btn-outlined",3,"disabled"],[3,"label","FormControl","isArabicDatePicker"],[1,"form-wrapper","mt-5","unit-wrapper",3,"formGroupName"],[1,"unit-title"],[1,"form-toggle-wrapper"],["class","form-control-wrapper",4,"ngIf"],[1,"form-row","equal-columns","mb-1"],["type","button",1,"ac-btn","btn-outlined",3,"click"],["type","button",1,"ac-btn","btn-fill",3,"click"]],template:function(n,e){1&n&&(t.TgZ(0,"div",0)(1,"div",1)(2,"form",2),t.NdJ("ngSubmit",function(){return e.onAddProperty(e.addEditProperty)}),t.TgZ(3,"mat-stepper",3),t.NdJ("selectionChange",function(l){return e.onSelection(l)}),t.ALo(4,"async"),t.TgZ(5,"mat-step",4),t.ALo(6,"translate"),t.TgZ(7,"form",5)(8,"div",6)(9,"h4"),t._uU(10),t.ALo(11,"translate"),t.qZA(),t.TgZ(12,"div",7)(13,"div",8)(14,"div",9),t._UZ(15,"form-input",10),t.ALo(16,"translate"),t.ALo(17,"async"),t.qZA(),t.TgZ(18,"div",9),t._UZ(19,"form-input",11),t.qZA()(),t.TgZ(20,"div",9),t.YNc(21,V,1,3,"locale-date-picker",12),t.YNc(22,K,1,3,"locale-date-picker",12),t.qZA(),t.TgZ(23,"div",9)(24,"upload-file",13),t.NdJ("onAttachmentChange",function(l){return e.onLogoChange(l)}),t.qZA()()()()()(),t.TgZ(25,"mat-step",4),t.ALo(26,"translate"),t.TgZ(27,"form",5)(28,"div",6)(29,"h4"),t._uU(30),t.ALo(31,"translate"),t.qZA(),t.TgZ(32,"div",7)(33,"div",8)(34,"div",9),t._UZ(35,"form-input",11),t.qZA(),t.TgZ(36,"div",9),t._UZ(37,"form-input",11),t.qZA()(),t.TgZ(38,"div",9),t.YNc(39,W,1,3,"locale-date-picker",12),t.YNc(40,tt,1,3,"locale-date-picker",12),t.qZA(),t.TgZ(41,"h6"),t._uU(42),t.ALo(43,"translate"),t.qZA(),t.TgZ(44,"div",8)(45,"div",9)(46,"form-input",14),t.NdJ("selectedOption",function(l){return e.onCityChange(l)}),t.ALo(47,"translate"),t.ALo(48,"async"),t.qZA()(),t.TgZ(49,"div",9)(50,"form-input",14),t.NdJ("selectedOption",function(l){return e.onDistrictChange(l)}),t.ALo(51,"translate"),t.ALo(52,"async"),t.qZA()(),t.TgZ(53,"div",9),t._UZ(54,"form-input",10),t.ALo(55,"translate"),t.ALo(56,"async"),t.qZA()()()()()(),t.TgZ(57,"mat-step",15),t.ALo(58,"translate"),t.TgZ(59,"form",5)(60,"div",6)(61,"h4"),t._uU(62),t.ALo(63,"translate"),t.qZA(),t.TgZ(64,"div",7)(65,"div",16)(66,"div",9),t._UZ(67,"form-input",10),t.ALo(68,"translate"),t.ALo(69,"async"),t.qZA(),t.TgZ(70,"div",9),t._UZ(71,"form-input",10),t.ALo(72,"translate"),t.ALo(73,"async"),t.qZA(),t.TgZ(74,"div",9),t.YNc(75,et,1,3,"locale-date-picker",12),t.YNc(76,nt,1,3,"locale-date-picker",12),t.qZA()(),t.TgZ(77,"div",16)(78,"div",9),t._UZ(79,"form-input",11),t.qZA(),t.TgZ(80,"div",9),t._UZ(81,"form-input",11),t.qZA(),t.TgZ(82,"div",9),t._UZ(83,"form-input",11),t.qZA()(),t.TgZ(84,"div",16)(85,"div",9),t._UZ(86,"form-input",11),t.qZA(),t.TgZ(87,"div",9),t._UZ(88,"form-input",11),t.qZA(),t.TgZ(89,"div",9),t._UZ(90,"form-input",11),t.qZA()(),t.TgZ(91,"div",9),t._UZ(92,"form-input",11),t.qZA()()()()(),t.TgZ(93,"mat-step",15),t.ALo(94,"translate"),t.TgZ(95,"form",5)(96,"div",17)(97,"div",6)(98,"h4"),t._uU(99),t.ALo(100,"translate"),t.qZA(),t.YNc(101,at,79,98,"div",18),t.TgZ(102,"div",19)(103,"button",20),t.NdJ("click",function(){return e.handleAddUnit()}),t._uU(104),t.ALo(105,"translate"),t.qZA()()()()()(),t.TgZ(106,"mat-step",21),t.ALo(107,"translate"),t.TgZ(108,"div",6)(109,"h4"),t._uU(110),t.ALo(111,"translate"),t.qZA(),t.TgZ(112,"div",22)(113,"upload-file",23),t.NdJ("onAttachmentChange",function(l){return e.onAttachmentsChange(l)}),t.qZA()()()()(),t.TgZ(114,"div",24)(115,"div")(116,"button",25),t._uU(117),t.ALo(118,"translate"),t.qZA(),t.YNc(119,lt,3,3,"button",26),t.YNc(120,pt,3,3,"button",27),t.TgZ(121,"button",28),t._uU(122),t.ALo(123,"translate"),t.qZA()()()()()()),2&n&&(t.xp6(2),t.Q6J("formGroup",e.addEditProperty),t.xp6(1),t.Q6J("orientation",t.lcZ(4,100,e.stepperOrientation))("selectedIndex",e.selectedIndex),t.xp6(2),t.Q6J("label",t.lcZ(6,102,"PROPERTY.PROPERTY_DOCUMENTS"))("stepControl",e.formGroup("propertyDocument")),t.xp6(2),t.Q6J("formGroup",e.formGroup("propertyDocument")),t.xp6(3),t.Oqu(t.lcZ(11,104,"PROPERTY.ADD_PROPERTY_DOCUMENT")),t.xp6(5),t.Q6J("label",t.lcZ(16,106,"PROPERTY.LEGAL_DOCUMENT_TYPE"))("type",e.InputTypes.SELECT)("selectOptions",t.VKq(154,_,t.lcZ(17,108,e.documentTypes$)))("FormControl",e.formControl("propertyDocument","documentTypeId")),t.xp6(4),t.Q6J("label","PROPERTY.PROPERTY_DOCUMENT_NUMBER")("type",e.InputTypes.NUMBER)("FormControl",e.formControl("propertyDocument","documentNumber")),t.xp6(2),t.Q6J("ngIf",e.currentLang===e.Lang.arabic),t.xp6(1),t.Q6J("ngIf",e.currentLang!==e.Lang.arabic),t.xp6(2),t.Q6J("singleFile",!0)("formGroup",e.addEditProperty)("formControl",e.formControl("propertyDocument","attachment"))("editMode",e.editMode)("oldAttachments",e.oldAttachments)("allowedTypes",e.allowedTypes),t.xp6(1),t.Q6J("label",t.lcZ(26,110,"PROPERTY.PROPERTY_OWNERS"))("stepControl",e.formGroup("owner")),t.xp6(2),t.Q6J("formGroup",e.formGroup("owner")),t.xp6(3),t.Oqu(t.lcZ(31,112,"PROPERTY.ADD_PROPERTY_OWNER")),t.xp6(5),t.Q6J("label","PROPERTY.NATIONAL_ID")("type",e.InputTypes.TEXT)("FormControl",e.formControl("owner","ownerId")),t.xp6(2),t.Q6J("label","LABELS.FORM.FULL_NAME")("type",e.InputTypes.TEXT)("FormControl",e.formControl("owner","name")),t.xp6(2),t.Q6J("ngIf",e.currentLang===e.Lang.arabic),t.xp6(1),t.Q6J("ngIf",e.currentLang!==e.Lang.arabic),t.xp6(2),t.hij("",t.lcZ(43,114,"LABELS.FORM.ADDRESS_IN_SAUDI"),": "),t.xp6(4),t.Q6J("label",t.lcZ(47,116,"LABELS.CITY"))("type",e.InputTypes.SELECT)("selectOptions",t.VKq(156,_,t.lcZ(48,118,e.cities$)))("FormControl",e.formControl("owner","city")),t.xp6(4),t.Q6J("label",t.lcZ(51,120,"LABELS.AREA"))("type",e.InputTypes.SELECT)("selectOptions",t.VKq(158,_,t.lcZ(52,122,e.areas$)))("FormControl",e.formControl("owner","area")),t.xp6(4),t.Q6J("label",t.lcZ(55,124,"LABELS.DISTRICT"))("type",e.InputTypes.SELECT)("selectOptions",t.VKq(160,_,t.lcZ(56,126,e.districts$)))("FormControl",e.formControl("owner","districtId")),t.xp6(3),t.Q6J("stepControl",e.formGroup("realEstateDetails"))("label",t.lcZ(58,128,"PROPERTY.PROPERTY_DETAILS")),t.xp6(2),t.Q6J("formGroup",e.formGroup("realEstateDetails")),t.xp6(3),t.Oqu(t.lcZ(63,130,"PROPERTY.ADD_PROPERTY_DETAILS")),t.xp6(5),t.Q6J("label",t.lcZ(68,132,"PROPERTY.PROPERTY_TYPE"))("type",e.InputTypes.SELECT)("selectOptions",t.VKq(162,_,t.lcZ(69,134,e.propertyTypes$)))("FormControl",e.formControl("realEstateDetails","realEstateTypeId")),t.xp6(4),t.Q6J("label",t.lcZ(72,136,"PROPERTY.PROPERTY_USAGE"))("type",e.InputTypes.SELECT)("selectOptions",t.VKq(164,_,t.lcZ(73,138,e.propertyUsageTypes$)))("FormControl",e.formControl("realEstateDetails","realEstateUseId")),t.xp6(4),t.Q6J("ngIf",e.currentLang===e.Lang.arabic),t.xp6(1),t.Q6J("ngIf",e.currentLang!==e.Lang.arabic),t.xp6(3),t.Q6J("label","PROPERTY.PROPERTY_NUMBER")("type",e.InputTypes.TEXT)("FormControl",e.formControl("realEstateDetails","realEstateNumber")),t.xp6(2),t.Q6J("label","PROPERTY.NUMBER_OF_FLOORS")("type",e.InputTypes.NUMBER)("FormControl",e.formControl("realEstateDetails","numOfFloors")),t.xp6(2),t.Q6J("label","PROPERTY.TOTAL_NUMBER_OF_FLOORS")("type",e.InputTypes.NUMBER)("FormControl",e.formControl("realEstateDetails","numOfProperty")),t.xp6(3),t.Q6J("label","LABELS.FORM.NAME")("type",e.InputTypes.TEXT)("FormControl",e.formControl("realEstateDetails","name")),t.xp6(2),t.Q6J("label","LABELS.FORM.ADDRESS_IN_SAUDI")("type",e.InputTypes.TEXT)("FormControl",e.formControl("realEstateDetails","address")),t.xp6(2),t.Q6J("label","PROPERTY.BUILDING_NUMBER")("type",e.InputTypes.TEXT)("FormControl",e.formControl("realEstateDetails","buildingNumber")),t.xp6(2),t.Q6J("label","PROPERTY.ADDITIONAL_NUMBER")("type",e.InputTypes.TEXT)("FormControl",e.formControl("realEstateDetails","addationalNumber")),t.xp6(1),t.Q6J("stepControl",e.formGroup("properties"))("label",t.lcZ(94,140,"PROPERTY.UNITS_DETAILS")),t.xp6(2),t.Q6J("formGroup",e.addEditProperty),t.xp6(4),t.Oqu(t.lcZ(100,142,"PROPERTY.ADD_UNITS_DETAILS")),t.xp6(2),t.Q6J("ngForOf",e.properties.controls),t.xp6(1),t.Q6J("ngClass",t.VKq(166,st,0===e.properties.length)),t.xp6(2),t.hij(" ",t.lcZ(105,144,"ACTIONS.ADD_UNIT")," "),t.xp6(2),t.Q6J("label",t.lcZ(107,146,"PROPERTY.ATTCHMENTS")),t.xp6(4),t.Oqu(t.lcZ(111,148,"PROPERTY.ATTCHMENTS")),t.xp6(3),t.Q6J("singleFile",!1)("editMode",e.editMode)("oldAttachments",e.oldAttachments)("allowedTypes",e.allowedTypes),t.xp6(4),t.hij(" ",t.lcZ(118,150,"ACTIONS.CANCEL")," "),t.xp6(2),t.Q6J("ngIf",e.selectedIndex>0),t.xp6(1),t.Q6J("ngIf",4!==e.selectedIndex),t.xp6(1),t.Q6J("disabled",e.addEditProperty.invalid),t.xp6(1),t.hij(" ",t.lcZ(123,152,"ACTIONS.SAVE")," "))},dependencies:[c.mk,c.sg,c.O5,v.C0,v.Vq,h.C,i._Y,i.JJ,i.JL,i.oH,i.sg,i.x0,i.CE,U.s,D.L,H,c.Ov,u.X$],styles:['.add-edit-property[_ngcontent-%COMP%]{display:grid;column-gap:15px;height:100%}.add-edit-property[_ngcontent-%COMP%]   .content-wrapper[_ngcontent-%COMP%]{margin:2%;border-radius:20px;padding:15px 20px}.add-edit-property[_ngcontent-%COMP%]   .content-wrapper[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .property-tab[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{position:relative}.add-edit-property[_ngcontent-%COMP%]   .content-wrapper[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .property-tab[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]:after{content:" ";width:91px;color:#000;background:linear-gradient(172deg,#47858b -15.74%,#4e55a2 111.09%);height:5px;position:absolute;bottom:-15px;left:3px;border-radius:8px}.add-edit-property[_ngcontent-%COMP%]   .content-wrapper[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .property-tab[_ngcontent-%COMP%]   .unit-title[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin-bottom:15px}.add-edit-property[_ngcontent-%COMP%]   .content-wrapper[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .property-tab[_ngcontent-%COMP%]   .unit-title[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{font-weight:700}.add-edit-property[_ngcontent-%COMP%]   .content-wrapper[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .property-tab[_ngcontent-%COMP%]   .unit-title[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#f44336;cursor:pointer}.add-edit-property[_ngcontent-%COMP%]   .content-wrapper[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .property-tab[_ngcontent-%COMP%]   .unit-wrapper[_ngcontent-%COMP%]{border:1px solid #eee;padding:10px;border-radius:5px;margin-bottom:15px}.add-edit-property[_ngcontent-%COMP%]   .content-wrapper[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .property-tab[_ngcontent-%COMP%]   .form-row[_ngcontent-%COMP%]{display:grid;column-gap:15px;grid-template-columns:repeat(auto-fill,minmax(360px,1fr))}.add-edit-property[_ngcontent-%COMP%]   .content-wrapper[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .property-tab[_ngcontent-%COMP%]   .form-row.equal-columns[_ngcontent-%COMP%]{grid-template-columns:repeat(auto-fill,minmax(270px,1fr))}.add-edit-property[_ngcontent-%COMP%]   .content-wrapper[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .property-tab[_ngcontent-%COMP%]   .add-btn-wrapper[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:20%}.add-edit-property[_ngcontent-%COMP%]   .content-wrapper[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .property-tab[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]{margin-bottom:15px}.add-edit-property[_ngcontent-%COMP%]   .content-wrapper[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .property-tab[_ngcontent-%COMP%]   .form-toggle-wrapper[_ngcontent-%COMP%]{align-items:center;display:flex;height:62px}.add-edit-property[_ngcontent-%COMP%]   .content-wrapper[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .add-edit-actions[_ngcontent-%COMP%]{border-radius:9px;background-color:#fff;padding:10px 20px;display:flex;justify-content:flex-end}.add-edit-property[_ngcontent-%COMP%]   .content-wrapper[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .add-edit-actions[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{display:flex;gap:15px;background-color:#fff}.add-edit-property[_ngcontent-%COMP%]   .content-wrapper[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .add-edit-actions[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:120px}.add-edit-property.rtl[_ngcontent-%COMP%]{font-family:Cairo,sans-serif!important}.add-edit-property.rtl[_ngcontent-%COMP%]   .property-tab[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]:after{right:3px;left:unset}  .mat-stepper-horizontal,   .mat-stepper-vertical{background-color:transparent;height:95%}  .mat-stepper-horizontal.rtl,   .mat-stepper-vertical.rtl{font-family:Cairo,sans-serif!important}  .mat-stepper-horizontal.rtl .mat-horizontal-stepper-header .mat-step-icon,   .mat-stepper-vertical.rtl .mat-horizontal-stepper-header .mat-step-icon{margin-right:unset;margin-left:8px}  .mat-horizontal-stepper-header-container{gap:24px;flex-direction:column;padding:15px 0;border-radius:6px;background-color:#fff}  .mat-step-header[aria-selected=true]{background-color:#f4f4f4;border-radius:9px}  .mat-step-header{width:165px!important}  .mat-horizontal-stepper-wrapper{display:grid!important;grid-template-columns:260px calc(100% - 270px)!important;column-gap:15px!important;height:99%}  .mat-horizontal-content-container{border:1px solid #eee;border-radius:9px;padding:24px!important;background-color:#fff}  .mat-stepper-horizontal-line{display:none}  .mat-step-header:hover:not([aria-disabled]){border-radius:9px}  .mat-horizontal-stepper-content{position:relative;height:100%}']}),o})();var Z=p(9646);let dt=(()=>{class o{constructor(n,e){this.dialogRef=n,this.data=e,this.title=e.title,this.message=e.message,this.actionLabel=e.actionLabel,this.iconClass=e.iconClass,this.itemIndex=e.itemIndex}ngOnInit(){}onConfirm(){this.dialogRef.close(!0)}onDismiss(){this.dialogRef.close(!1)}}return o.\u0275fac=function(n){return new(n||o)(t.Y36(C.so),t.Y36(C.WI))},o.\u0275cmp=t.Xpm({type:o,selectors:[["confirm-dialog"]],decls:22,vars:17,consts:[["RtlDir","",1,"confirmation-dialog"],[1,"confirmation-dialog__content"],[1,"confirmation-dialog__icon",3,"ngClass"],[1,"confirmation-dialog__message"],[1,"fa","fa-light","fa-flag-pennant"],[1,"confirmation-dialog__actions"],[1,"confirmation-dialog__actions__confirm",3,"click"],[1,"confirmation-dialog__actions__dismiss",3,"click"]],template:function(n,e){1&n&&(t.TgZ(0,"div",0)(1,"div",1),t._UZ(2,"span",2),t.TgZ(3,"div")(4,"h3"),t._uU(5),t.ALo(6,"translate"),t.TgZ(7,"span"),t._uU(8),t.ALo(9,"translate"),t.qZA()(),t.TgZ(10,"div",3),t._UZ(11,"i",4),t.TgZ(12,"p"),t._uU(13),t.ALo(14,"translate"),t.qZA()(),t.TgZ(15,"div",5)(16,"button",6),t.NdJ("click",function(){return e.onConfirm()}),t._uU(17),t.ALo(18,"translate"),t.qZA(),t.TgZ(19,"button",7),t.NdJ("click",function(){return e.onDismiss()}),t._uU(20),t.ALo(21,"translate"),t.qZA()()()()()),2&n&&(t.xp6(2),t.Q6J("ngClass",e.iconClass?e.iconClass:"fa-solid fa-trash"),t.xp6(3),t.hij("",t.lcZ(6,7,"LABELS.FORM.YOU_ARE_ABOUT")," "),t.xp6(3),t.AsE(" ",t.lcZ(9,9,e.title)," ",e.itemIndex,""),t.xp6(5),t.Oqu(t.lcZ(14,11,e.message)),t.xp6(4),t.hij(" ",t.lcZ(18,13,e.actionLabel)," "),t.xp6(3),t.hij(" ",t.lcZ(21,15,"ACTIONS.CANCEL")," "))},dependencies:[c.mk,h.C,u.X$],styles:[".btn-outlined[_ngcontent-%COMP%], .confirmation-dialog__actions__dismiss[_ngcontent-%COMP%], .btn-fill[_ngcontent-%COMP%], .confirmation-dialog__actions__confirm[_ngcontent-%COMP%]{display:flex;align-items:center;border:none;cursor:pointer;font-size:1rem;line-height:2em;font-weight:500;border-radius:8px;padding:.4em 1.33em;background-color:transparent;transition:.4s ease-in-out;width:100%;transition-property:background-color,color,outline;justify-content:center}.btn-outlined[_ngcontent-%COMP%]:disabled, .confirmation-dialog__actions__dismiss[_ngcontent-%COMP%]:disabled, .btn-fill[_ngcontent-%COMP%]:disabled, .confirmation-dialog__actions__confirm[_ngcontent-%COMP%]:disabled{background-color:#d1d1d1;border:1px solid #d1d1d1;color:#fff;cursor:not-allowed}.btn-outlined[_ngcontent-%COMP%]:disabled:hover, .confirmation-dialog__actions__dismiss[_ngcontent-%COMP%]:disabled:hover, .btn-fill[_ngcontent-%COMP%]:disabled:hover, .confirmation-dialog__actions__confirm[_ngcontent-%COMP%]:disabled:hover{background-color:#d1d1d1;border:1px solid #d1d1d1;cursor:not-allowed;color:#fff}.btn-fill[_ngcontent-%COMP%], .confirmation-dialog__actions__confirm[_ngcontent-%COMP%]{background-color:#4e57a1;border:1px solid #4e57a1;color:#fff}.btn-fill[_ngcontent-%COMP%]:hover, .confirmation-dialog__actions__confirm[_ngcontent-%COMP%]:hover{background-color:#fff;color:#4e57a1;border:1px solid #4e57a1}.btn-outlined[_ngcontent-%COMP%], .confirmation-dialog__actions__dismiss[_ngcontent-%COMP%]{background-color:#fff;border:1px solid #4e57a1;color:#4e57a1}.btn-outlined[_ngcontent-%COMP%]:hover, .confirmation-dialog__actions__dismiss[_ngcontent-%COMP%]:hover{background-color:#4e57a1;color:#fff;border:1px solid #4e57a1}.confirmation-dialog__content[_ngcontent-%COMP%]{display:flex;gap:20px}.confirmation-dialog__content[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-bottom:15px}.confirmation-dialog__icon[_ngcontent-%COMP%]{display:inline-block;margin-top:5px;font-size:26px;color:#ed1c24}.confirmation-dialog__message[_ngcontent-%COMP%]{display:flex;align-items:center;gap:10px;margin-bottom:15px}.confirmation-dialog__message[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#5d5f6f;margin:0}.confirmation-dialog__actions[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;gap:1rem}.confirmation-dialog__actions__dismiss[_ngcontent-%COMP%], .confirmation-dialog__actions__confirm[_ngcontent-%COMP%]{padding-left:2em;padding-right:2em}.confirmation-dialog__actions__dismiss[_ngcontent-%COMP%]{background-color:#fff}.confirmation-dialog.rtl[_ngcontent-%COMP%]{font-family:Cairo,sans-serif!important}.confirmation-dialog.rtl[_ngcontent-%COMP%]   .confirmation-dialog__actions[_ngcontent-%COMP%], .confirmation-dialog.rtl[_ngcontent-%COMP%]   .confirmation-dialog__content[_ngcontent-%COMP%]{flex-direction:row-reverse}.confirmation-dialog.rtl[_ngcontent-%COMP%]   .confirmation-dialog__content[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{width:80%}"]}),o})();var gt=p(4859),T=p(8255),mt=p(8739);let ut=(()=>{class o{constructor(){this.buttonClick=new t.vpe}ngOnInit(){}}return o.\u0275fac=function(n){return new(n||o)},o.\u0275cmp=t.Xpm({type:o,selectors:[["empty-state"]],inputs:{emptyStateConfig:"emptyStateConfig"},outputs:{buttonClick:"buttonClick"},decls:8,vars:5,consts:[[1,"empty-state-container"],[1,"state-icon",3,"ngClass"],[1,"state-text-container"],[1,"state-text"]],template:function(n,e){1&n&&(t.TgZ(0,"div",0),t._UZ(1,"span",1),t.TgZ(2,"div",2)(3,"h4",3),t._uU(4),t.ALo(5,"translate"),t.qZA(),t.TgZ(6,"p",3),t._uU(7),t.qZA()()()),2&n&&(t.xp6(1),t.Q6J("ngClass",e.emptyStateConfig.iconClass?e.emptyStateConfig.iconClass:"fa fa-light fa-triangle-exclamation"),t.xp6(3),t.Oqu(t.lcZ(5,3,e.emptyStateConfig.headline)),t.xp6(3),t.Oqu(e.emptyStateConfig.addtiotionalMessage))},dependencies:[c.mk,u.X$],styles:[".empty-state-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;height:100%;margin:40px 0;color:#d1d1d1;min-height:250px}.empty-state-container[_ngcontent-%COMP%]   .state-icon[_ngcontent-%COMP%]:before{font-size:4.375rem;padding:0}.empty-state-container[_ngcontent-%COMP%]   .state-text-container[_ngcontent-%COMP%]{padding:16px 0;color:#5d5f6f;text-align:center;line-height:24px}.empty-state-container[_ngcontent-%COMP%]   .state-text-container[_ngcontent-%COMP%]   .state-text[_ngcontent-%COMP%]{margin:0;line-height:24px;opacity:50%;font-size:15px;letter-spacing:.7px}"]}),o})();const _t=["tableHead"],ft=["tableRows"];function ht(o,r){1&o&&t.GkF(0)}function Ct(o,r){1&o&&t.GkF(0)}const yt=function(o){return{$implicit:o}};function Tt(o,r){if(1&o&&(t.ynx(0),t.YNc(1,Ct,1,0,"ng-container",9),t.BQk()),2&o){const n=r.$implicit,e=t.oxw(2);t.xp6(1),t.Q6J("ngTemplateOutlet",e.tableRows)("ngTemplateOutletContext",t.VKq(2,yt,n))}}function Pt(o,r){if(1&o&&(t.ynx(0),t.TgZ(1,"tbody",7),t.YNc(2,Tt,2,4,"ng-container",8),t.qZA(),t.BQk()),2&o){const n=t.oxw();t.xp6(2),t.Q6J("ngForOf",null==n.dataSource?null:n.dataSource.data)}}const At=function(o){return{headline:o}};function Ot(o,r){if(1&o&&t._UZ(0,"empty-state",10),2&o){const n=t.oxw();let e;t.Q6J("emptyStateConfig",t.VKq(1,At,n.dataSource&&(null!==(e=n.dataSource.emptyState)&&void 0!==e?e:"No Search Results found!")))}}function bt(o,r){if(1&o){const n=t.EpF();t.TgZ(0,"mat-paginator",11),t.NdJ("page",function(a){t.CHM(n);const l=t.oxw();return t.KtG(l.getData(a))}),t.qZA()}if(2&o){const n=t.oxw();t.Q6J("length",n.length)("pageIndex",n.pageIndex)("pageSize",n.pageSize)}}const Et=["*"];let vt=(()=>{class o{constructor(){this.pagination=!0,this.pageChange=new t.vpe,this.length=0,this.pageIndex=0,this.pageSize=12}ngOnChanges(){this.length=this.dataSource?.length,this.pageIndex=this.dataSource?.pageIndex-1,this.pageSize=this.dataSource?.pageSize||this.pageSize}getData(n){return this.pageChange.emit(n),n}}return o.\u0275fac=function(n){return new(n||o)},o.\u0275cmp=t.Xpm({type:o,selectors:[["data-table"]],contentQueries:function(n,e,a){if(1&n&&(t.Suo(a,_t,5),t.Suo(a,ft,5)),2&n){let l;t.iGM(l=t.CRH())&&(e.tableHead=l.first),t.iGM(l=t.CRH())&&(e.tableRows=l.first)}},inputs:{dataSource:"dataSource",pagination:"pagination"},outputs:{pageChange:"pageChange"},features:[t.TTD],ngContentSelectors:Et,decls:8,vars:4,consts:[[1,"table"],[1,"table__head"],[4,"ngTemplateOutlet"],[4,"ngIf"],[3,"emptyStateConfig",4,"ngIf"],["RtlDir","",1,"table__foot"],["class","table__paginator",3,"length","pageIndex","pageSize","page",4,"ngIf"],[1,"table__body"],[4,"ngFor","ngForOf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"emptyStateConfig"],[1,"table__paginator",3,"length","pageIndex","pageSize","page"]],template:function(n,e){1&n&&(t.F$t(),t.TgZ(0,"table",0)(1,"thead",1),t.YNc(2,ht,1,0,"ng-container",2),t.qZA(),t.YNc(3,Pt,3,1,"ng-container",3),t.qZA(),t.YNc(4,Ot,1,3,"empty-state",4),t.TgZ(5,"div",5),t.YNc(6,bt,1,3,"mat-paginator",6),t.qZA(),t.Hsn(7)),2&n&&(t.xp6(2),t.Q6J("ngTemplateOutlet",e.tableHead),t.xp6(1),t.Q6J("ngIf",e.dataSource&&0!==e.dataSource.data.length),t.xp6(1),t.Q6J("ngIf",e.dataSource&&!e.dataSource.data.length),t.xp6(2),t.Q6J("ngIf",e.pagination))},dependencies:[c.sg,c.O5,c.tP,mt.NW,h.C,ut],styles:['[_nghost-%COMP%]{display:block;overflow:auto}.table[_ngcontent-%COMP%]{background:#edeef6;color:#181a31;margin:0;vertical-align:middle;font-size:.8rem;letter-spacing:.5px;overflow:hidden;border-radius:8px 8px 0 0}.table[_ngcontent-%COMP%]     tr th:last-child, .table[_ngcontent-%COMP%]     tr td:last-child{padding-right:1rem}.table[_ngcontent-%COMP%]     tr th:first-child, .table[_ngcontent-%COMP%]     tr td:first-child{padding-left:1rem}.table[_ngcontent-%COMP%]     td, .table[_ngcontent-%COMP%]     th{border:none}.table[_ngcontent-%COMP%]     td{min-width:200px;max-width:200px;color:#424242}.table[_ngcontent-%COMP%]     tr+tr{border-top:1px solid rgba(218,231,232,.1)}.table[_ngcontent-%COMP%]     tr{text-align:center!important}.table__head[_ngcontent-%COMP%]{position:sticky;top:0;left:0;right:0;z-index:10;box-shadow:0 1px 1px #5d5f6f66;background-color:#edeef6}.table__head[_ngcontent-%COMP%]     tr th{position:relative;font-size:1rem;font-weight:400;color:#181a31;font-weight:700}.table__head[_ngcontent-%COMP%]     tr th:not(:first-child):before{content:"";position:absolute;top:50%;left:0;transform:translateY(-50%);height:50%;width:1px;background-color:#5d5f6f33}.table__body[_ngcontent-%COMP%]{background:#fff;border:1px solid #eee;border-top:0;border-bottom:0}.table__body[_ngcontent-%COMP%]   .--not-active[_ngcontent-%COMP%]{background-color:#f9f9f9}.table__foot[_ngcontent-%COMP%]{border:1px solid #eee}.table__foot.rtl[_ngcontent-%COMP%]     .mat-paginator{direction:ltr!important}.table__foot.rtl[_ngcontent-%COMP%]     .mat-paginator .mat-paginator-container{justify-content:flex-start}']}),o})();function xt(o,r){1&o&&(t.TgZ(0,"tr")(1,"th"),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.TgZ(4,"th"),t._uU(5),t.ALo(6,"translate"),t.qZA(),t.TgZ(7,"th"),t._uU(8),t.ALo(9,"translate"),t.qZA(),t.TgZ(10,"th"),t._uU(11),t.ALo(12,"translate"),t.qZA(),t.TgZ(13,"th"),t._uU(14),t.ALo(15,"translate"),t.qZA()()),2&o&&(t.xp6(2),t.Oqu(t.lcZ(3,5,"PROPERTY.PROPERTY_NUMBER")),t.xp6(3),t.Oqu(t.lcZ(6,7,"LABELS.OWNER")),t.xp6(3),t.Oqu(t.lcZ(9,9,"PROPERTY.PROPERTY_TYPE")),t.xp6(3),t.Oqu(t.lcZ(12,11,"PROPERTY.PROPERTY_USAGE")),t.xp6(3),t.Oqu(t.lcZ(15,13,"ACTIONS.ACTIONS")))}const Zt=function(o){return["/property/edit-property",o]};function Rt(o,r){if(1&o){const n=t.EpF();t.TgZ(0,"tr")(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.TgZ(5,"td"),t._uU(6),t.qZA(),t.TgZ(7,"td"),t._uU(8),t.qZA(),t.TgZ(9,"td",11)(10,"button",12),t._UZ(11,"i",13),t.qZA(),t.TgZ(12,"mat-menu",11,14)(14,"button",15),t._uU(15),t.ALo(16,"translate"),t.qZA(),t.TgZ(17,"button",16),t.NdJ("click",function(){const l=t.CHM(n).$implicit,m=t.oxw(2);return t.KtG(m.handleRemoveProperty(l.id))}),t._uU(18),t.ALo(19,"translate"),t.qZA()()()()}if(2&o){const n=r.$implicit,e=t.MAs(13);t.xp6(2),t.hij(" ",null==n?null:n.realEstateNumber," "),t.xp6(2),t.hij(" ",null==n?null:n.ownerName," "),t.xp6(2),t.hij(" ",null==n?null:n.realEstateType," "),t.xp6(2),t.hij(" ",null==n?null:n.realEstateUse," "),t.xp6(2),t.Q6J("matMenuTriggerFor",e),t.xp6(4),t.Q6J("routerLink",t.VKq(12,Zt,null==n?null:n.id)),t.xp6(1),t.Oqu(t.lcZ(16,8,"ACTIONS.EDIT")),t.xp6(3),t.Oqu(t.lcZ(19,10,"ACTIONS.DELETE"))}}function Mt(o,r){}function It(o,r){if(1&o){const n=t.EpF();t.TgZ(0,"data-table",7),t.NdJ("pageChange",function(a){t.CHM(n);const l=t.oxw();return t.KtG(l.onPageChange(a))}),t.ALo(1,"async"),t.YNc(2,xt,16,15,"ng-template",null,8,t.W1O),t.YNc(4,Rt,20,14,"ng-template",null,9,t.W1O),t.YNc(6,Mt,0,0,"ng-template",null,10,t.W1O),t.qZA()}if(2&o){const n=t.oxw();t.Q6J("dataSource",t.lcZ(1,1,n.propertyTable$))}}const wt=function(){return["/property/add-property"]},Lt=[{title:"Properties",path:"",children:[{title:"Properties",path:"",component:(()=>{class o{constructor(n,e,a){this.translationService=n,this.propertyLogicService=e,this.dialog=a,this.propertyTable$=(0,Z.of)({data:[],length:0,pageSize:0,pageIndex:0,emptyState:"No Data Found!"}),this.date=new i.NI,this.propertyPagingPayload={pagedSearch:{pageIndex:1,pageSize:8}}}get InputTypes(){return A.o}ngOnInit(){this.getPropertyListing(),this.translationService.currentLanguage$.subscribe(n=>{this.currentLang=n})}onPageChange(n){this.propertyPagingPayload.pagedSearch.pageIndex=n.pageIndex+1,this.getPropertyListing()}handleRemoveProperty(n){return this.dialog.open(dt,{maxWidth:"550px",minWidth:"500px",data:{title:"ACTIONS.DELETE_REAL_ESTATE",message:"LABELS.FORM.ARE_YOU_SURE",actionLabel:"ACTIONS.DELETE"}}).afterClosed().subscribe(l=>{if(!l)return l;this.propertyLogicService.deleteProperty(n).subscribe(m=>{this.getPropertyListing()})})}getPropertyListing(){this.propertyLogicService.getRealEstates(this.propertyPagingPayload).subscribe(n=>{this.propertyTable$=(0,Z.of)({data:n.items,length:n.items.length,pageSize:8,pageIndex:1,emptyState:"LABELS.NO_DATA"})})}toRow(n){return n}get Lang(){return O.U}originalOrder(n,e){return 0}}return o.\u0275fac=function(n){return new(n||o)(t.Y36(E.D),t.Y36(b),t.Y36(C.uw))},o.\u0275cmp=t.Xpm({type:o,selectors:[["property-listing"]],decls:12,vars:9,consts:[[1,"page-container","property-listing"],[1,"page-header"],[1,"btn-wrapper"],[1,"ac-btn","btn-fill",3,"routerLink"],[1,"page-content"],[1,"table-wrapper"],["class","preview__table",3,"dataSource","pageChange",4,"ngIf"],[1,"preview__table",3,"dataSource","pageChange"],["tableHead",""],["tableRows",""],["loaderRef",""],["RtlDir",""],["mat-button","",3,"matMenuTriggerFor"],[1,"fa-solid","fa-ellipsis"],["menu","matMenu"],["mat-menu-item","","RtlDir","",3,"routerLink"],["mat-menu-item","","RtlDir","",3,"click"]],template:function(n,e){1&n&&(t.TgZ(0,"div",0)(1,"div",1)(2,"h4"),t._uU(3),t.ALo(4,"translate"),t.qZA(),t.TgZ(5,"div",2)(6,"button",3),t._uU(7),t.ALo(8,"translate"),t.qZA()()(),t.TgZ(9,"div",4)(10,"section",5),t.YNc(11,It,8,3,"data-table",6),t.qZA()()()),2&n&&(t.xp6(3),t.Oqu(t.lcZ(4,4,"LABELS.PROPERTIES")),t.xp6(3),t.Q6J("routerLink",t.DdM(8,wt)),t.xp6(1),t.hij(" ",t.lcZ(8,6,"LABELS.ADD_NEW_PROPERTY")," "),t.xp6(4),t.Q6J("ngIf",e.propertyTable$))},dependencies:[c.O5,gt.lW,T.VK,T.OP,T.p6,h.C,vt,f.rH,c.Ov,u.X$],styles:[".table-wrapper[_ngcontent-%COMP%]{min-height:200px}"]}),o})()},{title:"Add Property",path:"add-property",component:x},{path:"edit-property/:id",component:x}]}];let Ut=(()=>{class o{}return o.\u0275fac=function(n){return new(n||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[f.Bz.forChild(Lt),f.Bz]}),o})();var Dt=p(2271);let St=(()=>{class o{}return o.\u0275fac=function(n){return new(n||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[c.ez,u.aw,Dt.m,Ut]}),o})()}}]);