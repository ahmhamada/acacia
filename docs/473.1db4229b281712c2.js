"use strict";(self.webpackChunkacacia_p3=self.webpackChunkacacia_p3||[]).push([[473],{473:(Ie,Z,p)=>{p.r(Z),p.d(Z,{PropertyModule:()=>Ce});var d=p(6895),g=p(9299),i=p(4006),E=p(8314),m=p(3151),s=p(4004),q=p(9195),O=p(7802),P=p(2026),y=p(8522),e=p(4650),u=p(3848),I=p(8112);let D=(()=>{class n{constructor(r){this.xhrService=r}getDocumentTypes(){return this.xhrService.call({url:"api/PropertyDocumentType/Get",method:u.n.get,body:{}}).pipe((0,s.U)(r=>r))}getPropertyLookup(r){return this.xhrService.call({url:`api/${r}/Get`,method:u.n.get,body:{}}).pipe((0,s.U)(t=>t))}getCityAreas(r){return this.xhrService.call({url:`api/Area/GetCityAreas/${r}`,method:u.n.get,body:{}}).pipe((0,s.U)(t=>t))}getAreaDistricts(r){return this.xhrService.call({url:`api/District/GetAreaDistricts/${r}`,method:u.n.get,body:{}}).pipe((0,s.U)(t=>t))}uploadAttachments(r){return this.xhrService.call({url:"/api/Attachment/Upload",method:u.n.post,body:r},!0).pipe((0,s.U)(t=>t))}downloadAttachments(r){return this.xhrService.call({url:`api/Attachment/Download?fileName=${r}`,method:u.n.post,body:{}}).pipe((0,s.U)(t=>t))}createRealEstate(r){return this.xhrService.call({url:"api/RealEstate/Create",method:u.n.post,body:r}).pipe((0,s.U)(t=>t))}editRealEstate(r){return this.xhrService.call({url:"api/RealEstate/Update",method:u.n.put,body:r}).pipe((0,s.U)(t=>t))}getRealEstates(r){return this.xhrService.call({url:"api/RealEstate/Get",method:u.n.post,body:r}).pipe((0,s.U)(t=>t))}getRealEstateById(r){return this.xhrService.call({url:`/api/RealEstate/Get/${r}`,method:u.n.get,body:{}}).pipe((0,s.U)(t=>t))}deleteProperty(r){return this.xhrService.call({url:`/api/RealEstate/Delete?id=${r}`,method:u.n.delete,body:{}}).pipe((0,s.U)(t=>t))}}return n.\u0275fac=function(r){return new(r||n)(e.LFG(I.d))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),f=(()=>{class n{constructor(r){this.propertyService=r}getDocumentTypes(){return this.propertyService.getDocumentTypes().pipe((0,s.U)(r=>r))}getPropertyLookup(r){return this.propertyService.getPropertyLookup(r).pipe((0,s.U)(t=>t))}getCityAreas(r){return this.propertyService.getCityAreas(r).pipe((0,s.U)(t=>t))}getAreaDistricts(r){return this.propertyService.getAreaDistricts(r).pipe((0,s.U)(t=>t))}uploadAttachments(r){return this.propertyService.uploadAttachments(r).pipe((0,s.U)(t=>t))}downloadAttachments(r){return this.propertyService.downloadAttachments(r).pipe((0,s.U)(t=>t))}createRealEstate(r){return this.propertyService.createRealEstate(r).pipe((0,s.U)(t=>t))}getRealEstates(r){return this.propertyService.getRealEstates(r).pipe((0,s.U)(t=>t))}editRealEstate(r){return this.propertyService.editRealEstate(r).pipe((0,s.U)(t=>t))}deleteProperty(r){return this.propertyService.deleteProperty(r).pipe((0,s.U)(t=>t))}getRealEstateDetails(r){return this.propertyService.getRealEstateById(r).pipe((0,s.U)(t=>t))}getRealEstateById(r){return this.propertyService.getRealEstateById(r).pipe((0,s.U)(t=>({propertyDocument:{documentTypeId:t.propertyDocument.propertyDocumentTypeId,documentNumber:t.propertyDocument.documentNumber,releaseDate:t.propertyDocument.releaseDate,attachment:t.propertyDocument.attachment,id:t.propertyDocument.id},owner:{name:t.name,ownerId:t.realEstateOwner.ownerNationalId,ownerBirthDay:t.realEstateOwner.ownerBirthDay,districtId:t.realEstateOwner.districtId,id:t.realEstateOwner.id,city:t.realEstateOwner.district.area.cityId,area:t.realEstateOwner.district.areaId},realEstateDetails:{name:t.name,realEstateNumber:t.realEstateNumber,numOfFloors:t.numOfFloors,numOfProperty:t.numOfProperty,address:t.address,buildingNumber:t.buildingNumber,addationalNumber:t.addationalNumber,buildDate:t.buildDate,realEstateTypeId:t.realEstateTypeId,realEstateUseId:t.realEstateUseId,id:t.id},properties:t.properties,realEstateAttachments:t.attachments})))}}return n.\u0275fac=function(r){return new(r||n)(e.LFG(D))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var R=p(629),b=p(2289),C=p(5412),x=p(6892),v=p(8425),_=p(8952),N=p(3496),S=p(8412),A=p(9383);const w=["fileDropRef"];function F(n,o){if(1&n){const r=e.EpF();e.TgZ(0,"div",8),e.NdJ("click",function(){e.CHM(r),e.oxw();const l=e.MAs(2);return e.KtG(l.click())})("fileDropped",function(l){e.CHM(r);const a=e.oxw();return e.KtG(a.onFileSelected(l,1))}),e._UZ(1,"img",9),e.TgZ(2,"div")(3,"h2"),e._uU(4),e.ALo(5,"translate"),e.qZA(),e.TgZ(6,"span"),e._uU(7,"Pdf , PNG, TIFF ,JPEG formats are allowed"),e.qZA()()()}if(2&n){const r=e.oxw();e.xp6(4),e.Oqu(e.lcZ(5,1,r.label))}}function M(n,o){if(1&n&&e._UZ(0,"img",17),2&n){const r=e.oxw(3);e.Q6J("src",r.imgURL,e.LSH)}}function Y(n,o){1&n&&e._UZ(0,"img",18)}function k(n,o){if(1&n){const r=e.EpF();e.TgZ(0,"div",11)(1,"div",12)(2,"div",13),e.NdJ("click",function(){e.CHM(r),e.oxw(2);const l=e.MAs(2);return e.KtG(l.click())}),e._UZ(3,"img",14),e.qZA(),e.YNc(4,M,1,1,"img",15),e.YNc(5,Y,1,0,"img",16),e.qZA()()}if(2&n){const r=e.oxw(2);e.xp6(4),e.Q6J("ngIf",r.singleFile&&!r.editMode),e.xp6(1),e.Q6J("ngIf",r.singleFile&&r.editMode)}}function J(n,o){if(1&n&&(e.ynx(0),e.YNc(1,k,6,2,"div",10),e.BQk()),2&n){const r=e.oxw();e.xp6(1),e.Q6J("ngIf",r.imgURL)}}function Q(n,o){1&n&&e._UZ(0,"img",26)}function B(n,o){1&n&&e._UZ(0,"img",27)}function G(n,o){if(1&n&&(e.TgZ(0,"div",21)(1,"div",22)(2,"div"),e.YNc(3,Q,1,0,"img",23),e.YNc(4,B,1,0,"img",24),e.TgZ(5,"span",25),e._uU(6),e.qZA()()()()),2&n){const r=o.$implicit,t=e.oxw(2);e.xp6(3),e.Q6J("ngIf",!t.singleFile&&!t.checkFile(r)),e.xp6(1),e.Q6J("ngIf",!t.singleFile&&t.checkFile(r)),e.xp6(2),e.hij(" ",r.attachment?r.attachment:r.name," ")}}function $(n,o){if(1&n&&(e.ynx(0),e.TgZ(1,"div",19),e.YNc(2,G,7,3,"div",20),e.qZA(),e.BQk()),2&n){const r=e.oxw();e.xp6(2),e.Q6J("ngForOf",r.selectedFiles)}}function X(n,o){1&n&&(e.TgZ(0,"div"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"LABELS.FORM.VALIDATIONS.FILE_NOT_ALLOWED")," "))}function H(n,o){1&n&&(e.TgZ(0,"div"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"LABELS.FORM.VALIDATIONS.FIELD_IS_REQUIRED")," "))}function j(n,o){if(1&n&&(e.TgZ(0,"div",28),e.YNc(1,H,3,3,"div",5),e.qZA()),2&n){const r=e.oxw();e.xp6(1),e.Q6J("ngIf",null==r.formControl?null:r.formControl.hasError("required"))}}const V=function(n){return{"is-image-preview":n}};let K=(()=>{class n{constructor(){this.selectedFiles=[],this.singleFile=!0,this.allowedTypes=["png","jpg","jpeg","gif"],this.canAccept="image/*",this.previews=[],this.errorType="",this.editMode=!1,this.onRemoveAttachment=new e.vpe,this.oldAttachments=[],this.onAttachmentChange=new e.vpe}ngOnInit(){}checkType(r){return console.log(this.oldAttachments),this.fileType=r.type.split("/").pop().toLowerCase(),this.allowedTypes.includes(this.fileType)?(this.errorType="",!0):(this.errorType="notAllowedType",!1)}ngOnChanges(r){console.log(this.oldAttachments),console.log(r.oldDocumentAttachments),this.editMode&&void 0!==r.oldAttachments.previousValue&&r.oldAttachments.previousValue!==r.oldAttachments.currentValue&&this.oldAttachments&&(this.selectedFiles=this.oldAttachments,this.singleFile&&(this.imgURL=this.oldAttachments[0],console.log(this.imgURL)))}checkFile(r){return r.type?"application/pdf"!==r.type:"pdf"!==r.attachment.split(".")}writeValue(){}registerOnChange(){}registerOnTouched(){}onFileSelected(r,t){if(!0===this.singleFile){this.selectedFiles=[];let l={};if(1===t)for(let a of r)this.selectedFiles.push(a),l=this.checkType(r[0]);else this.selectedFiles=r.target.files,this.selectedFiles.length?l=this.checkType(r.target.files[0]):this.imgURL="";if(this.selectedFiles.length&&l){let a=new FileReader;a.readAsDataURL(this.selectedFiles[0]),a.onload=c=>{this.imgURL=a.result}}}else 1===t?this.selectedFiles=r:r.target.files.length>0&&(this.selectedFiles=[],Array.from(r.target.files).forEach(l=>{this.selectedFiles.push(l)}));this.onAttachmentChange.emit(this.selectedFiles),this.formControl?.markAsTouched(),this.formControl?.markAsDirty(),this.formControl?.setValue(this.selectedFiles)}emitValidFiles(){this.onAttachmentChange.emit(this.selectedFiles)}handleRemoveFile(r){if(this.singleFile)this.fileDropRef.nativeElement.value="",this.imgURL="";else if(this.selectedFiles[r].id)this.onRemoveAttachment.emit({index:r,attachmentId:this.selectedFiles[r]?.id});else{const t=Array.from(this.selectedFiles);t.splice(r,1),this.selectedFiles=t,this.onAttachmentChange.emit(this.selectedFiles)}!this.selectedFiles.length&&this.formControl?.reset(),this.formControl?.markAsTouched(),this.formControl?.markAsDirty()}}return n.\u0275fac=function(r){return new(r||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["upload-file"]],viewQuery:function(r,t){if(1&r&&e.Gf(w,5),2&r){let l;e.iGM(l=e.CRH())&&(t.fileDropRef=l.first)}},inputs:{label:"label",singleFile:"singleFile",allowedTypes:"allowedTypes",canAccept:"canAccept",editMode:"editMode",oldAttachments:"oldAttachments",formGroup:"formGroup",formControl:"formControl"},outputs:{onRemoveAttachment:"onRemoveAttachment",onAttachmentChange:"onAttachmentChange"},features:[e._Bn([{provide:i.JU,useExisting:n,multi:!0}]),e.TTD],decls:10,vars:10,consts:[[1,"upload-file-wrapper",3,"ngClass"],["type","file","name","uploadFile","hidden","true",3,"accept","multiple","change"],["fileDropRef",""],[1,"multiple-preview"],["class","overlay","RtlDir","",3,"click","fileDropped",4,"ngIf"],[4,"ngIf"],[1,"validation-meassages"],["class","ctrl-error",4,"ngIf"],["RtlDir","",1,"overlay",3,"click","fileDropped"],["src","assets/images/upload-icon.png","alt","upload icon"],["class","image-preview-wrapper",4,"ngIf"],[1,"image-preview-wrapper"],[1,"image-preview"],[3,"click"],["src","assets/images/edit.png","alt","edit-icon"],["width","154px","height","140px",3,"src",4,"ngIf"],["src","assets/images/photo-icon.png","width","154px","height","140px",4,"ngIf"],["width","154px","height","140px",3,"src"],["src","assets/images/photo-icon.png","width","154px","height","140px"],[1,"multiple-files-wrapper"],["class","single-file-wrapper",4,"ngFor","ngForOf"],[1,"single-file-wrapper"],[1,"file-preview"],["src","assets/images/pdf.png",4,"ngIf"],["src","assets/images/photo-icon.png",4,"ngIf"],[1,"file-name"],["src","assets/images/pdf.png"],["src","assets/images/photo-icon.png"],[1,"ctrl-error"]],template:function(r,t){1&r&&(e.TgZ(0,"div",0)(1,"input",1,2),e.NdJ("change",function(a){return t.onFileSelected(a,2)}),e.qZA(),e.TgZ(3,"div",3),e.YNc(4,F,8,3,"div",4),e.YNc(5,J,2,1,"ng-container",5),e.YNc(6,$,3,1,"ng-container",5),e.qZA()(),e.TgZ(7,"div",6),e.YNc(8,X,3,3,"div",5),e.qZA(),e.YNc(9,j,2,1,"div",7)),2&r&&(e.Q6J("ngClass",e.VKq(8,V,t.imgURL)),e.xp6(1),e.Q6J("accept",t.canAccept)("multiple",!t.singleFile),e.xp6(3),e.Q6J("ngIf",!t.imgURL),e.xp6(1),e.Q6J("ngIf",t.singleFile&&t.selectedFiles.length),e.xp6(1),e.Q6J("ngIf",!t.singleFile&&t.selectedFiles.length),e.xp6(2),e.Q6J("ngIf","notAllowedType"===t.errorType),e.xp6(1),e.Q6J("ngIf",(null==t.formControl?null:t.formControl.invalid)&&(null==t.formControl?null:t.formControl.errors)&&((null==t.formControl?null:t.formControl.dirty)||(null==t.formControl?null:t.formControl.touched))))},dependencies:[d.mk,d.sg,d.O5,_.C,A.X$],styles:[".upload-file-wrapper[_ngcontent-%COMP%]   .multiple-preview[_ngcontent-%COMP%]{width:100%}.upload-file-wrapper[_ngcontent-%COMP%]   .overlay[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;height:130px;background-color:#f3f5f8;border:1px dashed #dadada;border-radius:6px;cursor:pointer;gap:10px}.upload-file-wrapper[_ngcontent-%COMP%]   .overlay[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:16px}@media only screen and (max-width: 600px){.upload-file-wrapper[_ngcontent-%COMP%]   .overlay[_ngcontent-%COMP%]{flex-direction:column}.upload-file-wrapper[_ngcontent-%COMP%]   .overlay[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:12px;text-align:center;margin-top:10px}}@media only screen and (max-width: 1024px){.upload-file-wrapper[_ngcontent-%COMP%]{flex-direction:column;align-items:baseline}}.upload-file-wrapper.is-image-preview[_ngcontent-%COMP%]{justify-content:unset}.upload-file-wrapper.is-image-preview[_ngcontent-%COMP%]   .image-preview[_ngcontent-%COMP%]{margin:0 20px}.upload-file-wrapper[_ngcontent-%COMP%]   .image-preview-wrapper[_ngcontent-%COMP%]{display:flex;align-items:end}.upload-file-wrapper[_ngcontent-%COMP%]   .image-preview-wrapper[_ngcontent-%COMP%]   .image-preview[_ngcontent-%COMP%]{position:relative;width:154px}.upload-file-wrapper[_ngcontent-%COMP%]   .image-preview-wrapper[_ngcontent-%COMP%]   .image-preview[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{background:#ffffff;box-shadow:0 0 10px #4a506624;border-radius:6px;position:absolute;bottom:10px;right:-14px;width:28px;height:28px;display:flex;justify-content:center;align-items:center;cursor:pointer}.upload-file-wrapper[_ngcontent-%COMP%]   .image-preview-wrapper[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:inline-block;margin:0 20px;font-weight:500;color:#5d5f6f;cursor:pointer}@media only screen and (max-width: 768px){.upload-file-wrapper[_ngcontent-%COMP%]{flex-direction:column;align-items:baseline}.upload-file-wrapper[_ngcontent-%COMP%]   .overlay[_ngcontent-%COMP%]{width:100%}}.validation-meassages[_ngcontent-%COMP%]{color:red}.multiple-files-wrapper[_ngcontent-%COMP%]{background-color:#f9f9f9;padding:2px 15px;display:flex;align-items:flex-end;margin:2px 0;min-height:130px;flex-wrap:wrap}.multiple-files-wrapper[_ngcontent-%COMP%]   .single-file-wrapper[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin:5px 10px}.multiple-files-wrapper[_ngcontent-%COMP%]   .single-file-wrapper[_ngcontent-%COMP%]   .file-preview[_ngcontent-%COMP%]{display:flex;align-items:flex-end;max-width:140px}.multiple-files-wrapper[_ngcontent-%COMP%]   .single-file-wrapper[_ngcontent-%COMP%]   .file-preview[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:baseline}.multiple-files-wrapper[_ngcontent-%COMP%]   .single-file-wrapper[_ngcontent-%COMP%]   .file-preview[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:62px;height:62px}.multiple-files-wrapper[_ngcontent-%COMP%]   .single-file-wrapper[_ngcontent-%COMP%]   .file-preview[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   .file-name[_ngcontent-%COMP%]{font-size:12px;font-weight:700;white-space:nowrap;width:72px;overflow:hidden;text-overflow:ellipsis;display:inline-block;margin-top:10px}.multiple-files-wrapper[_ngcontent-%COMP%]   .single-file-wrapper[_ngcontent-%COMP%]   .file-preview[_ngcontent-%COMP%]   .remove-file[_ngcontent-%COMP%]{display:inline-block;color:#5d5f6f;font-size:14px;font-weight:500;margin:0 5px;cursor:pointer;text-transform:capitalize}"]}),n})();function W(n,o){if(1&n&&e._UZ(0,"locale-date-picker",31),2&n){const r=e.oxw();e.Q6J("label","PROPERTY.ISSUING_DATE")("FormControl",r.formControl("propertyDocument","releaseDate"))("isArabicDatePicker",!0)}}function z(n,o){if(1&n&&e._UZ(0,"locale-date-picker",31),2&n){const r=e.oxw();e.Q6J("label","PROPERTY.ISSUING_DATE")("FormControl",r.formControl("propertyDocument","releaseDate"))("isArabicDatePicker",!1)}}function ee(n,o){if(1&n&&e._UZ(0,"locale-date-picker",31),2&n){const r=e.oxw();e.Q6J("label","LABELS.FORM.DATE_OF_BIRTH")("FormControl",r.formControl("owner","ownerBirthDay"))("isArabicDatePicker",!0)}}function te(n,o){if(1&n&&e._UZ(0,"locale-date-picker",31),2&n){const r=e.oxw();e.Q6J("label","LABELS.FORM.DATE_OF_BIRTH")("FormControl",r.formControl("owner","ownerBirthDay"))("isArabicDatePicker",!1)}}function re(n,o){if(1&n&&e._UZ(0,"locale-date-picker",31),2&n){const r=e.oxw();e.Q6J("label","PROPERTY.BUILD_DATE")("FormControl",r.formControl("realEstateDetails","buildDate"))("isArabicDatePicker",!0)}}function ne(n,o){if(1&n&&e._UZ(0,"locale-date-picker",31),2&n){const r=e.oxw();e.Q6J("label","PROPERTY.BUILD_DATE")("FormControl",r.formControl("realEstateDetails","buildDate"))("isArabicDatePicker",!1)}}function oe(n,o){if(1&n){const r=e.EpF();e.TgZ(0,"span",38),e.NdJ("click",function(){e.CHM(r);const l=e.oxw().index,a=e.oxw();return e.KtG(a.handleRemoveUnit(l,a.formArrayControl(l,"id").value))}),e._UZ(1,"i",39),e.qZA()}}function le(n,o){if(1&n&&e._UZ(0,"locale-date-picker",31),2&n){const r=e.oxw().index,t=e.oxw();e.Q6J("label","PROPERTY.BUILD_DATE")("FormControl",t.formArrayControl(r,"buildDate"))("isArabicDatePicker",!0)}}function ie(n,o){if(1&n&&e._UZ(0,"locale-date-picker",31),2&n){const r=e.oxw().index,t=e.oxw();e.Q6J("label","PROPERTY.BUILD_DATE")("FormControl",t.formArrayControl(r,"buildDate"))("isArabicDatePicker",!1)}}function ae(n,o){if(1&n&&(e.TgZ(0,"div",10),e._UZ(1,"form-input",12),e.qZA()),2&n){const r=e.oxw().index,t=e.oxw();e.xp6(1),e.Q6J("label","PROPERTY.UNIT_FINISHING")("type",t.InputTypes.TEXT)("FormControl",t.formArrayControl(r,"furnishedType"))}}function pe(n,o){if(1&n&&(e.TgZ(0,"div",32)(1,"div",33)(2,"h5"),e._uU(3),e.ALo(4,"translate"),e.qZA(),e.YNc(5,oe,2,0,"span",34),e.qZA(),e.TgZ(6,"div",18)(7,"div",10),e._UZ(8,"form-input",12),e.qZA(),e.TgZ(9,"div",10),e._UZ(10,"form-input",12),e.qZA(),e.TgZ(11,"div",10),e._UZ(12,"form-input",12),e.qZA()(),e.TgZ(13,"div",18)(14,"div",10),e._UZ(15,"form-input",12),e.qZA(),e.TgZ(16,"div",10),e._UZ(17,"form-input",12),e.qZA(),e.TgZ(18,"div",10),e._UZ(19,"form-input",12),e.qZA()(),e.TgZ(20,"div",18)(21,"div",10),e.YNc(22,le,1,3,"locale-date-picker",13),e.YNc(23,ie,1,3,"locale-date-picker",13),e.qZA(),e.TgZ(24,"div",10),e._UZ(25,"form-input",12),e.qZA()(),e.TgZ(26,"div",9)(27,"div",35),e._UZ(28,"form-input",12),e.ALo(29,"translate"),e.qZA(),e.YNc(30,ae,2,3,"div",36),e.qZA(),e.TgZ(31,"h6"),e._uU(32),e.ALo(33,"translate"),e.qZA(),e.TgZ(34,"div",18)(35,"div",10),e._UZ(36,"form-input",12),e.qZA(),e.TgZ(37,"div",10),e._UZ(38,"form-input",12),e.qZA(),e.TgZ(39,"div",10),e._UZ(40,"form-input",12),e.qZA()(),e.TgZ(41,"div",18)(42,"div",10),e._UZ(43,"form-input",12),e.qZA(),e.TgZ(44,"div",10),e._UZ(45,"form-input",12),e.qZA(),e.TgZ(46,"div",10),e._UZ(47,"form-input",12),e.qZA()(),e.TgZ(48,"div",18)(49,"div",10),e._UZ(50,"form-input",12),e.qZA(),e.TgZ(51,"div",10),e._UZ(52,"form-input",12),e.qZA(),e.TgZ(53,"div",10),e._UZ(54,"form-input",12),e.qZA()(),e.TgZ(55,"div",18)(56,"div",10),e._UZ(57,"form-input",12),e.qZA(),e.TgZ(58,"div",10),e._UZ(59,"form-input",12),e.qZA()(),e.TgZ(60,"div",18)(61,"div",35),e._UZ(62,"form-input",12),e.ALo(63,"translate"),e.qZA(),e.TgZ(64,"div",35),e._UZ(65,"form-input",12),e.ALo(66,"translate"),e.qZA()(),e.TgZ(67,"h6"),e._uU(68),e.ALo(69,"translate"),e.qZA(),e.TgZ(70,"div",37)(71,"div",35),e._UZ(72,"form-input",12),e.ALo(73,"translate"),e.qZA(),e.TgZ(74,"div",35),e._UZ(75,"form-input",12),e.ALo(76,"translate"),e.qZA(),e.TgZ(77,"div",35),e._UZ(78,"form-input",12),e.ALo(79,"translate"),e.qZA()()()),2&n){const r=o.index,t=e.oxw();let l;e.Q6J("formGroupName",r),e.xp6(3),e.AsE("",e.lcZ(4,81,"PROPERTY.ADD_UNIT_DETAILS")," #",r+1,""),e.xp6(2),e.Q6J("ngIf",1!==t.properties.controls.length),e.xp6(3),e.Q6J("label","PROPERTY.UNIT_NUMBER")("type",t.InputTypes.TEXT)("FormControl",t.formArrayControl(r,"propertyNumber")),e.xp6(2),e.Q6J("label","PROPERTY.UNIT_USAGE")("type",t.InputTypes.TEXT)("FormControl",t.formArrayControl(r,"propertyUse")),e.xp6(2),e.Q6J("label","PROPERTY.UNIT_TYPE")("type",t.InputTypes.TEXT)("FormControl",t.formArrayControl(r,"propertyType")),e.xp6(3),e.Q6J("label","PROPERTY.FLOOR_NUMBER")("type",t.InputTypes.TEXT)("FormControl",t.formArrayControl(r,"floorNumber")),e.xp6(2),e.Q6J("label","PROPERTY.UNIT_AREA")("type",t.InputTypes.TEXT)("FormControl",t.formArrayControl(r,"area")),e.xp6(2),e.Q6J("label","PROPERTY.UNIT_FINISHING")("type",t.InputTypes.TEXT)("FormControl",t.formArrayControl(r,"propertyFinish")),e.xp6(3),e.Q6J("ngIf",t.currentLang===t.Lang.arabic),e.xp6(1),e.Q6J("ngIf",t.currentLang!==t.Lang.arabic),e.xp6(2),e.Q6J("label","PROPERTY.NUMBER_OF_ROOMS")("type",t.InputTypes.TEXT)("FormControl",t.formArrayControl(r,"roomsNo")),e.xp6(3),e.Q6J("label",e.lcZ(29,83,"PROPERTY.FURNISHED"))("type",t.InputTypes.TOGGLE)("FormControl",t.formArrayControl(r,"furnished")),e.xp6(2),e.Q6J("ngIf",null==(l=t.formArrayControl(r,"furnished"))?null:l.value),e.xp6(2),e.hij("",e.lcZ(33,85,"PROPERTY.UTILITIES"),": "),e.xp6(4),e.Q6J("label","PROPERTY.BED_ROOMS")("type",t.InputTypes.NUMBER)("FormControl",t.formArrayControl(r,"bedRoomsNo")),e.xp6(2),e.Q6J("label","PROPERTY.BATHROOMS")("type",t.InputTypes.TEXT)("FormControl",t.formArrayControl(r,"bathroomsNo")),e.xp6(2),e.Q6J("label","PROPERTY.HALL")("type",t.InputTypes.TEXT)("FormControl",t.formArrayControl(r,"hallNo")),e.xp6(3),e.Q6J("label","PROPERTY.MAID_ROOM")("type",t.InputTypes.TEXT)("FormControl",t.formArrayControl(r,"maidRoomNumber")),e.xp6(2),e.Q6J("label","PROPERTY.KITCHEN")("type",t.InputTypes.TEXT)("FormControl",t.formArrayControl(r,"kitchenNo")),e.xp6(2),e.Q6J("label","PROPERTY.STORE")("type",t.InputTypes.TEXT)("FormControl",t.formArrayControl(r,"storesNo")),e.xp6(3),e.Q6J("label","PROPERTY.BACK_YARD")("type",t.InputTypes.TEXT)("FormControl",t.formArrayControl(r,"backyardNo")),e.xp6(2),e.Q6J("label","PROPERTY.LIVING_ROOM")("type",t.InputTypes.TEXT)("FormControl",t.formArrayControl(r,"livingRoomNo")),e.xp6(2),e.Q6J("label","PROPERTY.CENTRAL_AC")("type",t.InputTypes.TEXT)("FormControl",t.formArrayControl(r,"centralAirConditionNumber")),e.xp6(3),e.Q6J("label","PROPERTY.SPLIT_AC")("type",t.InputTypes.TEXT)("FormControl",t.formArrayControl(r,"airConditionNumber")),e.xp6(2),e.Q6J("label","PROPERTY.DESERT_AC")("type",t.InputTypes.TEXT)("FormControl",t.formArrayControl(r,"desertAirConditionNumber")),e.xp6(3),e.Q6J("label",e.lcZ(63,87,"PROPERTY.DRESSING"))("type",t.InputTypes.TOGGLE)("FormControl",t.formArrayControl(r,"hasDressing")),e.xp6(3),e.Q6J("label",e.lcZ(66,89,"PROPERTY.BUILT_IN_KITCHEN"))("type",t.InputTypes.TOGGLE)("FormControl",t.formArrayControl(r,"hasKitchen")),e.xp6(3),e.hij("",e.lcZ(69,91,"PROPERTY.SERVICES"),": "),e.xp6(4),e.Q6J("label",e.lcZ(73,93,"PROPERTY.GAS"))("type",t.InputTypes.TOGGLE)("FormControl",t.formArrayControl(r,"hasGasMeter")),e.xp6(3),e.Q6J("label",e.lcZ(76,95,"PROPERTY.ELECTRICITY"))("type",t.InputTypes.TOGGLE)("FormControl",t.formArrayControl(r,"hasElectricityMeter")),e.xp6(3),e.Q6J("label",e.lcZ(79,97,"PROPERTY.WATER"))("type",t.InputTypes.TOGGLE)("FormControl",t.formArrayControl(r,"hasWaterMeter"))}}function se(n,o){if(1&n){const r=e.EpF();e.TgZ(0,"button",27),e.NdJ("click",function(){e.CHM(r);const l=e.oxw();return e.KtG(l.handleBack())}),e._uU(1),e.ALo(2,"translate"),e.qZA()}2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"ACTIONS.BACK")," "))}function de(n,o){if(1&n){const r=e.EpF();e.TgZ(0,"button",40),e.NdJ("click",function(){e.CHM(r);const l=e.oxw();return e.KtG(l.handleNext())}),e._uU(1),e.ALo(2,"translate"),e.qZA()}2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"ACTIONS.NEXT")," "))}const T=function(n){return{list:n,key:"id",value:"name"}},ue=function(n){return{"mt-5":n}};let L=(()=>{class n{constructor(r,t,l,a,c,ve,Le,Ue){this.fb=r,this.propertyLogicService=t,this.translationService=l,this.dialog=c,this.toastrService=ve,this.activatedRoute=Le,this.router=Ue,this.selectedIndex=0,this.allowedTypes=["pdf","png","jpeg","tiff"],this.subs=new q.t,this.editMode=!1,this.oldDocumentAttachments=[],this.oldAttachments=[],this.realEstateAttachments=[],this.addEditProperty=this.fb.group({propertyDocument:this.fb.group({documentTypeId:[null,[i.kI.required]],documentNumber:["",[i.kI.required]],releaseDate:["",[i.kI.required]],attachment:["",[i.kI.required]],id:[null]}),owner:this.fb.group({name:["",[i.kI.required]],ownerNationalId:[null,[i.kI.required]],ownerBirthDay:["",[i.kI.required]],districtId:["",[i.kI.required]],city:[""],area:[""],id:[null]}),realEstateDetails:this.fb.group({name:["",[i.kI.required]],realEstateNumber:["",[i.kI.required]],numOfFloors:[null,[i.kI.required]],numOfProperty:[null,[i.kI.required]],address:["",[i.kI.required]],buildingNumber:["",[i.kI.required]],addationalNumber:["",[i.kI.required]],buildDate:["",[i.kI.required]],realEstateTypeId:[null,[i.kI.required]],realEstateUseId:[null,[i.kI.required]],id:[null]}),properties:this.fb.array([this.handelCreateUnit()])}),this.stepperOrientation=a.observe("(min-width: 800px)").pipe((0,s.U)(({matches:qe})=>qe?"horizontal":"vertical"))}ngOnInit(){this.realestateId=+this.activatedRoute.snapshot.params.id,this.editMode=!!this.realestateId,this.subs.add=this.translationService.currentLanguage$.subscribe(r=>{this.currentLang=r,this.propertyTypes$=this.propertyLogicService.getPropertyLookup("RealEstateType").pipe((0,m.d)(1)),this.propertyUsageTypes$=this.propertyLogicService.getPropertyLookup("RealEstateUse").pipe((0,m.d)(1)),this.documentTypes$=this.propertyLogicService.getDocumentTypes().pipe((0,m.d)(1)),this.cities$=this.propertyLogicService.getPropertyLookup("city").pipe((0,m.d)(1))}),this.realestateId&&this.getRealEstateInfo()}onLogoChange(r){this.attachment={};const t=new FormData,l=r[0];t.append("Attachment",l,l.name),this.attachment=t,this.propertyLogicService.uploadAttachments(this.attachment).subscribe(a=>{this.addEditProperty.get("propertyDocument")?.get("attachment")?.patchValue(a.fileName)})}getRealEstateInfo(){this.propertyLogicService.getRealEstateById(this.realestateId).subscribe(r=>{this.addEditProperty.patchValue(r),r.realEstateAttachments.map(t=>{this.realEstateAttachments.push(t.attachment)}),this.oldDocumentAttachments.push(r.propertyDocument.attachment),this.oldAttachments=r.realEstateAttachments,this.areas$=this.propertyLogicService.getCityAreas(r.owner.city).pipe((0,m.d)(1)),this.districts$=this.propertyLogicService.getAreaDistricts(r.owner.area).pipe((0,m.d)(1))})}onAttachmentsChange(r){this.realEstateAttachments=[];const t=new FormData;for(let l=0;l<r.length;l++){this.attachment={};const a=r[l];t.append("Attachment",a,a.name),this.attachment=t,this.propertyLogicService.uploadAttachments(this.attachment).subscribe(c=>{this.realEstateAttachments.push(c.fileName)})}}onCityChange(r){this.formControl("owner","area").reset(),this.formControl("owner","districtId").reset(),this.areas$=this.propertyLogicService.getCityAreas(r.event.value).pipe((0,m.d)(1))}onDistrictChange(r){this.formControl("owner","districtId").reset(),this.districts$=this.propertyLogicService.getAreaDistricts(r.event.value).pipe((0,m.d)(1))}onSelection(r){this.selectedIndex=r.selectedIndex}get properties(){return this.addEditProperty.get("properties")}handelCreateUnit(){return this.fb.group({id:[null],propertyNumber:["",[i.kI.required]],propertyType:["",[i.kI.required]],propertyUse:["",[i.kI.required]],floorNumber:["",[i.kI.required]],area:["",[i.kI.required]],buildDate:["",[i.kI.required]],propertyFinish:["",[i.kI.required]],roomsNo:[null,[i.kI.required]],furnished:[!1,[i.kI.required]],furnishedType:[""],hasDressing:[!1,[i.kI.required]],hasKitchen:[!1,[i.kI.required]],hasGasMeter:[!1,[i.kI.required]],hasElectricityMeter:[!1,[i.kI.required]],hasWaterMeter:[!1,[i.kI.required]],bedRoomsNo:[null,[i.kI.required]],bathroomsNo:[null,[i.kI.required]],hallNo:[null,[i.kI.required]],maidRoomNumber:[null,[i.kI.required]],kitchenNo:[null,[i.kI.required]],storesNo:[null,[i.kI.required]],backyardNo:[null,[i.kI.required]],livingRoomNo:[null,[i.kI.required]],centralAirConditionNumber:[null,[i.kI.required]],airConditionNumber:[null,[i.kI.required]],desertAirConditionNumber:[null,[i.kI.required]]})}handleAddUnit(){this.properties.push(this.handelCreateUnit())}handleRemoveUnit(r,t){return this.dialog.open(P.$,{maxWidth:"550px",minWidth:"500px",data:{title:"ACTIONS.DELETE_UNIT",message:"LABELS.FORM.ARE_YOU_SURE",actionLabel:"ACTIONS.DELETE",itemIndex:r+1}}).afterClosed().subscribe(c=>{if(!c)return c;" "===t?this.properties.removeAt(r):this.onDeleteUnit(r,t)})}onDeleteUnit(r,t){this.properties.removeAt(r)}handleNext(){this.selectedIndex<5&&this.selectedIndex++,console.log(this.addEditProperty)}handleBack(){this.selectedIndex>0&&this.selectedIndex--}handleCancel(){this.router.navigateByUrl("/property")}formControl(r,t){return this.addEditProperty?.get(r)?.get(t)}formArrayControl(r,t){return this.properties?.controls[r].get(t)}formGroup(r){return this.addEditProperty?.get(r)}onAddProperty(r){const t={...r.value,realEstateAttachments:this.realEstateAttachments};this.editMode?this.editRealEstate():this.propertyLogicService.createRealEstate(t).subscribe(l=>{this.toastrService.showToastr("Real Estate Created successfully",y.V.success),this.router.navigateByUrl("/property")},()=>{this.toastrService.showToastr("An error occured when executing the create statement ,try again !",y.V.error)})}editRealEstate(){const r={...this.addEditProperty.value,realEstateAttachments:this.realEstateAttachments};this.propertyLogicService.editRealEstate(r).subscribe(t=>{this.toastrService.showToastr("Real Estate Updated Successfully",y.V.success),this.router.navigateByUrl("/property")})}get InputTypes(){return E.o}get Lang(){return O.U}ngOnDestroy(){this.subs.unsubscribe()}}return n.\u0275fac=function(r){return new(r||n)(e.Y36(i.qu),e.Y36(f),e.Y36(R.D),e.Y36(b.Yg),e.Y36(C.uw),e.Y36(x._),e.Y36(g.gz),e.Y36(g.F0))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-add-edit-property"]],decls:124,vars:168,consts:[["RtlDir","",1,"add-edit-page"],[1,"content-container"],["autocomplete","off",3,"formGroup","ngSubmit"],["RtlDir","",1,"form-stepper",3,"orientation","selectedIndex","selectionChange"],[3,"label","stepControl"],["autocomplete","off",3,"formGroup"],[1,"tab-container"],[1,"tab-headline"],[1,"form-wrapper"],[1,"form-row"],[1,"form-control-wrapper"],[3,"label","type","selectOptions","FormControl"],[3,"label","type","FormControl"],[3,"label","FormControl","isArabicDatePicker",4,"ngIf"],["label","PROPERTY.UPLOAD_A_COPY_OF_PROPERTY_DOCUMENT","canAccept","application/pdf,image/png,image/jpeg,image/tiff\n                            ",3,"singleFile","formGroup","formControl","editMode","oldAttachments","allowedTypes","onAttachmentChange"],[1,"form-wrapper","mt-5"],[3,"label","type","selectOptions","FormControl","selectedOption"],[3,"stepControl","label"],[1,"form-row","equal-columns"],["formArrayName","properties"],["class","form-wrapper mt-5 unit-wrapper",3,"formGroupName",4,"ngFor","ngForOf"],[1,"add-btn-wrapper",3,"ngClass"],[1,"ac-btn","btn-fill",3,"click"],[3,"label"],[1,"form-control-wrapper","mt-5"],["label","PROPERTY.ADD_ATTACHMENTS","canAccept","application/pdf,image/png,image/jpeg,image/tiff\n                    ",3,"singleFile","editMode","oldAttachments","allowedTypes","onAttachmentChange"],[1,"add-edit-actions","mt-1"],["type","button",1,"ac-btn","btn-outlined",3,"click"],["type","button","class","ac-btn btn-outlined",3,"click",4,"ngIf"],["type","button","class","ac-btn btn-fill",3,"click",4,"ngIf"],["type","submit",1,"ac-btn","btn-outlined",3,"disabled"],[3,"label","FormControl","isArabicDatePicker"],[1,"form-wrapper","mt-5","unit-wrapper",3,"formGroupName"],[1,"unit-title"],[3,"click",4,"ngIf"],[1,"form-toggle-wrapper"],["class","form-control-wrapper",4,"ngIf"],[1,"form-row","equal-columns","mb-1"],[3,"click"],[1,"fa-solid","fa-trash"],["type","button",1,"ac-btn","btn-fill",3,"click"]],template:function(r,t){1&r&&(e.TgZ(0,"div",0)(1,"div",1)(2,"form",2),e.NdJ("ngSubmit",function(){return t.onAddProperty(t.addEditProperty)}),e.TgZ(3,"mat-stepper",3),e.NdJ("selectionChange",function(a){return t.onSelection(a)}),e.ALo(4,"async"),e.TgZ(5,"mat-step",4),e.ALo(6,"translate"),e.TgZ(7,"form",5)(8,"div",6)(9,"h4",7),e._uU(10),e.ALo(11,"translate"),e.qZA(),e.TgZ(12,"div",8)(13,"div",9)(14,"div",10),e._UZ(15,"form-input",11),e.ALo(16,"translate"),e.ALo(17,"async"),e.qZA(),e.TgZ(18,"div",10),e._UZ(19,"form-input",12),e.qZA()(),e.TgZ(20,"div",10),e.YNc(21,W,1,3,"locale-date-picker",13),e.YNc(22,z,1,3,"locale-date-picker",13),e.qZA(),e.TgZ(23,"div",10)(24,"upload-file",14),e.NdJ("onAttachmentChange",function(a){return t.onLogoChange(a)}),e.qZA()()()()()(),e.TgZ(25,"mat-step",4),e.ALo(26,"translate"),e.TgZ(27,"form",5)(28,"div",6)(29,"h4",7),e._uU(30),e.ALo(31,"translate"),e.qZA(),e.TgZ(32,"div",15)(33,"div",9)(34,"div",10),e._UZ(35,"form-input",12),e.qZA(),e.TgZ(36,"div",10),e._UZ(37,"form-input",12),e.qZA()(),e.TgZ(38,"div",10),e.YNc(39,ee,1,3,"locale-date-picker",13),e.YNc(40,te,1,3,"locale-date-picker",13),e.qZA(),e.TgZ(41,"h6"),e._uU(42),e.ALo(43,"translate"),e.qZA(),e.TgZ(44,"div",9)(45,"div",10)(46,"form-input",16),e.NdJ("selectedOption",function(a){return t.onCityChange(a)}),e.ALo(47,"translate"),e.ALo(48,"async"),e.qZA()(),e.TgZ(49,"div",10)(50,"form-input",16),e.NdJ("selectedOption",function(a){return t.onDistrictChange(a)}),e.ALo(51,"translate"),e.ALo(52,"async"),e.qZA()(),e.TgZ(53,"div",10),e._UZ(54,"form-input",11),e.ALo(55,"translate"),e.ALo(56,"async"),e.qZA()()()()()(),e.TgZ(57,"mat-step",17),e.ALo(58,"translate"),e.TgZ(59,"form",5)(60,"div",6)(61,"h4",7),e._uU(62),e.ALo(63,"translate"),e.qZA(),e.TgZ(64,"div",15)(65,"div",18)(66,"div",10),e._UZ(67,"form-input",11),e.ALo(68,"translate"),e.ALo(69,"async"),e.qZA(),e.TgZ(70,"div",10),e._UZ(71,"form-input",11),e.ALo(72,"translate"),e.ALo(73,"async"),e.qZA(),e.TgZ(74,"div",10),e.YNc(75,re,1,3,"locale-date-picker",13),e.YNc(76,ne,1,3,"locale-date-picker",13),e.qZA()(),e.TgZ(77,"div",18)(78,"div",10),e._UZ(79,"form-input",12),e.qZA(),e.TgZ(80,"div",10),e._UZ(81,"form-input",12),e.qZA(),e.TgZ(82,"div",10),e._UZ(83,"form-input",12),e.qZA()(),e.TgZ(84,"div",18)(85,"div",10),e._UZ(86,"form-input",12),e.qZA(),e.TgZ(87,"div",10),e._UZ(88,"form-input",12),e.qZA(),e.TgZ(89,"div",10),e._UZ(90,"form-input",12),e.qZA()(),e.TgZ(91,"div",10),e._UZ(92,"form-input",12),e.qZA()()()()(),e.TgZ(93,"mat-step",17),e.ALo(94,"translate"),e.TgZ(95,"form",5)(96,"div",19)(97,"div",6)(98,"h4",7),e._uU(99),e.ALo(100,"translate"),e.qZA(),e.YNc(101,pe,80,99,"div",20),e.TgZ(102,"div",21)(103,"button",22),e.NdJ("click",function(){return t.handleAddUnit()}),e._uU(104),e.ALo(105,"translate"),e.qZA()()()()()(),e.TgZ(106,"mat-step",23),e.ALo(107,"translate"),e.TgZ(108,"div",6)(109,"h4",7),e._uU(110),e.ALo(111,"translate"),e.qZA(),e.TgZ(112,"div",24)(113,"upload-file",25),e.NdJ("onAttachmentChange",function(a){return t.onAttachmentsChange(a)}),e.qZA()()()()(),e.TgZ(114,"div",26)(115,"div")(116,"button",27),e.NdJ("click",function(){return t.handleCancel()}),e._uU(117),e.ALo(118,"translate"),e.qZA(),e.YNc(119,se,3,3,"button",28),e.YNc(120,de,3,3,"button",29),e.TgZ(121,"button",30),e._uU(122),e.ALo(123,"translate"),e.qZA()()()()()()),2&r&&(e.xp6(2),e.Q6J("formGroup",t.addEditProperty),e.xp6(1),e.Q6J("orientation",e.lcZ(4,100,t.stepperOrientation))("selectedIndex",t.selectedIndex),e.xp6(2),e.Q6J("label",e.lcZ(6,102,"PROPERTY.PROPERTY_DOCUMENTS"))("stepControl",t.formGroup("propertyDocument")),e.xp6(2),e.Q6J("formGroup",t.formGroup("propertyDocument")),e.xp6(3),e.Oqu(e.lcZ(11,104,"PROPERTY.ADD_PROPERTY_DOCUMENT")),e.xp6(5),e.Q6J("label",e.lcZ(16,106,"PROPERTY.LEGAL_DOCUMENT_TYPE"))("type",t.InputTypes.SELECT)("selectOptions",e.VKq(154,T,e.lcZ(17,108,t.documentTypes$)))("FormControl",t.formControl("propertyDocument","documentTypeId")),e.xp6(4),e.Q6J("label","PROPERTY.PROPERTY_DOCUMENT_NUMBER")("type",t.InputTypes.NUMBER)("FormControl",t.formControl("propertyDocument","documentNumber")),e.xp6(2),e.Q6J("ngIf",t.currentLang===t.Lang.arabic),e.xp6(1),e.Q6J("ngIf",t.currentLang!==t.Lang.arabic),e.xp6(2),e.Q6J("singleFile",!0)("formGroup",t.addEditProperty)("formControl",t.formControl("propertyDocument","attachment"))("editMode",t.editMode)("oldAttachments",t.oldAttachments)("allowedTypes",t.allowedTypes),e.xp6(1),e.Q6J("label",e.lcZ(26,110,"PROPERTY.PROPERTY_OWNERS"))("stepControl",t.formGroup("owner")),e.xp6(2),e.Q6J("formGroup",t.formGroup("owner")),e.xp6(3),e.Oqu(e.lcZ(31,112,"PROPERTY.ADD_PROPERTY_OWNER")),e.xp6(5),e.Q6J("label","PROPERTY.NATIONAL_ID")("type",t.InputTypes.TEXT)("FormControl",t.formControl("owner","ownerNationalId")),e.xp6(2),e.Q6J("label","LABELS.FORM.FULL_NAME")("type",t.InputTypes.TEXT)("FormControl",t.formControl("owner","name")),e.xp6(2),e.Q6J("ngIf",t.currentLang===t.Lang.arabic),e.xp6(1),e.Q6J("ngIf",t.currentLang!==t.Lang.arabic),e.xp6(2),e.hij("",e.lcZ(43,114,"LABELS.FORM.ADDRESS_IN_SAUDI"),": "),e.xp6(4),e.Q6J("label",e.lcZ(47,116,"LABELS.CITY"))("type",t.InputTypes.SELECT)("selectOptions",e.VKq(156,T,e.lcZ(48,118,t.cities$)))("FormControl",t.formControl("owner","city")),e.xp6(4),e.Q6J("label",e.lcZ(51,120,"LABELS.AREA"))("type",t.InputTypes.SELECT)("selectOptions",e.VKq(158,T,e.lcZ(52,122,t.areas$)))("FormControl",t.formControl("owner","area")),e.xp6(4),e.Q6J("label",e.lcZ(55,124,"LABELS.DISTRICT"))("type",t.InputTypes.SELECT)("selectOptions",e.VKq(160,T,e.lcZ(56,126,t.districts$)))("FormControl",t.formControl("owner","districtId")),e.xp6(3),e.Q6J("stepControl",t.formGroup("realEstateDetails"))("label",e.lcZ(58,128,"PROPERTY.PROPERTY_DETAILS")),e.xp6(2),e.Q6J("formGroup",t.formGroup("realEstateDetails")),e.xp6(3),e.Oqu(e.lcZ(63,130,"PROPERTY.ADD_PROPERTY_DETAILS")),e.xp6(5),e.Q6J("label",e.lcZ(68,132,"PROPERTY.PROPERTY_TYPE"))("type",t.InputTypes.SELECT)("selectOptions",e.VKq(162,T,e.lcZ(69,134,t.propertyTypes$)))("FormControl",t.formControl("realEstateDetails","realEstateTypeId")),e.xp6(4),e.Q6J("label",e.lcZ(72,136,"PROPERTY.PROPERTY_USAGE"))("type",t.InputTypes.SELECT)("selectOptions",e.VKq(164,T,e.lcZ(73,138,t.propertyUsageTypes$)))("FormControl",t.formControl("realEstateDetails","realEstateUseId")),e.xp6(4),e.Q6J("ngIf",t.currentLang===t.Lang.arabic),e.xp6(1),e.Q6J("ngIf",t.currentLang!==t.Lang.arabic),e.xp6(3),e.Q6J("label","PROPERTY.PROPERTY_NUMBER")("type",t.InputTypes.TEXT)("FormControl",t.formControl("realEstateDetails","realEstateNumber")),e.xp6(2),e.Q6J("label","PROPERTY.NUMBER_OF_FLOORS")("type",t.InputTypes.NUMBER)("FormControl",t.formControl("realEstateDetails","numOfFloors")),e.xp6(2),e.Q6J("label","PROPERTY.TOTAL_NUMBER_OF_FLOORS")("type",t.InputTypes.NUMBER)("FormControl",t.formControl("realEstateDetails","numOfProperty")),e.xp6(3),e.Q6J("label","LABELS.FORM.NAME")("type",t.InputTypes.TEXT)("FormControl",t.formControl("realEstateDetails","name")),e.xp6(2),e.Q6J("label","LABELS.FORM.ADDRESS_IN_SAUDI")("type",t.InputTypes.TEXT)("FormControl",t.formControl("realEstateDetails","address")),e.xp6(2),e.Q6J("label","PROPERTY.BUILDING_NUMBER")("type",t.InputTypes.TEXT)("FormControl",t.formControl("realEstateDetails","buildingNumber")),e.xp6(2),e.Q6J("label","PROPERTY.ADDITIONAL_NUMBER")("type",t.InputTypes.TEXT)("FormControl",t.formControl("realEstateDetails","addationalNumber")),e.xp6(1),e.Q6J("stepControl",t.formGroup("properties"))("label",e.lcZ(94,140,"PROPERTY.UNITS_DETAILS")),e.xp6(2),e.Q6J("formGroup",t.addEditProperty),e.xp6(4),e.Oqu(e.lcZ(100,142,"PROPERTY.ADD_UNITS_DETAILS")),e.xp6(2),e.Q6J("ngForOf",t.properties.controls),e.xp6(1),e.Q6J("ngClass",e.VKq(166,ue,0===t.properties.length)),e.xp6(2),e.hij(" ",e.lcZ(105,144,"ACTIONS.ADD_UNIT")," "),e.xp6(2),e.Q6J("label",e.lcZ(107,146,"PROPERTY.ATTCHMENTS")),e.xp6(4),e.Oqu(e.lcZ(111,148,"PROPERTY.ATTCHMENTS")),e.xp6(3),e.Q6J("singleFile",!1)("editMode",t.editMode)("oldAttachments",t.oldAttachments)("allowedTypes",t.allowedTypes),e.xp6(4),e.hij(" ",e.lcZ(118,150,"ACTIONS.CANCEL")," "),e.xp6(2),e.Q6J("ngIf",t.selectedIndex>0),e.xp6(1),e.Q6J("ngIf",4!==t.selectedIndex),e.xp6(1),e.Q6J("disabled",t.addEditProperty.invalid),e.xp6(1),e.hij(" ",e.lcZ(123,152,"ACTIONS.SAVE")," "))},dependencies:[d.mk,d.sg,d.O5,v.C0,v.Vq,_.C,i._Y,i.JJ,i.JL,i.oH,i.sg,i.x0,i.CE,N.s,S.L,K,d.Ov,A.X$],styles:[".add-edit-page[_ngcontent-%COMP%]   .tab-container[_ngcontent-%COMP%]   .unit-title[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin-bottom:15px}.add-edit-page[_ngcontent-%COMP%]   .tab-container[_ngcontent-%COMP%]   .unit-title[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{font-weight:700}.add-edit-page[_ngcontent-%COMP%]   .tab-container[_ngcontent-%COMP%]   .unit-title[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#f44336;cursor:pointer}.add-edit-page[_ngcontent-%COMP%]   .tab-container[_ngcontent-%COMP%]   .unit-wrapper[_ngcontent-%COMP%]{border:1px solid #eee;padding:10px;border-radius:5px;margin-bottom:15px}.add-edit-page[_ngcontent-%COMP%]   .tab-container[_ngcontent-%COMP%]   .add-btn-wrapper[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:20%}"]}),n})();function ce(n,o){if(1&n&&(e.TgZ(0,"div",4)(1,"div",10)(2,"h5",11),e._uU(3),e.ALo(4,"translate"),e.qZA(),e.TgZ(5,"div",5)(6,"div",6)(7,"span"),e._uU(8),e.ALo(9,"translate"),e.qZA(),e.TgZ(10,"span"),e._uU(11),e.qZA()(),e.TgZ(12,"div",6)(13,"span"),e._uU(14),e.ALo(15,"translate"),e.qZA(),e.TgZ(16,"span"),e._uU(17),e.qZA()(),e.TgZ(18,"div",6)(19,"span"),e._uU(20),e.ALo(21,"translate"),e.qZA(),e.TgZ(22,"span"),e._uU(23),e.qZA()()(),e.TgZ(24,"div",5)(25,"div",6)(26,"span"),e._uU(27),e.ALo(28,"translate"),e.qZA(),e.TgZ(29,"span"),e._uU(30),e.qZA()(),e.TgZ(31,"div",6)(32,"span"),e._uU(33),e.ALo(34,"translate"),e.qZA(),e.TgZ(35,"span"),e._uU(36),e.qZA()(),e.TgZ(37,"div",6)(38,"span"),e._uU(39),e.ALo(40,"translate"),e.qZA(),e.TgZ(41,"span"),e._uU(42),e.qZA()()(),e.TgZ(43,"div",5)(44,"div",6)(45,"span"),e._uU(46),e.ALo(47,"translate"),e.qZA(),e.TgZ(48,"span"),e._uU(49),e.ALo(50,"date"),e.qZA()(),e.TgZ(51,"div",6)(52,"span"),e._uU(53),e.ALo(54,"translate"),e.qZA(),e.TgZ(55,"span"),e._uU(56),e.qZA()(),e.TgZ(57,"div",6)(58,"span"),e._uU(59),e.ALo(60,"translate"),e.qZA(),e.TgZ(61,"span"),e._uU(62),e.ALo(63,"translate"),e.ALo(64,"translate"),e.qZA()()(),e.TgZ(65,"div",5)(66,"div",6)(67,"span"),e._uU(68),e.ALo(69,"translate"),e.qZA(),e.TgZ(70,"span"),e._uU(71),e.qZA()()(),e.TgZ(72,"h6",8),e._uU(73),e.ALo(74,"translate"),e.qZA(),e.TgZ(75,"div",5)(76,"div",6)(77,"span"),e._uU(78),e.ALo(79,"translate"),e.qZA(),e.TgZ(80,"span"),e._uU(81),e.qZA()(),e.TgZ(82,"div",6)(83,"span"),e._uU(84),e.ALo(85,"translate"),e.qZA(),e.TgZ(86,"span"),e._uU(87),e.qZA()(),e.TgZ(88,"div",6)(89,"span"),e._uU(90),e.ALo(91,"translate"),e.qZA(),e.TgZ(92,"span"),e._uU(93),e.qZA()()(),e.TgZ(94,"div",5)(95,"div",6)(96,"span"),e._uU(97),e.ALo(98,"translate"),e.qZA(),e.TgZ(99,"span"),e._uU(100),e.qZA()(),e.TgZ(101,"div",6)(102,"span"),e._uU(103),e.ALo(104,"translate"),e.qZA(),e.TgZ(105,"span"),e._uU(106),e.qZA()(),e.TgZ(107,"div",6)(108,"span"),e._uU(109),e.ALo(110,"translate"),e.qZA(),e.TgZ(111,"span"),e._uU(112),e.qZA()()(),e.TgZ(113,"div",5)(114,"div",6)(115,"span"),e._uU(116),e.ALo(117,"translate"),e.qZA(),e.TgZ(118,"span"),e._uU(119),e.qZA()(),e.TgZ(120,"div",6)(121,"span"),e._uU(122),e.ALo(123,"translate"),e.qZA(),e.TgZ(124,"span"),e._uU(125),e.qZA()(),e.TgZ(126,"div",6)(127,"span"),e._uU(128),e.ALo(129,"translate"),e.qZA(),e.TgZ(130,"span"),e._uU(131),e.qZA()()(),e.TgZ(132,"div",5)(133,"div",6)(134,"span"),e._uU(135),e.ALo(136,"translate"),e.qZA(),e.TgZ(137,"span"),e._uU(138),e.qZA()(),e.TgZ(139,"div",6)(140,"span"),e._uU(141),e.ALo(142,"translate"),e.qZA(),e.TgZ(143,"span"),e._uU(144),e.qZA()(),e.TgZ(145,"div",6)(146,"span"),e._uU(147),e.ALo(148,"translate"),e.qZA(),e.TgZ(149,"span"),e._uU(150),e.ALo(151,"translate"),e.ALo(152,"translate"),e.qZA()()(),e.TgZ(153,"div",5)(154,"div",6)(155,"span"),e._uU(156),e.ALo(157,"translate"),e.qZA(),e.TgZ(158,"span"),e._uU(159),e.ALo(160,"translate"),e.ALo(161,"translate"),e.qZA()()(),e.TgZ(162,"h6",8),e._uU(163),e.ALo(164,"translate"),e.qZA(),e.TgZ(165,"div",5)(166,"div",6)(167,"span"),e._uU(168),e.ALo(169,"translate"),e.qZA(),e.TgZ(170,"span"),e._uU(171),e.ALo(172,"translate"),e.ALo(173,"translate"),e.qZA()(),e.TgZ(174,"div",6)(175,"span"),e._uU(176),e.ALo(177,"translate"),e.qZA(),e.TgZ(178,"span"),e._uU(179),e.ALo(180,"translate"),e.ALo(181,"translate"),e.qZA()(),e.TgZ(182,"div",6)(183,"span"),e._uU(184),e.ALo(185,"translate"),e.qZA(),e.TgZ(186,"span"),e._uU(187),e.ALo(188,"translate"),e.ALo(189,"translate"),e.qZA()()()()()),2&n){const r=o.$implicit,t=o.index,l=e.oxw();e.xp6(3),e.AsE("",e.lcZ(4,56,"PROPERTY.UNIT_DETAILS")," #",t+1,""),e.xp6(5),e.Oqu(e.lcZ(9,58,"PROPERTY.UNIT_NUMBER")),e.xp6(3),e.Oqu(null==r?null:r.propertyNumber),e.xp6(3),e.Oqu(e.lcZ(15,60,"PROPERTY.UNIT_USAGE")),e.xp6(3),e.Oqu(null==r?null:r.propertyUse),e.xp6(3),e.Oqu(e.lcZ(21,62,"PROPERTY.UNIT_TYPE")),e.xp6(3),e.Oqu(null==r?null:r.propertyType),e.xp6(4),e.Oqu(e.lcZ(28,64,"PROPERTY.FLOOR_NUMBER")),e.xp6(3),e.Oqu(null==r?null:r.floorNumber),e.xp6(3),e.Oqu(e.lcZ(34,66,"PROPERTY.UNIT_AREA")),e.xp6(3),e.Oqu(null==r?null:r.area),e.xp6(3),e.Oqu(e.lcZ(40,68,"PROPERTY.UNIT_FINISHING")),e.xp6(3),e.Oqu(null==r?null:r.propertyFinish),e.xp6(4),e.Oqu(e.lcZ(47,70,"PROPERTY.BUILD_DATE")),e.xp6(3),e.Oqu(e.lcZ(50,72,null==r?null:r.buildDate)),e.xp6(4),e.Oqu(e.lcZ(54,74,"PROPERTY.NUMBER_OF_ROOMS")),e.xp6(3),e.Oqu(null==r?null:r.roomsNo),e.xp6(3),e.Oqu(e.lcZ(60,76,"PROPERTY.FURNISHED")),e.xp6(3),e.Oqu(null!=r&&r.furnished?e.lcZ(63,78,"LABELS.YES"):e.lcZ(64,80,"LABELS.NO")),e.xp6(6),e.Oqu(e.lcZ(69,82,"PROPERTY.UNIT_FINISHING")),e.xp6(3),e.Oqu(null==r?null:r.propertyFinish),e.xp6(2),e.hij("",e.lcZ(74,84,"PROPERTY.UTILITIES"),": "),e.xp6(5),e.Oqu(e.lcZ(79,86,"PROPERTY.BED_ROOMS")),e.xp6(3),e.Oqu(null==r?null:r.bedRoomsNo),e.xp6(3),e.Oqu(e.lcZ(85,88,"PROPERTY.BATHROOMS")),e.xp6(3),e.Oqu(null==r?null:r.bathroomsNo),e.xp6(3),e.Oqu(e.lcZ(91,90,"PROPERTY.HALL")),e.xp6(3),e.Oqu(null==r?null:r.hallNo),e.xp6(4),e.Oqu(e.lcZ(98,92,"PROPERTY.MAID_ROOM")),e.xp6(3),e.Oqu(null==r?null:r.maidRoomNumber),e.xp6(3),e.Oqu(e.lcZ(104,94,"PROPERTY.KITCHEN")),e.xp6(3),e.Oqu(null==l.propertyDetails?null:l.propertyDetails.addationalNumber),e.xp6(3),e.Oqu(e.lcZ(110,96,"PROPERTY.STORE")),e.xp6(3),e.Oqu(null==r?null:r.storesNo),e.xp6(4),e.Oqu(e.lcZ(117,98,"PROPERTY.BACK_YARD")),e.xp6(3),e.Oqu(null==r?null:r.backyardNo),e.xp6(3),e.Oqu(e.lcZ(123,100,"PROPERTY.LIVING_ROOM")),e.xp6(3),e.Oqu(null==r?null:r.livingRoomNo),e.xp6(3),e.Oqu(e.lcZ(129,102,"PROPERTY.CENTRAL_AC")),e.xp6(3),e.Oqu(null==r?null:r.centralAirConditionNumber),e.xp6(4),e.Oqu(e.lcZ(136,104,"PROPERTY.SPLIT_AC")),e.xp6(3),e.Oqu(null==r?null:r.airConditionNumber),e.xp6(3),e.Oqu(e.lcZ(142,106,"PROPERTY.DESERT_AC")),e.xp6(3),e.Oqu(null==r?null:r.desertAirConditionNumber),e.xp6(3),e.Oqu(e.lcZ(148,108,"PROPERTY.DRESSING")),e.xp6(3),e.Oqu(null!=r&&r.hasDressing?e.lcZ(151,110,"LABELS.YES"):e.lcZ(152,112,"LABELS.NO")),e.xp6(6),e.Oqu(e.lcZ(157,114,"PROPERTY.BUILT_IN_KITCHEN")),e.xp6(3),e.Oqu(null!=r&&r.hasBuiltInKitchen?e.lcZ(160,116,"LABELS.YES"):e.lcZ(161,118,"LABELS.NO")),e.xp6(4),e.hij("",e.lcZ(164,120,"PROPERTY.SERVICES"),": "),e.xp6(5),e.Oqu(e.lcZ(169,122,"PROPERTY.GAS")),e.xp6(3),e.Oqu(null!=r&&r.hasGasMeter?e.lcZ(172,124,"LABELS.YES"):e.lcZ(173,126,"LABELS.NO")),e.xp6(5),e.Oqu(e.lcZ(177,128,"PROPERTY.ELECTRICITY")),e.xp6(3),e.Oqu(null!=r&&r.hasElectricityMeter?e.lcZ(180,130,"LABELS.YES"):e.lcZ(181,132,"LABELS.NO")),e.xp6(5),e.Oqu(e.lcZ(185,134,"PROPERTY.WATER")),e.xp6(3),e.Oqu(null!=r&&r.hasWaterMeter?e.lcZ(188,136,"LABELS.YES"):e.lcZ(189,138,"LABELS.NO"))}}let me=(()=>{class n{constructor(r,t){this.activatedRoute=r,this.propertyLogicService=t}ngOnInit(){this.activatedRoute.params.subscribe(r=>{this.realestateId=r.id,this.getRealEstateInfo()}),this.realestateId=+this.activatedRoute.snapshot.params.id}getRealEstateInfo(){this.propertyLogicService.getRealEstateDetails(this.realestateId).subscribe(r=>{this.propertyDetails=r})}}return n.\u0275fac=function(r){return new(r||n)(e.Y36(g.gz),e.Y36(f))},n.\u0275cmp=e.Xpm({type:n,selectors:[["property-details"]],decls:149,vars:101,consts:[["RtlDir","",1,"page-container","details-page"],[1,"page-content"],[1,"content-section"],[1,"tab-headline"],[1,"details-container"],[1,"details-row"],[1,"details-col"],[1,"content-section","mt-3"],[1,"mb-4"],["class","details-container",4,"ngFor","ngForOf"],[1,"unit-wrapper"],[1,"mb-3"]],template:function(r,t){1&r&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h4",3),e._uU(4),e.ALo(5,"translate"),e.qZA(),e.TgZ(6,"div",4)(7,"div",5)(8,"div",6)(9,"span"),e._uU(10),e.ALo(11,"translate"),e.qZA(),e.TgZ(12,"span"),e._uU(13),e.qZA()(),e.TgZ(14,"div",6)(15,"span"),e._uU(16),e.ALo(17,"translate"),e.qZA(),e.TgZ(18,"span"),e._uU(19),e.qZA()(),e.TgZ(20,"div",6)(21,"span"),e._uU(22),e.ALo(23,"translate"),e.qZA(),e.TgZ(24,"span"),e._uU(25),e.ALo(26,"date"),e.qZA()()()()(),e.TgZ(27,"div",7)(28,"h4",3),e._uU(29),e.ALo(30,"translate"),e.qZA(),e.TgZ(31,"div",4)(32,"div",5)(33,"div",6)(34,"span"),e._uU(35),e.ALo(36,"translate"),e.qZA(),e.TgZ(37,"span"),e._uU(38),e.qZA()(),e.TgZ(39,"div",6)(40,"span"),e._uU(41),e.ALo(42,"translate"),e.qZA(),e.TgZ(43,"span"),e._uU(44),e.qZA()(),e.TgZ(45,"div",6)(46,"span"),e._uU(47),e.ALo(48,"translate"),e.qZA(),e.TgZ(49,"span"),e._uU(50),e.ALo(51,"date"),e.qZA()()(),e.TgZ(52,"h6",8),e._uU(53),e.ALo(54,"translate"),e.qZA(),e.TgZ(55,"div",5)(56,"div",6)(57,"span"),e._uU(58),e.ALo(59,"translate"),e.qZA(),e.TgZ(60,"span"),e._uU(61),e.qZA()(),e.TgZ(62,"div",6)(63,"span"),e._uU(64),e.ALo(65,"translate"),e.qZA(),e.TgZ(66,"span"),e._uU(67),e.qZA()(),e.TgZ(68,"div",6)(69,"span"),e._uU(70),e.ALo(71,"translate"),e.qZA(),e.TgZ(72,"span"),e._uU(73),e.qZA()()()()(),e.TgZ(74,"div",7)(75,"h4",3),e._uU(76),e.ALo(77,"translate"),e.qZA(),e.TgZ(78,"div",4)(79,"div",5)(80,"div",6)(81,"span"),e._uU(82),e.ALo(83,"translate"),e.qZA(),e.TgZ(84,"span"),e._uU(85),e.qZA()(),e.TgZ(86,"div",6)(87,"span"),e._uU(88),e.ALo(89,"translate"),e.qZA(),e.TgZ(90,"span"),e._uU(91),e.qZA()(),e.TgZ(92,"div",6)(93,"span"),e._uU(94),e.ALo(95,"translate"),e.qZA(),e.TgZ(96,"span"),e._uU(97),e.ALo(98,"date"),e.qZA()()(),e.TgZ(99,"div",5)(100,"div",6)(101,"span"),e._uU(102),e.ALo(103,"translate"),e.qZA(),e.TgZ(104,"span"),e._uU(105),e.qZA()(),e.TgZ(106,"div",6)(107,"span"),e._uU(108),e.ALo(109,"translate"),e.qZA(),e.TgZ(110,"span"),e._uU(111),e.qZA()(),e.TgZ(112,"div",6)(113,"span"),e._uU(114),e.ALo(115,"translate"),e.qZA(),e.TgZ(116,"span"),e._uU(117),e.qZA()()(),e.TgZ(118,"div",5)(119,"div",6)(120,"span"),e._uU(121),e.ALo(122,"translate"),e.qZA(),e.TgZ(123,"span"),e._uU(124),e.qZA()(),e.TgZ(125,"div",6)(126,"span"),e._uU(127),e.ALo(128,"translate"),e.qZA(),e.TgZ(129,"span"),e._uU(130),e.qZA()(),e.TgZ(131,"div",6)(132,"span"),e._uU(133),e.ALo(134,"translate"),e.qZA(),e.TgZ(135,"span"),e._uU(136),e.qZA()()(),e.TgZ(137,"div",5)(138,"div",6)(139,"span"),e._uU(140),e.ALo(141,"translate"),e.qZA(),e.TgZ(142,"span"),e._uU(143),e.qZA()()()()(),e.TgZ(144,"div",7)(145,"h4",3),e._uU(146),e.ALo(147,"translate"),e.qZA(),e.YNc(148,ce,190,140,"div",9),e.qZA()()()),2&r&&(e.xp6(4),e.Oqu(e.lcZ(5,44,"PROPERTY.PROPERTY_DOCUMENTS")),e.xp6(6),e.Oqu(e.lcZ(11,46,"PROPERTY.LEGAL_DOCUMENT_TYPE")),e.xp6(3),e.Oqu(null==t.propertyDetails||null==t.propertyDetails.propertyDocument||null==t.propertyDetails.propertyDocument.propertyDocumentType?null:t.propertyDetails.propertyDocument.propertyDocumentType.nameEn),e.xp6(3),e.Oqu(e.lcZ(17,48,"PROPERTY.PROPERTY_DOCUMENT_NUMBER")),e.xp6(3),e.Oqu(null==t.propertyDetails||null==t.propertyDetails.propertyDocument?null:t.propertyDetails.propertyDocument.documentNumber),e.xp6(3),e.Oqu(e.lcZ(23,50,"PROPERTY.ISSUING_DATE")),e.xp6(3),e.Oqu(e.xi3(26,52,null==t.propertyDetails||null==t.propertyDetails.propertyDocument?null:t.propertyDetails.propertyDocument.releaseDate,"yyyy-MM-dd")),e.xp6(4),e.Oqu(e.lcZ(30,55,"PROPERTY.PROPERTY_OWNERS")),e.xp6(6),e.Oqu(e.lcZ(36,57,"PROPERTY.NATIONAL_ID")),e.xp6(3),e.Oqu(null==t.propertyDetails||null==t.propertyDetails.realEstateOwner?null:t.propertyDetails.realEstateOwner.ownerNationalId),e.xp6(3),e.Oqu(e.lcZ(42,59,"LABELS.FORM.FULL_NAME")),e.xp6(3),e.Oqu(null==t.propertyDetails||null==t.propertyDetails.realEstateOwner?null:t.propertyDetails.realEstateOwner.name),e.xp6(3),e.Oqu(e.lcZ(48,61,"LABELS.FORM.DATE_OF_BIRTH")),e.xp6(3),e.Oqu(e.xi3(51,63,null==t.propertyDetails||null==t.propertyDetails.realEstateOwner?null:t.propertyDetails.realEstateOwner.ownerBirthDay,"yyyy-MM-dd")),e.xp6(3),e.hij(" ",e.lcZ(54,66,"LABELS.FORM.ADDRESS_IN_SAUDI")," : "),e.xp6(5),e.Oqu(e.lcZ(59,68,"LABELS.CITY")),e.xp6(3),e.Oqu(null==t.propertyDetails||null==t.propertyDetails.realEstateOwner||null==t.propertyDetails.realEstateOwner.district||null==t.propertyDetails.realEstateOwner.district.area||null==t.propertyDetails.realEstateOwner.district.area.city?null:t.propertyDetails.realEstateOwner.district.area.city.nameAr),e.xp6(3),e.Oqu(e.lcZ(65,70,"LABELS.AREA")),e.xp6(3),e.Oqu(null==t.propertyDetails||null==t.propertyDetails.realEstateOwner||null==t.propertyDetails.realEstateOwner.district||null==t.propertyDetails.realEstateOwner.district.area?null:t.propertyDetails.realEstateOwner.district.area.nameAr),e.xp6(3),e.Oqu(e.lcZ(71,72,"LABELS.DISTRICT")),e.xp6(3),e.Oqu(null==t.propertyDetails||null==t.propertyDetails.realEstateOwner||null==t.propertyDetails.realEstateOwner.district?null:t.propertyDetails.realEstateOwner.district.nameAr),e.xp6(3),e.Oqu(e.lcZ(77,74,"PROPERTY.PROPERTY_DETAILS")),e.xp6(6),e.Oqu(e.lcZ(83,76,"PROPERTY.PROPERTY_TYPE")),e.xp6(3),e.Oqu(null==t.propertyDetails||null==t.propertyDetails.realEstateType?null:t.propertyDetails.realEstateType.nameAr),e.xp6(3),e.Oqu(e.lcZ(89,78,"PROPERTY.PROPERTY_USAGE")),e.xp6(3),e.Oqu(null==t.propertyDetails||null==t.propertyDetails.realEstateUse?null:t.propertyDetails.realEstateUse.nameAr),e.xp6(3),e.Oqu(e.lcZ(95,80,"PROPERTY.BUILD_DATE")),e.xp6(3),e.Oqu(e.xi3(98,82,null==t.propertyDetails?null:t.propertyDetails.buildDate,"yyyy-MM-dd")),e.xp6(5),e.Oqu(e.lcZ(103,85,"PROPERTY.PROPERTY_NUMBER")),e.xp6(3),e.Oqu(null==t.propertyDetails?null:t.propertyDetails.buildingNumber),e.xp6(3),e.Oqu(e.lcZ(109,87,"PROPERTY.NUMBER_OF_FLOORS")),e.xp6(3),e.Oqu(null==t.propertyDetails?null:t.propertyDetails.numOfFloors),e.xp6(3),e.Oqu(e.lcZ(115,89,"PROPERTY.TOTAL_NUMBER_OF_FLOORS")),e.xp6(3),e.Oqu(null==t.propertyDetails?null:t.propertyDetails.numOfProperty),e.xp6(4),e.Oqu(e.lcZ(122,91,"LABELS.FORM.NAME")),e.xp6(3),e.Oqu(null==t.propertyDetails?null:t.propertyDetails.name),e.xp6(3),e.Oqu(e.lcZ(128,93,"LABELS.FORM.ADDRESS_IN_SAUDI")),e.xp6(3),e.Oqu(null==t.propertyDetails?null:t.propertyDetails.address),e.xp6(3),e.Oqu(e.lcZ(134,95,"PROPERTY.BUILDING_NUMBER")),e.xp6(3),e.Oqu(null==t.propertyDetails?null:t.propertyDetails.buildingNumber),e.xp6(4),e.Oqu(e.lcZ(141,97,"PROPERTY.ADDITIONAL_NUMBER")),e.xp6(3),e.Oqu(null==t.propertyDetails?null:t.propertyDetails.addationalNumber),e.xp6(3),e.Oqu(e.lcZ(147,99,"PROPERTY.UNITS_DETAILS")),e.xp6(2),e.Q6J("ngForOf",null==t.propertyDetails?null:t.propertyDetails.properties))},dependencies:[d.sg,_.C,d.uU,A.X$],styles:[".details-container[_ngcontent-%COMP%]{background-color:#f6f6f6}.details-container[_ngcontent-%COMP%]   .details-row[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(250px,1fr))}.details-container[_ngcontent-%COMP%]   .details-row[_ngcontent-%COMP%]   .details-col[_ngcontent-%COMP%]{align-items:start}.details-container[_ngcontent-%COMP%]   .details-row[_ngcontent-%COMP%]   .details-col[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:first-of-type{color:#4e55a2}.details-container[_ngcontent-%COMP%]   .unit-wrapper[_ngcontent-%COMP%]{background-color:#fff;padding:15px}"]}),n})();var U=p(9646),ge=p(4859),h=p(8255),Te=p(7633);function Ae(n,o){1&n&&(e.TgZ(0,"tr")(1,"th"),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"th"),e._uU(5),e.ALo(6,"translate"),e.qZA(),e.TgZ(7,"th"),e._uU(8),e.ALo(9,"translate"),e.qZA(),e.TgZ(10,"th"),e._uU(11),e.ALo(12,"translate"),e.qZA(),e.TgZ(13,"th"),e._uU(14),e.ALo(15,"translate"),e.qZA()()),2&n&&(e.xp6(2),e.Oqu(e.lcZ(3,5,"PROPERTY.PROPERTY_NUMBER")),e.xp6(3),e.Oqu(e.lcZ(6,7,"LABELS.OWNER")),e.xp6(3),e.Oqu(e.lcZ(9,9,"PROPERTY.PROPERTY_TYPE")),e.xp6(3),e.Oqu(e.lcZ(12,11,"PROPERTY.PROPERTY_USAGE")),e.xp6(3),e.Oqu(e.lcZ(15,13,"ACTIONS.ACTIONS")))}const _e=function(n){return["/property/details",n]},ye=function(n){return["/property/edit-property",n]};function fe(n,o){if(1&n){const r=e.EpF();e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.qZA(),e.TgZ(9,"td",11)(10,"button",12),e._UZ(11,"i",13),e.qZA(),e.TgZ(12,"mat-menu",11,14)(14,"button",15),e._uU(15),e.ALo(16,"translate"),e.qZA(),e.TgZ(17,"button",15),e._uU(18),e.ALo(19,"translate"),e.qZA(),e.TgZ(20,"button",16),e.NdJ("click",function(){const a=e.CHM(r).$implicit,c=e.oxw(2);return e.KtG(c.handleRemoveProperty(a.id))}),e._uU(21),e.ALo(22,"translate"),e.qZA()()()()}if(2&n){const r=o.$implicit,t=e.MAs(13);e.xp6(2),e.hij(" ",null==r?null:r.realEstateNumber," "),e.xp6(2),e.hij(" ",null==r?null:r.ownerName," "),e.xp6(2),e.hij(" ",null==r?null:r.realEstateType," "),e.xp6(2),e.hij(" ",null==r?null:r.realEstateUse," "),e.xp6(2),e.Q6J("matMenuTriggerFor",t),e.xp6(4),e.Q6J("routerLink",e.VKq(16,_e,null==r?null:r.id)),e.xp6(1),e.Oqu(e.lcZ(16,10,"PROPERTY.PROPERTY_DETAILS")),e.xp6(2),e.Q6J("routerLink",e.VKq(18,ye,null==r?null:r.id)),e.xp6(1),e.Oqu(e.lcZ(19,12,"ACTIONS.EDIT")),e.xp6(3),e.Oqu(e.lcZ(22,14,"ACTIONS.DELETE"))}}function he(n,o){}function Ze(n,o){if(1&n){const r=e.EpF();e.TgZ(0,"data-table",7),e.NdJ("pageChange",function(l){e.CHM(r);const a=e.oxw();return e.KtG(a.onPageChange(l))}),e.ALo(1,"async"),e.YNc(2,Ae,16,15,"ng-template",null,8,e.W1O),e.YNc(4,fe,23,20,"ng-template",null,9,e.W1O),e.YNc(6,he,0,0,"ng-template",null,10,e.W1O),e.qZA()}if(2&n){const r=e.oxw();e.Q6J("dataSource",e.lcZ(1,1,r.propertyTable$))}}const Ee=function(){return["/property/add-property"]},Oe=[{title:"Properties",path:"",children:[{title:"Properties",path:"",component:(()=>{class n{constructor(r,t,l){this.translationService=r,this.propertyLogicService=t,this.dialog=l,this.propertyTable$=(0,U.of)({data:[],length:0,pageSize:0,pageIndex:0,emptyState:"No Data Found!"}),this.propertyPagingPayload={pagedSearch:{pageIndex:1,pageSize:8}}}get InputTypes(){return E.o}ngOnInit(){this.getPropertyListing(),this.translationService.currentLanguage$.subscribe(r=>{this.currentLang=r})}onPageChange(r){this.propertyPagingPayload.pagedSearch.pageIndex=r.pageIndex+1,this.getPropertyListing()}handleRemoveProperty(r){return this.dialog.open(P.$,{maxWidth:"550px",minWidth:"500px",data:{title:"ACTIONS.DELETE_REAL_ESTATE",message:"LABELS.FORM.ARE_YOU_SURE",actionLabel:"ACTIONS.DELETE"}}).afterClosed().subscribe(a=>{if(!a)return a;this.propertyLogicService.deleteProperty(r).subscribe(c=>{this.getPropertyListing()})})}getPropertyListing(){this.propertyLogicService.getRealEstates(this.propertyPagingPayload).subscribe(r=>{this.propertyTable$=(0,U.of)({data:r.items,length:r.items.length,pageSize:8,pageIndex:1,emptyState:"LABELS.NO_DATA"})})}get Lang(){return O.U}}return n.\u0275fac=function(r){return new(r||n)(e.Y36(R.D),e.Y36(f),e.Y36(C.uw))},n.\u0275cmp=e.Xpm({type:n,selectors:[["property-listing"]],decls:12,vars:9,consts:[[1,"page-container","property-listing"],[1,"page-header"],[1,"btn-wrapper"],[1,"ac-btn","btn-fill",3,"routerLink"],[1,"page-content"],[1,"table-wrapper"],["class","preview__table",3,"dataSource","pageChange",4,"ngIf"],[1,"preview__table",3,"dataSource","pageChange"],["tableHead",""],["tableRows",""],["loaderRef",""],["RtlDir",""],["mat-button","",3,"matMenuTriggerFor"],[1,"fa-solid","fa-ellipsis"],["menu","matMenu"],["mat-menu-item","","RtlDir","",3,"routerLink"],["mat-menu-item","","RtlDir","",3,"click"]],template:function(r,t){1&r&&(e.TgZ(0,"div",0)(1,"div",1)(2,"h4"),e._uU(3),e.ALo(4,"translate"),e.qZA(),e.TgZ(5,"div",2)(6,"button",3),e._uU(7),e.ALo(8,"translate"),e.qZA()()(),e.TgZ(9,"div",4)(10,"section",5),e.YNc(11,Ze,8,3,"data-table",6),e.qZA()()()),2&r&&(e.xp6(3),e.Oqu(e.lcZ(4,4,"LABELS.PROPERTIES")),e.xp6(3),e.Q6J("routerLink",e.DdM(8,Ee)),e.xp6(1),e.hij(" ",e.lcZ(8,6,"LABELS.ADD_NEW_PROPERTY")," "),e.xp6(4),e.Q6J("ngIf",t.propertyTable$))},dependencies:[d.O5,ge.lW,h.VK,h.OP,h.p6,_.C,Te.Q,g.rH,d.Ov,A.X$],styles:[".table-wrapper[_ngcontent-%COMP%]{min-height:200px}"]}),n})()},{title:"Add Property",path:"add-property",component:L},{title:"Edit Property",path:"edit-property/:id",component:L},{title:"Property Details",path:"details/:id",component:me}]}];let Pe=(()=>{class n{}return n.\u0275fac=function(r){return new(r||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[g.Bz.forChild(Oe),g.Bz]}),n})();var Re=p(2271);let Ce=(()=>{class n{}return n.\u0275fac=function(r){return new(r||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[d.ez,A.aw,Re.m,Pe]}),n})()}}]);