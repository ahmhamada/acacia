"use strict";(self.webpackChunkacacia_p3=self.webpackChunkacacia_p3||[]).push([[894],{2894:(It,N,l)=>{l.r(N),l.d(N,{ContractsModule:()=>xt});var _=l(6895),A=l(9299),c=l(4006),I=l(8314),h=l(3151),p=l(4004),Q=l(9195),D=l(7802),L=l(8522),f=(()=>{return(o=f||(f={}))[o.Monthly=1]="Monthly",o[o.Quarterly=2]="Quarterly",o[o.SemiAnnual=3]="SemiAnnual",o[o.Yearly=4]="Yearly",f;var o})(),y=(()=>{return(o=y||(y={}))[o.Residential=1]="Residential",o[o.Commercial=2]="Commercial",y;var o})(),B=l(926),t=l(4650),T=l(3848),k=l(8112);let V=(()=>{class o{constructor(e){this.xhrService=e}searchRealEstate(e){return this.xhrService.call({url:"/api/RealEstate/Search",method:T.n.post,body:e}).pipe((0,p.U)(n=>n))}getRealEstateProperties(e){return this.xhrService.call({url:`api/Property/GetRealEstateProperties/${e}`,method:T.n.get,body:{}}).pipe((0,p.U)(n=>n))}getRealEstateOwner(e){return this.xhrService.call({url:`api/RealEstateOwner/Get/${e}`,method:T.n.get,body:{}}).pipe((0,p.U)(n=>n))}createContract(e){return this.xhrService.call({url:"api/Contract/Create",method:T.n.post,body:e}).pipe((0,p.U)(n=>n))}searchContracts(e){return this.xhrService.call({url:"api/Contract/SearchContract",method:T.n.post,body:e}).pipe((0,p.U)(n=>n))}deleteContract(e){return this.xhrService.call({url:`api/Contract/Delete/${e}`,method:T.n.delete,body:{}}).pipe((0,p.U)(n=>n))}}return o.\u0275fac=function(e){return new(e||o)(t.LFG(k.d))},o.\u0275prov=t.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})(),R=(()=>{class o{constructor(e){this.contractsService=e}createContract(e){return this.contractsService.createContract(e).pipe((0,p.U)(n=>n))}searchRealEstate(e){return this.contractsService.searchRealEstate(e).pipe((0,p.U)(n=>n))}searchContracts(e){return this.contractsService.searchContracts(e).pipe((0,p.U)(n=>n))}getRealEstateProperties(e){return this.contractsService.getRealEstateProperties(e).pipe((0,p.U)(n=>n))}getRealEstateOwner(e){return this.contractsService.getRealEstateOwner(e).pipe((0,p.U)(n=>n))}deleteContract(e){return this.contractsService.deleteContract(e).pipe((0,p.U)(n=>n))}}return o.\u0275fac=function(e){return new(e||o)(t.LFG(V))},o.\u0275prov=t.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();var S=l(629),G=l(2289),F=l(5412),j=l(6892),W=l(4081),U=l(8425),w=l(8952),$=l(3496),K=l(8412),M=l(9383);const q=function(o,r){return{start:o,end:r}};function H(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"locale-date-picker",38),t.NdJ("valueChanges",function(a){t.CHM(e);const i=t.oxw();return t.KtG(i.onChange(a))}),t.qZA()}if(2&o){const e=t.oxw();t.Q6J("label","LABELS.FORM.RENTAL_PERIOD")("FormControl",t.WLB(3,q,e.formControl("contractDuration","startDate"),e.formControl("contractDuration","endDate")))("isArabicDatePicker",!0)}}function z(o,r){if(1&o&&t._UZ(0,"locale-date-picker",39),2&o){const e=t.oxw();t.Q6J("label","CONTRACTS.CONTRACT_DURATION")("FormControl",t.WLB(3,q,e.formControl("contractDuration","startDate"),e.formControl("contractDuration","endDate")))("isArabicDatePicker",!1)}}function X(o,r){if(1&o&&(t.TgZ(0,"div",40)(1,"p"),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.TgZ(4,"div",41)(5,"div")(6,"span"),t._uU(7),t.ALo(8,"translate"),t.qZA(),t.TgZ(9,"span"),t._uU(10),t.qZA()(),t.TgZ(11,"div")(12,"span"),t._uU(13),t.ALo(14,"translate"),t.qZA(),t.TgZ(15,"span"),t._uU(16),t.qZA()(),t.TgZ(17,"div")(18,"span"),t._uU(19),t.ALo(20,"translate"),t.qZA(),t.TgZ(21,"span"),t._uU(22),t.qZA()()()()),2&o){const e=t.oxw();t.xp6(2),t.hij("",t.lcZ(3,7,"LABELS.RENTAL_PERIOD_AD")," : "),t.xp6(5),t.hij(" ",t.lcZ(8,9,"LABELS.YEARS")," "),t.xp6(3),t.hij(" ",e.calculatedContractDuration.years," "),t.xp6(3),t.hij(" ",t.lcZ(14,11,"LABELS.MONTHS")," "),t.xp6(3),t.hij(" ",e.calculatedContractDuration.months," "),t.xp6(3),t.hij(" ",t.lcZ(20,13,"LABELS.DAYS")," "),t.xp6(3),t.hij(" ",e.calculatedContractDuration.days," ")}}function tt(o,r){if(1&o&&t._UZ(0,"locale-date-picker",39),2&o){const e=t.oxw();t.Q6J("label","LABELS.FORM.DATE_OF_BIRTH")("FormControl",e.formControl("contractParties","tenantBirthDay"))("isArabicDatePicker",!0)}}function et(o,r){if(1&o&&t._UZ(0,"locale-date-picker",39),2&o){const e=t.oxw();t.Q6J("label","LABELS.FORM.DATE_OF_BIRTH")("FormControl",e.formControl("contractParties","tenantBirthDay"))("isArabicDatePicker",!1)}}function nt(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"form-input",20),t.NdJ("valueChanges",function(){t.CHM(e);const a=t.oxw(2);return t.KtG(a.onTotalValueChange())}),t.qZA()}if(2&o){const e=t.oxw(2);t.Q6J("label","CONTRACTS.ELECTRICITY_FIXED_FEES")("type",e.InputTypes.NUMBER)("FormControl",e.formControl("financialDetails","electricityFixedFees"))}}function ot(o,r){if(1&o&&t._UZ(0,"form-input",17),2&o){const e=t.oxw(2);t.Q6J("label","CONTRACTS.ELECTRICITY_CONSUMPTION")("type",e.InputTypes.NUMBER)("FormControl",e.formControl("financialDetails","electricityConsumption"))}}function at(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"form-input",20),t.NdJ("valueChanges",function(){t.CHM(e);const a=t.oxw(2);return t.KtG(a.onTotalValueChange())}),t.qZA()}if(2&o){const e=t.oxw(2);t.Q6J("label","CONTRACTS.GAS_FIXED_FEES")("type",e.InputTypes.NUMBER)("FormControl",e.formControl("financialDetails","gasFixedFees"))}}function rt(o,r){if(1&o&&t._UZ(0,"form-input",17),2&o){const e=t.oxw(2);t.Q6J("label","CONTRACTS.GAS_CONSUMPTION")("type",e.InputTypes.NUMBER)("FormControl",e.formControl("financialDetails","gasConsumption"))}}function it(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"form-input",20),t.NdJ("valueChanges",function(){t.CHM(e);const a=t.oxw(2);return t.KtG(a.onTotalValueChange())}),t.qZA()}if(2&o){const e=t.oxw(2);t.Q6J("label","CONTRACTS.WATER_FIXED_FEES")("type",e.InputTypes.NUMBER)("FormControl",e.formControl("financialDetails","waterFixedFees"))}}function lt(o,r){if(1&o&&t._UZ(0,"form-input",17),2&o){const e=t.oxw(2);t.Q6J("label","CONTRACTS.WATER_CONSUMPTION")("type",e.InputTypes.NUMBER)("FormControl",e.formControl("financialDetails","waterConsumption"))}}const P=function(o){return{key:1,value:o}},Z=function(o){return{key:2,value:o}},v=function(o,r){return[o,r]};function ct(o,r){if(1&o){const e=t.EpF();t.ynx(0),t.TgZ(1,"h6"),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.TgZ(4,"div",12)(5,"div",24)(6,"form-input",42),t.NdJ("valueChanges",function(a){t.CHM(e);const i=t.oxw();return t.KtG(i.onFeesValueChange(a,i.formControl("financialDetails","electricityFixedFees"),i.formControl("financialDetails","electricityConsumption")))}),t.ALo(7,"translate"),t.ALo(8,"translate"),t.ALo(9,"translate"),t.qZA()(),t.TgZ(10,"div",8),t.YNc(11,nt,1,3,"form-input",43),t.YNc(12,ot,1,3,"form-input",44),t.qZA()(),t.TgZ(13,"h6"),t._uU(14),t.ALo(15,"translate"),t.qZA(),t.TgZ(16,"div",12)(17,"div",24)(18,"form-input",42),t.NdJ("valueChanges",function(a){t.CHM(e);const i=t.oxw();return t.KtG(i.onFeesValueChange(a,i.formControl("financialDetails","gasFixedFees"),i.formControl("financialDetails","gasConsumption")))}),t.ALo(19,"translate"),t.ALo(20,"translate"),t.ALo(21,"translate"),t.qZA()(),t.TgZ(22,"div",8),t.YNc(23,at,1,3,"form-input",43),t.YNc(24,rt,1,3,"form-input",44),t.qZA()(),t.TgZ(25,"h6"),t._uU(26),t.ALo(27,"translate"),t.qZA(),t.TgZ(28,"div",12)(29,"div",24)(30,"form-input",42),t.NdJ("valueChanges",function(a){t.CHM(e);const i=t.oxw();return t.KtG(i.onFeesValueChange(a,i.formControl("financialDetails","waterFixedFees"),i.formControl("financialDetails","waterConsumption")))}),t.ALo(31,"translate"),t.ALo(32,"translate"),t.ALo(33,"translate"),t.qZA()(),t.TgZ(34,"div",8),t.YNc(35,it,1,3,"form-input",43),t.YNc(36,lt,1,3,"form-input",44),t.qZA()(),t.BQk()}if(2&o){const e=t.oxw();t.xp6(2),t.hij("",t.lcZ(3,21,"CONTRACTS.ELECTRICITY_FEES"),": "),t.xp6(4),t.Q6J("label",t.lcZ(7,23,"CONTRACTS.ELECTRICITY_FEES"))("type",e.InputTypes.RADIO)("radioOptions",t.WLB(49,v,t.VKq(45,P,t.lcZ(8,25,"CONTRACTS.FIXED_AMOUNT")),t.VKq(47,Z,t.lcZ(9,27,"CONTRACTS.CONSUMPTION"))))("FormControl",e.formControl("financialDetails","selectedElectricityOption")),t.xp6(5),t.Q6J("ngIf",1===e.formControl("financialDetails","selectedElectricityOption").value),t.xp6(1),t.Q6J("ngIf",2===e.formControl("financialDetails","selectedElectricityOption").value),t.xp6(2),t.hij("",t.lcZ(15,29,"CONTRACTS.GAS_FEES"),": "),t.xp6(4),t.Q6J("label",t.lcZ(19,31,"CONTRACTS.GAS_FIXED_FEES"))("type",e.InputTypes.RADIO)("radioOptions",t.WLB(56,v,t.VKq(52,P,t.lcZ(20,33,"CONTRACTS.FIXED_AMOUNT")),t.VKq(54,Z,t.lcZ(21,35,"CONTRACTS.CONSUMPTION"))))("FormControl",e.formControl("financialDetails","selectedGasOption")),t.xp6(5),t.Q6J("ngIf",1===e.formControl("financialDetails","selectedGasOption").value),t.xp6(1),t.Q6J("ngIf",2===e.formControl("financialDetails","selectedGasOption").value),t.xp6(2),t.hij("",t.lcZ(27,37,"CONTRACTS.WATER_FEES"),": "),t.xp6(4),t.Q6J("label",t.lcZ(31,39,"CONTRACTS.WATER_FEES"))("type",e.InputTypes.RADIO)("radioOptions",t.WLB(63,v,t.VKq(59,P,t.lcZ(32,41,"CONTRACTS.FIXED_AMOUNT")),t.VKq(61,Z,t.lcZ(33,43,"CONTRACTS.CONSUMPTION"))))("FormControl",e.formControl("financialDetails","selectedWaterOption")),t.xp6(5),t.Q6J("ngIf",1===e.formControl("financialDetails","selectedWaterOption").value),t.xp6(1),t.Q6J("ngIf",2===e.formControl("financialDetails","selectedWaterOption").value)}}function st(o,r){1&o&&(t.TgZ(0,"div",45),t._UZ(1,"i",46),t.TgZ(2,"p",47),t._uU(3),t.ALo(4,"translate"),t.qZA()()),2&o&&(t.xp6(3),t.Oqu(t.lcZ(4,1,"LABELS.FORM.VALIDATIONS.COMMISSION_CAN_NOT_EXCEED")))}function pt(o,r){if(1&o&&(t.TgZ(0,"tr")(1,"td"),t._uU(2),t.ALo(3,"date"),t.qZA(),t.TgZ(4,"td"),t._uU(5),t.ALo(6,"date"),t.qZA(),t.TgZ(7,"td"),t._uU(8),t.ALo(9,"translate"),t.qZA()()),2&o){const e=r.$implicit;t.xp6(2),t.Oqu(t.xi3(3,4,e.issuingDate,"yyyy-MM-dd")),t.xp6(3),t.Oqu(t.xi3(6,7,e.dueDate,"yyyy-MM-dd")),t.xp6(3),t.AsE("",+(null==e.totalInvoiceValue?null:e.totalInvoiceValue.toFixed(2))," ",t.lcZ(9,10,"LABELS.SAR")," ")}}function dt(o,r){if(1&o&&(t.TgZ(0,"div",48)(1,"table")(2,"tr")(3,"th"),t._uU(4),t.ALo(5,"translate"),t.qZA(),t.TgZ(6,"th"),t._uU(7),t.ALo(8,"translate"),t.qZA(),t.TgZ(9,"th"),t._uU(10),t.ALo(11,"translate"),t.qZA()(),t.YNc(12,pt,10,12,"tr",49),t.qZA()()),2&o){const e=t.oxw();t.xp6(4),t.hij(" ",t.lcZ(5,4,"PROPERTY.ISSUING_DATE")," "),t.xp6(3),t.hij(" ",t.lcZ(8,6,"CONTRACTS.DUE_DATE")," "),t.xp6(3),t.Oqu(t.lcZ(11,8,"CONTRACTS.INVOICE_VALUE")),t.xp6(2),t.Q6J("ngForOf",e.installmentPlanTable)}}function ut(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"button",50),t.NdJ("click",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.handleBack())}),t._uU(1),t.ALo(2,"translate"),t.qZA()}2&o&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"ACTIONS.BACK")," "))}function Ct(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"button",51),t.NdJ("click",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.handleNext())}),t._uU(1),t.ALo(2,"translate"),t.qZA()}2&o&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"ACTIONS.NEXT")," "))}const E=function(o){return{list:o,key:"id",value:"name"}},gt=function(o){return{list:o,key:"id",value:"propertyNumber"}},mt=function(o,r){return{checked:!0,key:o,value:r}},x=function(o,r){return{key:o,value:r}},_t=function(o,r,e,n){return[o,r,e,n]};let J=(()=>{class o{constructor(e,n,a,i,s,d,m,C,g){this.fb=e,this.contractsLogicService=n,this.translationService=a,this.dialog=s,this.toastrService=d,this.activatedRoute=m,this.router=C,this.lookupsService=g,this.selectedIndex=0,this.subs=new Q.t,this.editMode=!1,this.installmentPlanTable=[],this.addEditContract=this.fb.group({contractDuration:this.fb.group({startDate:["",[c.kI.required]],endDate:["",[c.kI.required]],rentalperiod:[null]}),propertyUnitDetails:this.fb.group({realEstateUseId:[null,[c.kI.required]],realEstateTypeId:[null,[c.kI.required]],realEstateId:[null,[c.kI.required]],propertyId:[null,[c.kI.required]]}),contractParties:this.fb.group({name:[""],nationalId:[null],tenantName:["",[c.kI.required]],tenantNationalId:[null,[c.kI.required,c.kI.pattern("^[0-9]{10}$")]],tenantBirthDay:["",[c.kI.required]],tenantTelephone:[null,[c.kI.required,c.kI.pattern("^[0-9]{10}$")]],email:["",[c.kI.required,c.kI.email]]}),financialDetails:this.fb.group({annualRentalFees:[null,[c.kI.required]],electricityFixedFees:[null],services:[!1],electricityConsumption:[null],selectedElectricityOption:[null],selectedGasOption:[null],selectedWaterOption:[null],gasFixedFees:[null],gasConsumption:[null],waterFixedFees:[null],waterConsumption:[null],paymentWay:[1,[c.kI.required]],totalValue:[null],insuranceAmount:[null,[c.kI.required]],commissionAmount:[null,[c.kI.required]]},{validators:(0,B.y)("commissionAmount","annualRentalFees")})}),this.stepperOrientation=i.observe("(min-width: 800px)").pipe((0,p.U)(({matches:u})=>u?"horizontal":"vertical"))}ngOnInit(){this.realestateId=+this.activatedRoute.snapshot.params.id,this.editMode=!!this.realestateId,this.subs.add=this.translationService.currentLanguage$.subscribe(e=>{this.currentLang=e,this.propertyTypes$=this.lookupsService.getPropertyLookup("RealEstateType").pipe((0,h.d)(1)),this.propertyUsageTypes$=this.lookupsService.getPropertyLookup("RealEstateUse").pipe((0,h.d)(1))})}onChange(e){this.calculatedContractDuration=null,e.endValue&&(this.calculatedContractDuration=this.getDateDuration(new Date(e.startValue),new Date(e.endValue)),console.log(this.calculatedContractDuration))}getDateDuration(e,n){const a=e.getFullYear(),i=e.getMonth(),s=e.getDate(),d=n.getFullYear(),m=n.getMonth();let g=d-a,u=m-i,O=n.getDate()-s;const Nt=Math.round(Math.abs((n.getTime()-e.getTime())/864e5));return O<0&&(O+=new Date(d,m+1,0).getDate(),u--),u<0&&(u+=12,g--),{years:g,months:u,days:O,diffInDays:Nt}}onPropertyTypeChange(e){this.formControl("propertyUnitDetails","realEstateId").reset(),this.formControl("propertyUnitDetails","propertyId").reset();const n={realEstateTypeId:this.formControl("propertyUnitDetails","realEstateTypeId").value,realEstateUseId:this.formControl("propertyUnitDetails","realEstateUseId").value};this.realEstateOptions$=this.contractsLogicService.searchRealEstate(n).pipe((0,h.d)(1))}onRealEstateChange(e){this.formControl("propertyUnitDetails","propertyId").reset(),this.subs.add=this.realEstateOptions$.subscribe(n=>this.realEstateName=n.find(a=>a.id===e.event.value).name),this.propertiesOptions$=this.contractsLogicService.getRealEstateProperties(e.event.value).pipe((0,h.d)(1)),this.contractsLogicService.getRealEstateOwner(e.event.value).subscribe(n=>{this.formControl("contractParties","name").setValue(n.name),this.formControl("contractParties","nationalId").setValue(n.ownerNationalId)})}onPropertyChange(e){this.subs.add=this.propertiesOptions$.subscribe(n=>this.unitNumber=+n.find(a=>a.id===e.event.value).propertyNumber)}onServicesChange(e){this.formControl("financialDetails","selectedGasOption").reset(),this.formControl("financialDetails","selectedElectricityOption").reset(),this.formControl("financialDetails","selectedWaterOption").reset(),this.formControl("financialDetails","electricityFixedFees").reset(),this.formControl("financialDetails","electricityConsumption").reset(),this.formControl("financialDetails","gasFixedFees").reset(),this.formControl("financialDetails","gasConsumption").reset(),this.formControl("financialDetails","waterFixedFees").reset(),this.formControl("financialDetails","waterConsumption").reset()}onFeesValueChange(e,n,a){1===e?this.setControlsValiditions(n,a):this.setControlsValiditions(a,n)}setControlsValiditions(e,n){e.addValidators([c.kI.required]),n.removeValidators([c.kI.required]),e.updateValueAndValidity(),n.updateValueAndValidity()}onTotalValueChange(){const e=this.formControl("financialDetails","gasFixedFees").value+this.formControl("financialDetails","electricityFixedFees").value+this.formControl("financialDetails","waterFixedFees").value+this.formControl("financialDetails","annualRentalFees").value;this.formControl("financialDetails","totalValue").setValue(e)}generateInstallmentPlanTable(e,n,a,i){const s=[];let C,g,u,d=new Date(e),m=new Date(e.getTime()+864e6);i===f.Monthly?(g=12,u=3e4,C=(n+a)/12):i===f.Quarterly?(g=4,u=9e4,C=(n+a)/4):i===f.SemiAnnual?(g=2,u=182e3,C=(n+a)/2):(g=1,u=365e3,C=n+a),s.push({issuingDate:d,dueDate:m,totalInvoiceValue:C,feesInvoiceValue:0,rentInvoiceValue:0});for(let O=1;O<g;O++)d=new Date(m.getTime()+86400*u),m=new Date(d.getTime()+864e6),s.push({issuingDate:d,dueDate:m,totalInvoiceValue:C,feesInvoiceValue:0,rentInvoiceValue:0});return console.log(s),s}onSelection(e){this.selectedIndex=e.selectedIndex,console.log(this.selectedIndex),4===this.selectedIndex&&this.formControl("contractDuration","startDate")?.value&&(this.installmentPlanTable=this.generateInstallmentPlanTable(new Date(this.formControl("contractDuration","startDate")?.value),this.formControl("financialDetails","annualRentalFees").value,this.formControl("financialDetails","gasFixedFees").value+this.formControl("financialDetails","electricityFixedFees").value+this.formControl("financialDetails","waterFixedFees").value,this.formControl("financialDetails","paymentWay").value))}handleNext(){this.selectedIndex<5&&this.selectedIndex++}handleBack(){this.selectedIndex>0&&this.selectedIndex--}formControl(e,n){return this.addEditContract?.get(e)?.get(n)}formGroup(e){return this.addEditContract?.get(e)}onAddContract(e){console.log(e),this.contractsLogicService.createContract({startDate:e.value.contractDuration.startDate,endDate:e.value.contractDuration.endDate,rentalperiod:this.calculatedContractDuration.diffInDays,annualRentalFees:e.value.financialDetails.annualRentalFees,electricityFixedFees:e.value.financialDetails.electricityFixedFees,electricityConsumption:e.value.financialDetails.electricityFixedFees,gasFixedFees:e.value.financialDetails.gasFixedFees,gasConsumption:e.value.financialDetails.gasConsumption,waterFixedFees:e.value.financialDetails.waterFixedFees,waterConsumption:e.value.financialDetails.waterConsumption,totalValue:e.value.financialDetails.totalValue,insuranceAmount:e.value.financialDetails.insuranceAmount,commissionAmount:e.value.financialDetails.commissionAmount,paymentWay:e.value.financialDetails.paymentWay,contractType:y.Commercial,totalTaxesAmount:50,propertyId:e.value.propertyUnitDetails.propertyId,installment:this.installmentPlanTable,tenantData:{name:e.value.contractParties.name,tenantNationalId:e.value.contractParties.tenantNationalId,telephone:e.value.contractParties.tenantTelephone,birthDay:e.value.contractParties.tenantBirthDay,email:e.value.contractParties.email}}).subscribe(a=>{this.toastrService.showToastr("Contract Created successfully",L.V.success),this.router.navigateByUrl("/contracts")},()=>{this.toastrService.showToastr("An error occured when executing the create statement ,try again !",L.V.error)})}editRealEstate(){}get InputTypes(){return I.o}get PaymentWay(){return f}get Lang(){return D.U}ngOnDestroy(){this.subs.unsubscribe()}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(c.qu),t.Y36(R),t.Y36(S.D),t.Y36(G.Yg),t.Y36(F.uw),t.Y36(j._),t.Y36(A.gz),t.Y36(A.F0),t.Y36(W.K))},o.\u0275cmp=t.Xpm({type:o,selectors:[["add-contract"]],decls:169,vars:216,consts:[["RtlDir","",1,"add-edit-property"],[1,"content-wrapper"],["autocomplete","off",3,"formGroup","ngSubmit"],["RtlDir","",1,"form-stepper",3,"orientation","selectedIndex","selectionChange"],[3,"label","stepControl"],["autocomplete","off",3,"formGroup"],[1,"property-tab"],[1,"form-wrapper","mt-5"],[1,"form-control-wrapper"],[3,"label","FormControl","isArabicDatePicker","valueChanges",4,"ngIf"],[3,"label","FormControl","isArabicDatePicker",4,"ngIf"],["class","duration-container",4,"ngIf"],[1,"form-row"],[3,"label","type","selectOptions","FormControl"],[3,"label","type","selectOptions","FormControl","selectedOption"],[3,"label","type","isReadonly","FormControl"],[3,"label","type","FormControl","isReadonly"],[3,"label","type","FormControl"],[3,"label","iconClass","type","FormControl","valueChanges"],[1,"form-toggle-wrapper"],[3,"label","type","FormControl","valueChanges"],[4,"ngIf"],[1,"font-weight-bold"],[1,"mt-4","mb-0"],[1,"form-radio-wrapper"],[3,"label","type","radioOptions","FormControl"],[3,"label","type","FormControl","isReadonly","iconClass"],[3,"label","type","FormControl","iconClass"],["class","error-message",4,"ngIf"],[1,"details-container"],[1,"details-row"],[1,"details-col"],["class","details-container mt-3",4,"ngIf"],[1,"add-edit-actions","mt-1"],["type","button",1,"ac-btn","btn-outlined"],["type","button","class","ac-btn btn-outlined",3,"click",4,"ngIf"],["type","button","class","ac-btn btn-fill",3,"click",4,"ngIf"],["type","submit",1,"ac-btn","btn-outlined",3,"disabled"],[3,"label","FormControl","isArabicDatePicker","valueChanges"],[3,"label","FormControl","isArabicDatePicker"],[1,"duration-container"],[1,"duration-wrapper"],[3,"label","type","radioOptions","FormControl","valueChanges"],[3,"label","type","FormControl","valueChanges",4,"ngIf"],[3,"label","type","FormControl",4,"ngIf"],[1,"error-message"],[1,"mat-error","fa-solid","fa-xmark"],[1,"mat-error"],[1,"details-container","mt-3"],[4,"ngFor","ngForOf"],["type","button",1,"ac-btn","btn-outlined",3,"click"],["type","button",1,"ac-btn","btn-fill",3,"click"]],template:function(e,n){if(1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"form",2),t.NdJ("ngSubmit",function(){return n.onAddContract(n.addEditContract)}),t.TgZ(3,"mat-stepper",3),t.NdJ("selectionChange",function(i){return n.onSelection(i)}),t.ALo(4,"async"),t.TgZ(5,"mat-step",4),t.ALo(6,"translate"),t.TgZ(7,"form",5)(8,"div",6)(9,"h4"),t._uU(10),t.ALo(11,"translate"),t.qZA(),t.TgZ(12,"div",7)(13,"div",8),t.YNc(14,H,1,6,"locale-date-picker",9),t.YNc(15,z,1,6,"locale-date-picker",10),t.YNc(16,X,23,15,"div",11),t.qZA()()()()(),t.TgZ(17,"mat-step",4),t.ALo(18,"translate"),t.TgZ(19,"form",5)(20,"div",6)(21,"h4"),t._uU(22),t.ALo(23,"translate"),t.qZA(),t.TgZ(24,"div",7)(25,"div",12)(26,"div",8),t._UZ(27,"form-input",13),t.ALo(28,"translate"),t.ALo(29,"async"),t.qZA(),t.TgZ(30,"div",8)(31,"form-input",14),t.NdJ("selectedOption",function(i){return n.onPropertyTypeChange(i)}),t.ALo(32,"translate"),t.ALo(33,"async"),t.qZA()()(),t.TgZ(34,"div",12)(35,"div",8)(36,"form-input",14),t.NdJ("selectedOption",function(i){return n.onRealEstateChange(i)}),t.ALo(37,"translate"),t.ALo(38,"async"),t.qZA()(),t.TgZ(39,"div",8)(40,"form-input",14),t.NdJ("selectedOption",function(i){return n.onPropertyChange(i)}),t.ALo(41,"translate"),t.ALo(42,"async"),t.qZA()()()()()()(),t.TgZ(43,"mat-step",4),t.ALo(44,"translate"),t.TgZ(45,"form",5)(46,"div",6)(47,"h4"),t._uU(48),t.ALo(49,"translate"),t.qZA(),t.TgZ(50,"div",7)(51,"h6"),t._uU(52),t.ALo(53,"translate"),t.qZA(),t.TgZ(54,"div",12)(55,"div",8),t._UZ(56,"form-input",15),t.qZA(),t.TgZ(57,"div",8),t._UZ(58,"form-input",16),t.qZA()(),t.TgZ(59,"h6"),t._uU(60),t.ALo(61,"translate"),t.qZA(),t.TgZ(62,"div",12)(63,"div",8),t._UZ(64,"form-input",17),t.qZA(),t.TgZ(65,"div",8),t._UZ(66,"form-input",17),t.qZA()(),t.TgZ(67,"div",12)(68,"div",8),t.YNc(69,tt,1,3,"locale-date-picker",10),t.YNc(70,et,1,3,"locale-date-picker",10),t.qZA(),t.TgZ(71,"div",8),t._UZ(72,"form-input",17),t.qZA()(),t.TgZ(73,"div",8),t._UZ(74,"form-input",17),t.qZA()()()()(),t.TgZ(75,"mat-step",4),t.ALo(76,"translate"),t.TgZ(77,"form",5)(78,"div",6)(79,"h4"),t._uU(80),t.ALo(81,"translate"),t.qZA(),t.TgZ(82,"div",7)(83,"div",8)(84,"form-input",18),t.NdJ("valueChanges",function(){return n.onTotalValueChange()}),t.qZA()(),t.TgZ(85,"div",19)(86,"form-input",20),t.NdJ("valueChanges",function(i){return n.onServicesChange(i)}),t.ALo(87,"translate"),t.qZA()(),t.YNc(88,ct,37,66,"ng-container",21),t.TgZ(89,"h5",22),t._uU(90),t.ALo(91,"translate"),t.qZA(),t.TgZ(92,"h6",23),t._uU(93),t.ALo(94,"translate"),t.qZA(),t.TgZ(95,"div",24),t._UZ(96,"form-input",25),t.ALo(97,"translate"),t.ALo(98,"translate"),t.ALo(99,"translate"),t.ALo(100,"translate"),t.ALo(101,"translate"),t.qZA(),t.TgZ(102,"div",8),t._UZ(103,"form-input",26),t.qZA(),t.TgZ(104,"div",8),t._UZ(105,"form-input",27),t.qZA(),t.TgZ(106,"div",8),t._UZ(107,"form-input",17),t.YNc(108,st,5,3,"div",28),t.qZA()()()()(),t.TgZ(109,"mat-step",4),t.ALo(110,"translate"),t.TgZ(111,"div",6)(112,"form",5)(113,"h4"),t._uU(114),t.ALo(115,"translate"),t.qZA(),t.TgZ(116,"div",7)(117,"div",29)(118,"div",30)(119,"div",31)(120,"span"),t._uU(121),t.ALo(122,"translate"),t.qZA(),t.TgZ(123,"span"),t._uU(124),t.ALo(125,"date"),t.qZA()(),t.TgZ(126,"div",31)(127,"span"),t._uU(128),t.ALo(129,"translate"),t.qZA(),t.TgZ(130,"span"),t._uU(131),t.ALo(132,"date"),t.qZA()(),t.TgZ(133,"div",31)(134,"span"),t._uU(135),t.ALo(136,"translate"),t.qZA(),t.TgZ(137,"span"),t._uU(138),t.qZA()()(),t.TgZ(139,"div",30)(140,"div",31)(141,"span"),t._uU(142),t.ALo(143,"translate"),t.qZA(),t.TgZ(144,"span"),t._uU(145),t.qZA()(),t.TgZ(146,"div",31)(147,"span"),t._uU(148),t.ALo(149,"translate"),t.qZA(),t.TgZ(150,"span"),t._uU(151),t.qZA()(),t.TgZ(152,"div",31)(153,"span"),t._uU(154),t.ALo(155,"translate"),t.qZA(),t.TgZ(156,"span"),t._uU(157),t.qZA()()()(),t.YNc(158,dt,13,10,"div",32),t.qZA()()()()(),t.TgZ(159,"div",33)(160,"div")(161,"button",34),t._uU(162),t.ALo(163,"translate"),t.qZA(),t.YNc(164,ut,3,3,"button",35),t.YNc(165,Ct,3,3,"button",36),t.TgZ(166,"button",37),t._uU(167),t.ALo(168,"translate"),t.qZA()()()()()()),2&e){let a,i,s,d;t.xp6(2),t.Q6J("formGroup",n.addEditContract),t.xp6(1),t.Q6J("orientation",t.lcZ(4,111,n.stepperOrientation))("selectedIndex",n.selectedIndex),t.xp6(2),t.Q6J("label",t.lcZ(6,113,"CONTRACTS.CONTRACT_DURATION"))("stepControl",n.formGroup("contractDuration")),t.xp6(2),t.Q6J("formGroup",n.formGroup("contractDuration")),t.xp6(3),t.Oqu(t.lcZ(11,115,"CONTRACTS.ADD_CONTRACT_DURATION")),t.xp6(4),t.Q6J("ngIf",n.currentLang===n.Lang.arabic),t.xp6(1),t.Q6J("ngIf",n.currentLang!==n.Lang.arabic),t.xp6(1),t.Q6J("ngIf",n.calculatedContractDuration),t.xp6(1),t.Q6J("label",t.lcZ(18,117,"CONTRACTS.PROPERTY_AND_UNITS"))("stepControl",n.formGroup("propertyUnitDetails")),t.xp6(2),t.Q6J("formGroup",n.formGroup("propertyUnitDetails")),t.xp6(3),t.Oqu(t.lcZ(23,119,"CONTRACTS.PROPERTY_AND_UNITS")),t.xp6(5),t.Q6J("label",t.lcZ(28,121,"PROPERTY.PROPERTY_USAGE"))("type",n.InputTypes.SELECT)("selectOptions",t.VKq(191,E,t.lcZ(29,123,n.propertyUsageTypes$)))("FormControl",n.formControl("propertyUnitDetails","realEstateUseId")),t.xp6(4),t.Q6J("label",t.lcZ(32,125,"PROPERTY.PROPERTY_TYPE"))("type",n.InputTypes.SELECT)("selectOptions",t.VKq(193,E,t.lcZ(33,127,n.propertyTypes$)))("FormControl",n.formControl("propertyUnitDetails","realEstateTypeId")),t.xp6(5),t.Q6J("label",t.lcZ(37,129,"CONTRACTS.CHOOSE_THE_PROPERTY"))("type",n.InputTypes.SELECT)("selectOptions",t.VKq(195,E,t.lcZ(38,131,n.realEstateOptions$)))("FormControl",n.formControl("propertyUnitDetails","realEstateId")),t.xp6(4),t.Q6J("label",t.lcZ(41,133,"CONTRACTS.CHOOSE_THE_UNIT"))("type",n.InputTypes.SELECT)("selectOptions",t.VKq(197,gt,t.lcZ(42,135,n.propertiesOptions$)))("FormControl",n.formControl("propertyUnitDetails","propertyId")),t.xp6(3),t.Q6J("label",t.lcZ(44,137,"CONTRACTS.CONTRACT_PARTIES"))("stepControl",n.formGroup("contractParties")),t.xp6(2),t.Q6J("formGroup",n.formGroup("contractParties")),t.xp6(3),t.Oqu(t.lcZ(49,139,"CONTRACTS.CONTRACT_PARTIES")),t.xp6(4),t.hij("",t.lcZ(53,141,"LABELS.OWNER"),": "),t.xp6(4),t.Q6J("label","LABELS.FORM.FULL_NAME")("type",n.InputTypes.TEXT)("isReadonly",!0)("FormControl",n.formControl("contractParties","name")),t.xp6(2),t.Q6J("label","PROPERTY.NATIONAL_ID")("type",n.InputTypes.TEXT)("FormControl",n.formControl("contractParties","nationalId"))("isReadonly",!0),t.xp6(2),t.hij("",t.lcZ(61,143,"CONTRACTS.TENANT"),": "),t.xp6(4),t.Q6J("label","CONTRACTS.TENANT_NAME")("type",n.InputTypes.TEXT)("FormControl",n.formControl("contractParties","tenantName")),t.xp6(2),t.Q6J("label","PROPERTY.NATIONAL_ID")("type",n.InputTypes.NUMBER)("FormControl",n.formControl("contractParties","tenantNationalId")),t.xp6(3),t.Q6J("ngIf",n.currentLang===n.Lang.arabic),t.xp6(1),t.Q6J("ngIf",n.currentLang!==n.Lang.arabic),t.xp6(2),t.Q6J("label","LABELS.FORM.TELEPHONE")("type",n.InputTypes.NUMBER)("FormControl",n.formControl("contractParties","tenantTelephone")),t.xp6(2),t.Q6J("label","LABELS.FORM.EMAIL")("type",n.InputTypes.EMAIL)("FormControl",n.formControl("contractParties","email")),t.xp6(1),t.Q6J("label",t.lcZ(76,145,"CONTRACTS.FINANCIAL_DATA"))("stepControl",n.formGroup("financialDetails")),t.xp6(2),t.Q6J("formGroup",n.formGroup("financialDetails")),t.xp6(3),t.Oqu(t.lcZ(81,147,"CONTRACTS.FINANCIAL_DATA")),t.xp6(4),t.Q6J("label","CONTRACTS.ANNUAL_FEES_FOR_RENTAL")("iconClass",!0)("type",n.InputTypes.NUMBER)("FormControl",n.formControl("financialDetails","annualRentalFees")),t.xp6(2),t.Q6J("label",t.lcZ(87,149,"PROPERTY.SERVICES"))("type",n.InputTypes.TOGGLE)("FormControl",n.formControl("financialDetails","services")),t.xp6(2),t.Q6J("ngIf",n.formControl("financialDetails","services").value),t.xp6(2),t.hij("",t.lcZ(91,151,"CONTRACTS.PAYMENTS")," "),t.xp6(3),t.hij("",t.lcZ(94,153,"CONTRACTS.REPEATED_PAYMENTS"),": "),t.xp6(3),t.Q6J("label",t.lcZ(97,155,"CONTRACTS.PAYMENTS"))("type",n.InputTypes.RADIO)("radioOptions",t.l5B(211,_t,t.WLB(199,mt,n.PaymentWay.Monthly,t.lcZ(98,157,"CONTRACTS.MONTHLY")),t.WLB(202,x,n.PaymentWay.Quarterly,t.lcZ(99,159,"CONTRACTS.PER_QUARTER")),t.WLB(205,x,n.PaymentWay.SemiAnnual,t.lcZ(100,161,"CONTRACTS.HAIF_YEAR")),t.WLB(208,x,n.PaymentWay.Yearly,t.lcZ(101,163,"CONTRACTS.YEARLY"))))("FormControl",n.formControl("financialDetails","paymentWay")),t.xp6(7),t.Q6J("label","CONTRACTS.TOTAL_VALUE_OF_CONTRACT")("type",n.InputTypes.NUMBER)("FormControl",n.formControl("financialDetails","totalValue"))("isReadonly",!0)("iconClass",!0),t.xp6(2),t.Q6J("label","CONTRACTS.INSURANCE_AMOUNT")("type",n.InputTypes.NUMBER)("FormControl",n.formControl("financialDetails","insuranceAmount"))("iconClass",!0),t.xp6(2),t.Q6J("label","CONTRACTS.COMMISSION")("type",n.InputTypes.NUMBER)("FormControl",n.formControl("financialDetails","commissionAmount")),t.xp6(1),t.Q6J("ngIf",n.formControl("financialDetails","commissionAmount").touched&&n.formGroup("financialDetails").errors&&n.formGroup("financialDetails").errors.compareValuesPercentage),t.xp6(1),t.Q6J("label",t.lcZ(110,165,"CONTRACTS.CONFIRMATION"))("stepControl",n.formGroup("contractDuration")),t.xp6(3),t.Q6J("formGroup",n.formGroup("financialDetails")),t.xp6(2),t.Oqu(t.lcZ(115,167,"CONTRACTS.CONFIRMATION")),t.xp6(7),t.Oqu(t.lcZ(122,169,"LABELS.FORM.STARTING_DATE")),t.xp6(3),t.Oqu(t.xi3(125,171,null==(a=n.formControl("contractDuration","startDate"))?null:a.value,"yyyy-MM-dd")),t.xp6(4),t.Oqu(t.lcZ(129,174,"LABELS.FORM.END_DATE")),t.xp6(3),t.Oqu(t.xi3(132,176,null==(i=n.formControl("contractDuration","endDate"))?null:i.value,"yyyy-MM-dd")),t.xp6(4),t.Oqu(t.lcZ(136,179,"LABELS.OWNER_NAME")),t.xp6(3),t.hij(" ",null==(s=n.formControl("contractParties","name"))?null:s.value," "),t.xp6(4),t.Oqu(t.lcZ(143,181,"CONTRACTS.TENANT_NAME")),t.xp6(3),t.Oqu(null==(d=n.formControl("contractParties","tenantName"))?null:d.value),t.xp6(3),t.Oqu(t.lcZ(149,183,"LABELS.REAL_ESTATE_NAME")),t.xp6(3),t.hij(" ",n.realEstateName," "),t.xp6(3),t.Oqu(t.lcZ(155,185,"PROPERTY.UNIT_NUMBER")),t.xp6(3),t.hij(" ",n.unitNumber," "),t.xp6(1),t.Q6J("ngIf",n.installmentPlanTable.length>0),t.xp6(4),t.hij(" ",t.lcZ(163,187,"ACTIONS.CANCEL")," "),t.xp6(2),t.Q6J("ngIf",n.selectedIndex>0),t.xp6(1),t.Q6J("ngIf",4!==n.selectedIndex),t.xp6(1),t.Q6J("disabled",n.addEditContract.invalid),t.xp6(1),t.hij(" ",t.lcZ(168,189,"ACTIONS.SAVE")," ")}},dependencies:[_.sg,_.O5,U.C0,U.Vq,w.C,c._Y,c.JL,c.sg,$.s,K.L,_.Ov,_.uU,M.X$],styles:['.add-edit-property[_ngcontent-%COMP%]{display:grid;column-gap:15px;height:100%}.add-edit-property[_ngcontent-%COMP%]   .content-wrapper[_ngcontent-%COMP%]{margin:2%;border-radius:20px;padding:15px 20px}.add-edit-property[_ngcontent-%COMP%]   .content-wrapper[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .property-tab[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{position:relative}.add-edit-property[_ngcontent-%COMP%]   .content-wrapper[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .property-tab[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]:after{content:" ";width:91px;color:#000;background:linear-gradient(172deg,#47858b -15.74%,#4e55a2 111.09%);height:5px;position:absolute;bottom:-15px;left:3px;border-radius:8px}.add-edit-property[_ngcontent-%COMP%]   .content-wrapper[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .property-tab[_ngcontent-%COMP%]   .unit-title[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin-bottom:15px}.add-edit-property[_ngcontent-%COMP%]   .content-wrapper[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .property-tab[_ngcontent-%COMP%]   .unit-title[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{font-weight:700}.add-edit-property[_ngcontent-%COMP%]   .content-wrapper[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .property-tab[_ngcontent-%COMP%]   .unit-title[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#f44336;cursor:pointer}.add-edit-property[_ngcontent-%COMP%]   .content-wrapper[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .property-tab[_ngcontent-%COMP%]   .form-control-wrapper[_ngcontent-%COMP%]   .duration-container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-weight:700}.add-edit-property[_ngcontent-%COMP%]   .content-wrapper[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .property-tab[_ngcontent-%COMP%]   .form-control-wrapper[_ngcontent-%COMP%]   .duration-container[_ngcontent-%COMP%]   .duration-wrapper[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr 1fr;margin:16px 0;background-color:#eee;padding:10px 0;border-radius:8px}.add-edit-property[_ngcontent-%COMP%]   .content-wrapper[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .property-tab[_ngcontent-%COMP%]   .form-control-wrapper[_ngcontent-%COMP%]   .duration-container[_ngcontent-%COMP%]   .duration-wrapper[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:10px}.add-edit-property[_ngcontent-%COMP%]   .content-wrapper[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .property-tab[_ngcontent-%COMP%]   .form-control-wrapper[_ngcontent-%COMP%]   .duration-container[_ngcontent-%COMP%]   .duration-wrapper[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:first-of-type{font-weight:700}.add-edit-property[_ngcontent-%COMP%]   .content-wrapper[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .property-tab[_ngcontent-%COMP%]   .form-control-wrapper[_ngcontent-%COMP%]   .error-message[_ngcontent-%COMP%]{margin-top:-20px}.add-edit-property[_ngcontent-%COMP%]   .content-wrapper[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .property-tab[_ngcontent-%COMP%]   .unit-wrapper[_ngcontent-%COMP%]{border:1px solid #eee;padding:10px;border-radius:5px;margin-bottom:15px}.add-edit-property[_ngcontent-%COMP%]   .content-wrapper[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .property-tab[_ngcontent-%COMP%]   .form-row[_ngcontent-%COMP%]{display:grid;column-gap:15px;grid-template-columns:repeat(auto-fill,minmax(360px,1fr))}.add-edit-property[_ngcontent-%COMP%]   .content-wrapper[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .property-tab[_ngcontent-%COMP%]   .form-row.equal-columns[_ngcontent-%COMP%]{grid-template-columns:repeat(auto-fill,minmax(270px,1fr))}.add-edit-property[_ngcontent-%COMP%]   .content-wrapper[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .property-tab[_ngcontent-%COMP%]   .add-btn-wrapper[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:20%}.add-edit-property[_ngcontent-%COMP%]   .content-wrapper[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .property-tab[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]{margin-bottom:15px}.add-edit-property[_ngcontent-%COMP%]   .content-wrapper[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .property-tab[_ngcontent-%COMP%]   .form-toggle-wrapper[_ngcontent-%COMP%], .add-edit-property[_ngcontent-%COMP%]   .content-wrapper[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .property-tab[_ngcontent-%COMP%]   .form-radio-wrapper[_ngcontent-%COMP%]{align-items:center;display:flex;height:62px}.add-edit-property[_ngcontent-%COMP%]   .content-wrapper[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .property-tab[_ngcontent-%COMP%]   .details-container[_ngcontent-%COMP%]{background-color:#eee;padding:20px;border-radius:12px}.add-edit-property[_ngcontent-%COMP%]   .content-wrapper[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .property-tab[_ngcontent-%COMP%]   .details-container[_ngcontent-%COMP%]   .details-row[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.add-edit-property[_ngcontent-%COMP%]   .content-wrapper[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .property-tab[_ngcontent-%COMP%]   .details-container[_ngcontent-%COMP%]   .details-row[_ngcontent-%COMP%]:not(:last-of-type){margin-bottom:25px}.add-edit-property[_ngcontent-%COMP%]   .content-wrapper[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .property-tab[_ngcontent-%COMP%]   .details-container[_ngcontent-%COMP%]   .details-row[_ngcontent-%COMP%]   .details-col[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:15px;align-items:center}.add-edit-property[_ngcontent-%COMP%]   .content-wrapper[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .property-tab[_ngcontent-%COMP%]   .details-container[_ngcontent-%COMP%]   .details-row[_ngcontent-%COMP%]   .details-col[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:first-of-type{font-weight:700}.add-edit-property[_ngcontent-%COMP%]   .content-wrapper[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .property-tab[_ngcontent-%COMP%]   .details-container[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{width:100%}.add-edit-property[_ngcontent-%COMP%]   .content-wrapper[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .property-tab[_ngcontent-%COMP%]   .details-container[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{text-align:center}.add-edit-property[_ngcontent-%COMP%]   .content-wrapper[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .property-tab[_ngcontent-%COMP%]   .details-container[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .add-edit-property[_ngcontent-%COMP%]   .content-wrapper[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .property-tab[_ngcontent-%COMP%]   .details-container[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:10px 0}.add-edit-property[_ngcontent-%COMP%]   .content-wrapper[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .add-edit-actions[_ngcontent-%COMP%]{border-radius:9px;background-color:#fff;padding:10px 20px;display:flex;justify-content:flex-end}.add-edit-property[_ngcontent-%COMP%]   .content-wrapper[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .add-edit-actions[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{display:flex;gap:15px;background-color:#fff}.add-edit-property[_ngcontent-%COMP%]   .content-wrapper[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .add-edit-actions[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:120px}.add-edit-property.rtl[_ngcontent-%COMP%]{font-family:Cairo,sans-serif!important}.add-edit-property.rtl[_ngcontent-%COMP%]   .property-tab[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]:after{right:3px;left:unset}  .mat-stepper-horizontal,   .mat-stepper-vertical{background-color:transparent;height:95%}  .mat-stepper-horizontal.rtl,   .mat-stepper-vertical.rtl{font-family:Cairo,sans-serif!important}  .mat-stepper-horizontal.rtl .mat-horizontal-stepper-header .mat-step-icon,   .mat-stepper-vertical.rtl .mat-horizontal-stepper-header .mat-step-icon{margin-right:unset;margin-left:8px}  .mat-horizontal-stepper-header-container{gap:24px;flex-direction:column;padding:15px 0;border-radius:6px;background-color:#fff}  .mat-step-header[aria-selected=true]{background-color:#f4f4f4;border-radius:9px}  .mat-step-header{width:165px!important}  .mat-horizontal-stepper-wrapper{display:grid!important;grid-template-columns:260px calc(100% - 270px)!important;column-gap:15px!important;height:99%}  .mat-horizontal-content-container{border:1px solid #eee;border-radius:9px;padding:24px!important;background-color:#fff}  .mat-stepper-horizontal-line{display:none}  .mat-step-header:hover:not([aria-disabled]){border-radius:9px}  .mat-horizontal-stepper-content{position:relative;height:100%}']}),o})();var Y=l(9646),ft=l(2026),Tt=l(4859),b=l(8255),Ot=l(7633);function At(o,r){1&o&&(t.TgZ(0,"tr")(1,"th"),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.TgZ(4,"th"),t._uU(5),t.ALo(6,"translate"),t.qZA(),t.TgZ(7,"th"),t._uU(8),t.ALo(9,"translate"),t.qZA(),t.TgZ(10,"th"),t._uU(11),t.ALo(12,"translate"),t.qZA(),t.TgZ(13,"th"),t._uU(14),t.ALo(15,"translate"),t.qZA(),t.TgZ(16,"th"),t._uU(17),t.ALo(18,"translate"),t.qZA()()),2&o&&(t.xp6(2),t.Oqu(t.lcZ(3,6,"LABELS.OWNER_NAME")),t.xp6(3),t.Oqu(t.lcZ(6,8,"LABELS.REAL_ESTATE_NAME")),t.xp6(3),t.Oqu(t.lcZ(9,10,"CONTRACTS.TENANT_NAME")),t.xp6(3),t.Oqu(t.lcZ(12,12,"PROPERTY.UNIT_NUMBER")),t.xp6(3),t.Oqu(t.lcZ(15,14,"LABELS.CODE")),t.xp6(3),t.Oqu(t.lcZ(18,16,"ACTIONS.ACTIONS")))}function ht(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"tr")(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.TgZ(5,"td"),t._uU(6),t.qZA(),t.TgZ(7,"td"),t._uU(8),t.qZA(),t.TgZ(9,"td"),t._uU(10),t.qZA(),t.TgZ(11,"td",11)(12,"button",12),t._UZ(13,"i",13),t.qZA(),t.TgZ(14,"mat-menu",11,14)(16,"button",15),t.NdJ("click",function(){const i=t.CHM(e).$implicit,s=t.oxw(2);return t.KtG(s.handleRemoveContract(i.id))}),t._uU(17),t.ALo(18,"translate"),t.qZA()()()()}if(2&o){const e=r.$implicit,n=t.MAs(15);t.xp6(2),t.hij(" ",null==e?null:e.owner," "),t.xp6(2),t.hij(" ",null==e?null:e.realEstateName," "),t.xp6(2),t.hij(" ",null==e?null:e.tenant," "),t.xp6(2),t.hij(" ",null==e?null:e.propertyNumber," "),t.xp6(2),t.hij(" ",null==e?null:e.code," "),t.xp6(2),t.Q6J("matMenuTriggerFor",n),t.xp6(5),t.Oqu(t.lcZ(18,7,"ACTIONS.DELETE"))}}function yt(o,r){}function Mt(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"data-table",7),t.NdJ("pageChange",function(a){t.CHM(e);const i=t.oxw();return t.KtG(i.onPageChange(a))}),t.ALo(1,"async"),t.YNc(2,At,19,18,"ng-template",null,8,t.W1O),t.YNc(4,ht,19,9,"ng-template",null,9,t.W1O),t.YNc(6,yt,0,0,"ng-template",null,10,t.W1O),t.qZA()}if(2&o){const e=t.oxw();t.Q6J("dataSource",t.lcZ(1,1,e.propertyTable$))}}const Pt=function(){return["/contracts/add-contract"]},Zt=[{title:"Contracts",path:"",children:[{title:"Contracts",path:"",component:(()=>{class o{constructor(e,n,a){this.translationService=e,this.contractsLogicService=n,this.dialog=a,this.propertyTable$=(0,Y.of)({data:[],length:0,pageSize:0,pageIndex:0,emptyState:"No Data Found!"}),this.contractPagingPayload={pagedSearch:{pageIndex:1,pageSize:8}}}get InputTypes(){return I.o}ngOnInit(){this.searchContracts(),this.translationService.currentLanguage$.subscribe(e=>{this.currentLang=e})}onPageChange(e){this.contractPagingPayload.pagedSearch.pageIndex=e.pageIndex+1,this.searchContracts()}handleRemoveContract(e){return this.dialog.open(ft.$,{maxWidth:"550px",minWidth:"500px",data:{title:"ACTIONS.DELETE_CONTRACT",message:"LABELS.FORM.ARE_YOU_SURE",actionLabel:"ACTIONS.DELETE"}}).afterClosed().subscribe(i=>{if(!i)return i;this.contractsLogicService.deleteContract(e).subscribe(s=>{this.searchContracts()})})}searchContracts(){this.contractsLogicService.searchContracts(this.contractPagingPayload).subscribe(e=>{this.propertyTable$=(0,Y.of)({data:e.items,length:e.items.length,pageSize:8,pageIndex:1,emptyState:"LABELS.NO_DATA"})})}get Lang(){return D.U}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(S.D),t.Y36(R),t.Y36(F.uw))},o.\u0275cmp=t.Xpm({type:o,selectors:[["contracts-listing"]],decls:12,vars:9,consts:[[1,"page-container","contracts-listing"],[1,"page-header"],[1,"btn-wrapper"],[1,"ac-btn","btn-fill",3,"routerLink"],[1,"page-content"],[1,"table-wrapper"],["class","preview__table",3,"dataSource","pageChange",4,"ngIf"],[1,"preview__table",3,"dataSource","pageChange"],["tableHead",""],["tableRows",""],["loaderRef",""],["RtlDir",""],["mat-button","",3,"matMenuTriggerFor"],[1,"fa-solid","fa-ellipsis"],["menu","matMenu"],["mat-menu-item","","RtlDir","",3,"click"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"h4"),t._uU(3),t.ALo(4,"translate"),t.qZA(),t.TgZ(5,"div",2)(6,"button",3),t._uU(7),t.ALo(8,"translate"),t.qZA()()(),t.TgZ(9,"div",4)(10,"section",5),t.YNc(11,Mt,8,3,"data-table",6),t.qZA()()()),2&e&&(t.xp6(3),t.Oqu(t.lcZ(4,4,"LABELS.CONTRACTS")),t.xp6(3),t.Q6J("routerLink",t.DdM(8,Pt)),t.xp6(1),t.hij(" ",t.lcZ(8,6,"CONTRACTS.ADD_NEW_CONTRACT")," "),t.xp6(4),t.Q6J("ngIf",n.propertyTable$))},dependencies:[_.O5,Tt.lW,b.VK,b.OP,b.p6,w.C,Ot.Q,A.rH,_.Ov,M.X$],styles:[".table-wrapper[_ngcontent-%COMP%]{min-height:200px}"]}),o})()},{title:"Add Contract",path:"add-contract",component:J},{title:"Contract Details",path:"details/:id",component:J}]}];let vt=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[A.Bz.forChild(Zt),A.Bz]}),o})();var Et=l(2271);let xt=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[_.ez,M.aw,Et.m,vt]}),o})()}}]);